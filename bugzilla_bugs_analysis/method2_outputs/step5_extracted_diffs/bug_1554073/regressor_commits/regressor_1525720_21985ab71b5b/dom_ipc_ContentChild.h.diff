# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/ipc/ContentChild.h
# Commit: 21985ab71b5b
# Full Hash: 21985ab71b5b6f052ec26b4341db0eb47e589f32
# Author: Ryan Hunt <rhunt@eqrion.net>
# Date: 2019-05-23 15:55:11
# Regressor Bug: 1525720
# File Overlap Count: 1
# Description:
#   Bug 1525720, part 6 - Move BrowserBridgeChild creation to ContentChild. r=farre
#   
#   This makes it symmetrical to how BrowserParent is created by ContentParent.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D31436
# ==============================================================================

diff -r 420f10c25da1 -r 21985ab71b5b dom/ipc/ContentChild.h
--- a/dom/ipc/ContentChild.h	Wed May 15 12:33:42 2019 -0500
+++ b/dom/ipc/ContentChild.h	Wed Apr 24 23:52:47 2019 -0500
@@ -10,6 +10,7 @@
 #include "base/shared_memory.h"
 #include "mozilla/Atomics.h"
 #include "mozilla/Attributes.h"
+#include "mozilla/dom/BrowserBridgeChild.h"
 #include "mozilla/dom/PBrowserOrId.h"
 #include "mozilla/dom/PContentChild.h"
 #include "mozilla/dom/CPOWManagerGetter.h"
@@ -38,6 +39,7 @@
 class nsIURIClassifierCallback;
 struct LookAndFeelInt;
 class nsDocShellLoadState;
+class nsFrameLoader;
 
 namespace mozilla {
 class RemoteSpellcheckEngineChild;
@@ -77,6 +79,7 @@
 class ClonedMessageData;
 class BrowserChild;
 class GetFilesHelperChild;
+class TabContext;
 
 class ContentChild final : public PContentChild,
                            public nsIWindowProvider,
@@ -159,6 +162,10 @@
 
   static void UpdateCookieStatus(nsIChannel* aChannel);
 
+  static already_AddRefed<BrowserBridgeChild> CreateBrowser(
+      nsFrameLoader* aFrameLoader, const TabContext& aContext,
+      const nsString& aRemoteType, BrowsingContext* aBrowsingContext);
+
   mozilla::ipc::IPCResult RecvInitGMPService(
       Endpoint<PGMPServiceChild>&& aGMPService);
 
