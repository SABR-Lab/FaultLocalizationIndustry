# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/html/nsGenericHTMLFrameElement.h
# Commit: 707a48ef2338
# Full Hash: 707a48ef23385b4b143a9218fe788efcd3e1e3fc
# Author: Ryan Hunt <rhunt@eqrion.net>
# Date: 2019-05-23 15:55:11
# Regressor Bug: 1525720
# File Overlap Count: 1
# Description:
#   Bug 1525720, part 3 - Remove method to createRemoteFrameLoader from nsIMozBrowserFrame interface. r=farre
#   
#   This appears unused and adds unneeded surface area for these API's to support.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D31431
# ==============================================================================

diff -r 37fb118dac6c -r 707a48ef2338 dom/html/nsGenericHTMLFrameElement.h
--- a/dom/html/nsGenericHTMLFrameElement.h	Wed Apr 24 23:05:40 2019 -0500
+++ b/dom/html/nsGenericHTMLFrameElement.h	Wed Apr 24 23:25:56 2019 -0500
@@ -19,6 +19,7 @@
 
 namespace mozilla {
 namespace dom {
+class BrowserParent;
 template <typename>
 struct Nullable;
 class WindowProxyHolder;
@@ -90,6 +91,31 @@
                               mozilla::dom::WindowProxyHolder>& aOpenerWindow,
                           mozilla::ErrorResult& aRv);
 
+  /**
+   * Normally, a frame tries to create its frame loader when its src is
+   * modified, or its contentWindow is accessed.
+   *
+   * disallowCreateFrameLoader prevents the frame element from creating its
+   * frame loader (in the same way that not being inside a document prevents the
+   * creation of a frame loader).  allowCreateFrameLoader lifts this
+   * restriction.
+   *
+   * These methods are not re-entrant -- it is an error to call
+   * disallowCreateFrameLoader twice without first calling allowFrameLoader.
+   *
+   * It's also an error to call either method if we already have a frame loader.
+   */
+  void DisallowCreateFrameLoader();
+  void AllowCreateFrameLoader();
+
+  /**
+   * Create a remote (i.e., out-of-process) frame loader attached to the given
+   * remote tab.
+   *
+   * It is an error to call this method if we already have a frame loader.
+   */
+  void CreateRemoteFrameLoader(mozilla::dom::BrowserParent* aBrowserParent);
+
   static void InitStatics();
   static bool BrowserFramesEnabled();
 