# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/test/test_asyncopen2.html
# Commit: 74f99033251c
# Full Hash: 74f99033251cd6c36eb6b0b5a4713eb6b5c793fa
# Author: Jonathan Kingston <jkt@mozilla.com>
# Date: 2019-02-13 09:48:26
# Regressor Bug: 1520868
# File Overlap Count: 1
# Description:
#   Bug 1520868 - Replacing AsyncOpen2 with AsyncOpen always r=valentin
#   
#   Replacing js and text occurences of asyncOpen2
#   Replacing open2 with open
#   
# ==============================================================================

diff -r 3378fd5f4f22 -r 74f99033251c layout/style/test/test_asyncopen2.html
--- a/layout/style/test/test_asyncopen2.html	Tue Feb 12 17:58:19 2019 +0100
+++ /dev/null	Thu Jan 01 00:00:00 1970 +0000
@@ -1,54 +0,0 @@
-<!DOCTYPE HTML>
-<html>
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=1195173
--->
-<head>
-  <title>Bug 1195173 - Test asyncOpen2 security exception</title>
-  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
-
-  <!-- Note: the following stylesheet does not exist -->
-  <link rel="stylesheet" id="myCSS" type="text/css" href="file:///home/foo/bar.css">
-
-</head>
-<body onload="checkCSS()">
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1195173">Mozilla Bug 1195173</a>
-<p id="display"></p>
-<div id="content" style="display: none"></div>
-
-<script type="application/javascript">
-/*
- * Description of the test:
- * Accessing a stylesheet that got blocked by asyncOpen2 should
- * throw an exception.
- */
-
-SimpleTest.waitForExplicitFinish();
-
-function checkCSS()
-{
-  try {
-    // accessing tests/SimpleTest/test.css should not throw
-    var goodCSS = document.styleSheets[0].cssRules
-    ok(true, "accessing test.css should be allowed");
-  }
-  catch(e) {
-    ok(false, "accessing test.css should be allowed");
-  }
-
-  try {
-    // accessing file:///home/foo/bar.css should throw
-    var badCSS = document.styleSheets[1].cssRules
-    ok(false, "accessing bar.css should throw");
-  }
-  catch(e) {
-    ok(true, "accessing bar.css should throw");
-  }
-
-  SimpleTest.finish();
-}
-
-</script>
-</body>
-</html>