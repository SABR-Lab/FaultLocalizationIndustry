# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/test/property_database.js
# Commit: 25354cfea038
# Full Hash: 25354cfea03822ff64efeeb420e2fa4a5732eca9
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2019-06-06 09:29:49
# Regressor Bug: 1557110
# File Overlap Count: 2
# Description:
#   Bug 1557110 - Cleanup gradient parsing by removing the simple-moz-gradient parsing pref. r=dholbert
#   
#   It looks like bug 1547939 will stick, given how fast the other regressions came
#   in for bug 1337655.
#   
# ==============================================================================

diff -r c02fd9857532 -r 25354cfea038 layout/style/test/property_database.js
--- a/layout/style/test/property_database.js	Thu Jun 06 02:56:52 2019 +0000
+++ b/layout/style/test/property_database.js	Thu Jun 06 04:08:52 2019 +0000
@@ -968,74 +968,69 @@
     "-moz-radial-gradient(left calc(100px + -25%), red, blue)",
     "-moz-radial-gradient(calc(100px + -25px) top, red, blue)",
     "-moz-radial-gradient(left calc(100px + -25px), red, blue)",
+    "-moz-radial-gradient(40%, -100px -10%, red, blue)",
   );
 
-  (IsCSSPropertyPrefEnabled("layout.css.simple-moz-gradient.enabled")
-    ? validGradientAndElementValues
-    : validGradientAndElementValues).push(
-      "-moz-radial-gradient(40%, -100px -10%, red, blue)",
-    );
-
-  (IsCSSPropertyPrefEnabled("layout.css.simple-moz-gradient.enabled")
-    ? invalidGradientAndElementValues
-    : validGradientAndElementValues).push(
-      "-moz-linear-gradient(center 0%, red, blue)",
-      "-moz-linear-gradient(50% top, red, blue)",
-      "-moz-linear-gradient(50% 0%, red, blue)",
-      "-moz-linear-gradient(0 0, red, blue)",
-      "-moz-linear-gradient(20% bottom, red, blue)",
-      "-moz-linear-gradient(center 20%, red, blue)",
-      "-moz-linear-gradient(left 35px, red, blue)",
-      "-moz-linear-gradient(10% 10em, red, blue)",
-      "-moz-linear-gradient(44px top, red, blue)",
-      "-moz-linear-gradient(0px, red, blue)",
-      "-moz-linear-gradient(top left 45deg, red, blue)",
-      "-moz-linear-gradient(20% bottom -300deg, red, blue)",
-      "-moz-linear-gradient(center 20% 1.95929rad, red, blue)",
-      "-moz-linear-gradient(left 35px 30grad, red, blue)",
-      "-moz-linear-gradient(left 35px 0.1turn, red, blue)",
-      "-moz-linear-gradient(10% 10em 99999deg, red, blue)",
-      "-moz-linear-gradient(44px top -33deg, red, blue)",
-      "-moz-linear-gradient(30grad left 35px, red, blue)",
-      "-moz-linear-gradient(10deg 20px, red, blue)",
-      "-moz-linear-gradient(1turn 20px, red, blue)",
-      "-moz-linear-gradient(.414rad bottom, red, blue)",
-      "-moz-radial-gradient(top left 45deg, red, blue)",
-      "-moz-radial-gradient(20% bottom -300deg, red, blue)",
-      "-moz-radial-gradient(center 20% 1.95929rad, red, blue)",
-      "-moz-radial-gradient(left 35px 30grad, red, blue)",
-      "-moz-radial-gradient(10% 10em 99999deg, red, blue)",
-      "-moz-radial-gradient(44px top -33deg, red, blue)",
-      "-moz-radial-gradient(-33deg, red, blue)",
-      "-moz-radial-gradient(30grad left 35px, red, blue)",
-      "-moz-radial-gradient(10deg 20px, red, blue)",
-      "-moz-radial-gradient(.414rad bottom, red, blue)",
-      "-moz-radial-gradient(99deg, cover, red, blue)",
-      "-moz-radial-gradient(-1.2345rad, circle, red, blue)",
-      "-moz-radial-gradient(399grad, ellipse closest-corner, red, blue)",
-      "-moz-radial-gradient(399grad, farthest-side circle, red, blue)",
-      "-moz-radial-gradient(top left 99deg, cover, red, blue)",
-      "-moz-radial-gradient(15% 20% -1.2345rad, circle, red, blue)",
-      "-moz-radial-gradient(45px 399grad, ellipse closest-corner, red, blue)",
-      "-moz-radial-gradient(45px 399grad, farthest-side circle, red, blue)",
-      "-moz-repeating-linear-gradient(0 0, red, blue)",
-      "-moz-repeating-linear-gradient(20% bottom, red, blue)",
-      "-moz-repeating-linear-gradient(center 20%, red, blue)",
-      "-moz-repeating-linear-gradient(left 35px, red, blue)",
-      "-moz-repeating-linear-gradient(10% 10em, red, blue)",
-      "-moz-repeating-linear-gradient(44px top, red, blue)",
-      "-moz-repeating-linear-gradient(top left 45deg, red, blue)",
-      "-moz-repeating-linear-gradient(20% bottom -300deg, red, blue)",
-      "-moz-repeating-linear-gradient(center 20% 1.95929rad, red, blue)",
-      "-moz-repeating-linear-gradient(left 35px 30grad, red, blue)",
-      "-moz-repeating-linear-gradient(10% 10em 99999deg, red, blue)",
-      "-moz-repeating-linear-gradient(44px top -33deg, red, blue)",
-      "-moz-repeating-linear-gradient(30grad left 35px, red, blue)",
-      "-moz-repeating-linear-gradient(10deg 20px, red, blue)",
-      "-moz-repeating-linear-gradient(.414rad bottom, red, blue)",
-    );
-
   invalidGradientAndElementValues.push(
+    // The entries in this block used to be valid with the older more-complex
+    // -moz prefixed gradient syntax, but we've since simplified the syntax for
+    // consistency with -webkit prefixed gradients, in a way that makes these
+    // invalid now.
+    "-moz-linear-gradient(center 0%, red, blue)",
+    "-moz-linear-gradient(50% top, red, blue)",
+    "-moz-linear-gradient(50% 0%, red, blue)",
+    "-moz-linear-gradient(0 0, red, blue)",
+    "-moz-linear-gradient(20% bottom, red, blue)",
+    "-moz-linear-gradient(center 20%, red, blue)",
+    "-moz-linear-gradient(left 35px, red, blue)",
+    "-moz-linear-gradient(10% 10em, red, blue)",
+    "-moz-linear-gradient(44px top, red, blue)",
+    "-moz-linear-gradient(0px, red, blue)",
+    "-moz-linear-gradient(top left 45deg, red, blue)",
+    "-moz-linear-gradient(20% bottom -300deg, red, blue)",
+    "-moz-linear-gradient(center 20% 1.95929rad, red, blue)",
+    "-moz-linear-gradient(left 35px 30grad, red, blue)",
+    "-moz-linear-gradient(left 35px 0.1turn, red, blue)",
+    "-moz-linear-gradient(10% 10em 99999deg, red, blue)",
+    "-moz-linear-gradient(44px top -33deg, red, blue)",
+    "-moz-linear-gradient(30grad left 35px, red, blue)",
+    "-moz-linear-gradient(10deg 20px, red, blue)",
+    "-moz-linear-gradient(1turn 20px, red, blue)",
+    "-moz-linear-gradient(.414rad bottom, red, blue)",
+    "-moz-radial-gradient(top left 45deg, red, blue)",
+    "-moz-radial-gradient(20% bottom -300deg, red, blue)",
+    "-moz-radial-gradient(center 20% 1.95929rad, red, blue)",
+    "-moz-radial-gradient(left 35px 30grad, red, blue)",
+    "-moz-radial-gradient(10% 10em 99999deg, red, blue)",
+    "-moz-radial-gradient(44px top -33deg, red, blue)",
+    "-moz-radial-gradient(-33deg, red, blue)",
+    "-moz-radial-gradient(30grad left 35px, red, blue)",
+    "-moz-radial-gradient(10deg 20px, red, blue)",
+    "-moz-radial-gradient(.414rad bottom, red, blue)",
+    "-moz-radial-gradient(99deg, cover, red, blue)",
+    "-moz-radial-gradient(-1.2345rad, circle, red, blue)",
+    "-moz-radial-gradient(399grad, ellipse closest-corner, red, blue)",
+    "-moz-radial-gradient(399grad, farthest-side circle, red, blue)",
+    "-moz-radial-gradient(top left 99deg, cover, red, blue)",
+    "-moz-radial-gradient(15% 20% -1.2345rad, circle, red, blue)",
+    "-moz-radial-gradient(45px 399grad, ellipse closest-corner, red, blue)",
+    "-moz-radial-gradient(45px 399grad, farthest-side circle, red, blue)",
+    "-moz-repeating-linear-gradient(0 0, red, blue)",
+    "-moz-repeating-linear-gradient(20% bottom, red, blue)",
+    "-moz-repeating-linear-gradient(center 20%, red, blue)",
+    "-moz-repeating-linear-gradient(left 35px, red, blue)",
+    "-moz-repeating-linear-gradient(10% 10em, red, blue)",
+    "-moz-repeating-linear-gradient(44px top, red, blue)",
+    "-moz-repeating-linear-gradient(top left 45deg, red, blue)",
+    "-moz-repeating-linear-gradient(20% bottom -300deg, red, blue)",
+    "-moz-repeating-linear-gradient(center 20% 1.95929rad, red, blue)",
+    "-moz-repeating-linear-gradient(left 35px 30grad, red, blue)",
+    "-moz-repeating-linear-gradient(10% 10em 99999deg, red, blue)",
+    "-moz-repeating-linear-gradient(44px top -33deg, red, blue)",
+    "-moz-repeating-linear-gradient(30grad left 35px, red, blue)",
+    "-moz-repeating-linear-gradient(10deg 20px, red, blue)",
+    "-moz-repeating-linear-gradient(.414rad bottom, red, blue)",
+
     /* no quirks mode colors */
     "-moz-radial-gradient(10% bottom, ffffff, black) scroll no-repeat",
     /* no quirks mode lengths */