# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: modules/libpref/init/StaticPrefList.h
# Commit: 597d2f60a811
# Full Hash: 597d2f60a8113404a6d4675134039718f7e85730
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2019-06-08 09:39:25
# Description:
#   Bug 1557819 - Add a pref to disable async font sanitization, and disable it for now for running suspect code OMT. r=heycam
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D34241
# ==============================================================================

diff -r b596d98d59fd -r 597d2f60a811 modules/libpref/init/StaticPrefList.h
--- a/modules/libpref/init/StaticPrefList.h	Fri Jun 07 08:21:24 2019 +0000
+++ b/modules/libpref/init/StaticPrefList.h	Fri Jun 07 23:35:26 2019 +0000
@@ -2700,6 +2700,14 @@
   RelaxedAtomicBool, false
 )
 
+// Whether font sanitization is performed on the main thread or not.
+VARCACHE_PREF(
+  Live,
+  "gfx.downloadable_fonts.sanitize_omt",
+  gfx_downloadable_fonts_sanitize_omt,
+  RelaxedAtomicBool, false
+)
+
 VARCACHE_PREF(
   Live,
   "gfx.downloadable_fonts.validate_variation_tables",
