# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: layout/generic/nsGfxScrollFrame.cpp
# Commit: f770099a60cb
# Full Hash: f770099a60cb34e14a40ee8170807972398aa219
# Author: Hiroyuki Ikezoe <hikezoe@mozilla.com>
# Date: 2019-06-29 09:58:05
# Description:
#   Bug 1562105 - Bail out if the style frame for the scrollable frame is null in ScrollFrameHelper::IsSmoothScroll. r=botond
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D36303
# ==============================================================================

diff -r b8d39cd984a2 -r f770099a60cb layout/generic/nsGfxScrollFrame.cpp
--- a/layout/generic/nsGfxScrollFrame.cpp	Fri Jun 28 15:58:36 2019 +0000
+++ b/layout/generic/nsGfxScrollFrame.cpp	Fri Jun 28 16:45:54 2019 +0000
@@ -7161,8 +7161,15 @@
 }
 
 bool ScrollFrameHelper::IsSmoothScroll(dom::ScrollBehavior aBehavior) const {
-  return aBehavior == dom::ScrollBehavior::Smooth ||
-         (aBehavior == dom::ScrollBehavior::Auto &&
-          GetFrameForStyle()->StyleDisplay()->mScrollBehavior ==
+  if (aBehavior == dom::ScrollBehavior::Smooth) {
+    return true;
+  }
+
+  nsIFrame* styleFrame = GetFrameForStyle();
+  if (!styleFrame) {
+    return false;
+  }
+  return (aBehavior == dom::ScrollBehavior::Auto &&
+          styleFrame->StyleDisplay()->mScrollBehavior ==
               NS_STYLE_SCROLL_BEHAVIOR_SMOOTH);
 }
