# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/base/ScrollStyles.h
# Commit: 9b96152c5e6e
# Full Hash: 9b96152c5e6ecf97af63865f357e8106e0763ea4
# Author: Hiroyuki Ikezoe <hikezoe@mozilla.com>
# Date: 2019-06-27 09:34:48
# Regressor Bug: 1560237
# File Overlap Count: 1
# Description:
#   Bug 1560237 - Don't propagate scroll-behavior from <body>. r=botond
#   
#   From the CSSOM View spec[1];
#   
#    The scroll-behavior property of the HTML body element is not propagated to
# ==============================================================================

diff -r a269192c5d30 -r 9b96152c5e6e layout/base/ScrollStyles.h
--- a/layout/base/ScrollStyles.h	Wed Jun 26 20:59:14 2019 +0000
+++ b/layout/base/ScrollStyles.h	Wed Jun 26 20:57:05 2019 +0000
@@ -23,7 +23,6 @@
   StyleOverflow mVertical;
   // Always one of NS_STYLE_SCROLL_BEHAVIOR_AUTO or
   // NS_STYLE_SCROLL_BEHAVIOR_SMOOTH
-  uint8_t mScrollBehavior;
   StyleOverscrollBehavior mOverscrollBehaviorX;
   StyleOverscrollBehavior mOverscrollBehaviorY;
   StyleScrollSnapStrictness mScrollSnapStrictnessX;
@@ -32,7 +31,6 @@
   ScrollStyles(StyleOverflow aH, StyleOverflow aV)
       : mHorizontal(aH),
         mVertical(aV),
-        mScrollBehavior(NS_STYLE_SCROLL_BEHAVIOR_AUTO),
         mOverscrollBehaviorX(StyleOverscrollBehavior::Auto),
         mOverscrollBehaviorY(StyleOverscrollBehavior::Auto),
         mScrollSnapStrictnessX(StyleScrollSnapStrictness::None),
@@ -46,7 +44,6 @@
   bool operator==(const ScrollStyles& aStyles) const {
     return aStyles.mHorizontal == mHorizontal &&
            aStyles.mVertical == mVertical &&
-           aStyles.mScrollBehavior == mScrollBehavior &&
            aStyles.mOverscrollBehaviorX == mOverscrollBehaviorX &&
            aStyles.mOverscrollBehaviorY == mOverscrollBehaviorY &&
            aStyles.mScrollSnapStrictnessX == mScrollSnapStrictnessX &&
@@ -59,11 +56,6 @@
     return mHorizontal == StyleOverflow::Hidden &&
            mVertical == StyleOverflow::Hidden;
   }
-  bool IsSmoothScroll(dom::ScrollBehavior aBehavior) const {
-    return aBehavior == dom::ScrollBehavior::Smooth ||
-           (aBehavior == dom::ScrollBehavior::Auto &&
-            mScrollBehavior == NS_STYLE_SCROLL_BEHAVIOR_SMOOTH);
-  }
 };
 
 }  // namespace mozilla