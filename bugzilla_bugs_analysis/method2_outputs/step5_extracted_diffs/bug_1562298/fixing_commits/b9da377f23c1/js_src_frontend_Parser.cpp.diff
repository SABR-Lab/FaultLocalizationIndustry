# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: js/src/frontend/Parser.cpp
# Commit: b9da377f23c1
# Full Hash: b9da377f23c12603ce45bbaf0cb8489d80059d39
# Author: Tooru Fujisawa <arai_a@mac.com>
# Date: 2019-07-29 21:38:39
# Description:
#   Bug 1562298 - Check OOM after PerHandlerParser::finishLexicalScope. r=jorendorff
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D36695
# ==============================================================================

diff -r 8954a9b7f486 -r b9da377f23c1 js/src/frontend/Parser.cpp
--- a/js/src/frontend/Parser.cpp	Sun Jul 28 11:08:00 2019 +0000
+++ b/js/src/frontend/Parser.cpp	Fri Jul 26 21:17:54 2019 +0000
@@ -6999,6 +6999,9 @@
     }
     LexicalScopeNodeType scope =
         finishLexicalScope(dotInitializersScope, method);
+    if (!scope) {
+      return false;
+    }
     if (!handler_.addClassMemberDefinition(classMembers, scope)) {
       return false;
     }
