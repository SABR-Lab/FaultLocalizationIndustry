# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/layers/wr/WebRenderBridgeParent.h
# Commit: 94db0d98be90
# Full Hash: 94db0d98be901328f1c4ac8938036e035df62a19
# Author: Doug Thayer <dothayer@mozilla.com>
# Date: 2019-07-12 21:43:58
# Regressor Bug: 1547351
# File Overlap Count: 1
# Description:
#   Bug 1547351 - Factor out RecvEmptyTransaction's core transaction building r=sotaro
#   
#   This splits out the inner bit of RecvEmptyTransaction to just iterate over
#   the documents once, rather than iterating over them individually. Originally
#   I ran into difficulties with this and then left it on the table, but I think
# ==============================================================================

diff -r cb2d564879e3 -r 94db0d98be90 gfx/layers/wr/WebRenderBridgeParent.h
--- a/gfx/layers/wr/WebRenderBridgeParent.h	Fri Jul 12 04:48:44 2019 +0000
+++ b/gfx/layers/wr/WebRenderBridgeParent.h	Fri Jul 12 05:14:05 2019 +0000
@@ -20,6 +20,7 @@
 #include "mozilla/layers/UiCompositorControllerParent.h"
 #include "mozilla/layers/WebRenderCompositionRecorder.h"
 #include "mozilla/Maybe.h"
+#include "mozilla/Result.h"
 #include "mozilla/UniquePtr.h"
 #include "mozilla/WeakPtr.h"
 #include "mozilla/webrender/WebRenderTypes.h"
@@ -306,6 +307,10 @@
     }
   }
 
+  bool ProcessEmptyTransactionUpdates(RenderRootUpdates& aUpdates,
+                                      uint32_t aPaintSequenceNumber,
+                                      bool* aScheduleComposite);
+
   bool SetDisplayList(wr::RenderRoot aRenderRoot, const LayoutDeviceRect& aRect,
                       const wr::LayoutSize& aContentSize, ipc::ByteBuf&& aDL,
                       const wr::BuiltDisplayListDescriptor& aDLDesc,
