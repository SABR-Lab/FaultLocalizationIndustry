# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: gfx/ipc/CrossProcessPaint.cpp
# Commit: f2901a5df92f
# Full Hash: f2901a5df92f7ae9b30bd364f6983f035870e515
# Author: Matt Woodrow <mwoodrow@mozilla.com>
# Date: 2019-08-01 21:39:36
# Description:
#   Bug 1569974 - Don't try to deference an empty Maybe when starting CrossProcessPaint with a rect. r=rhunt
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D39964
# ==============================================================================

diff -r 2167416fd85e -r f2901a5df92f gfx/ipc/CrossProcessPaint.cpp
--- a/gfx/ipc/CrossProcessPaint.cpp	Wed Jul 31 16:19:01 2019 +0000
+++ b/gfx/ipc/CrossProcessPaint.cpp	Wed Jul 31 19:01:05 2019 +0000
@@ -170,8 +170,9 @@
 
   Maybe<IntRect> rect;
   if (aRect) {
-    *rect = IntRect::RoundOut((float)aRect->X(), (float)aRect->Y(),
-                              (float)aRect->Width(), (float)aRect->Height());
+    rect =
+        Some(IntRect::RoundOut((float)aRect->X(), (float)aRect->Y(),
+                               (float)aRect->Width(), (float)aRect->Height()));
   }
 
   RefPtr<CrossProcessPaint> resolver =
