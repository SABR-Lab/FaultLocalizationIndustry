# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/webaudio/AudioNodeExternalInputStream.cpp
# Commit: 398d14785168
# Full Hash: 398d147851684faa0f397a2e206e83f6b0b98f02
# Author: Andreas Pehrson <apehrson@mozilla.com>
# Date: 2019-10-02 16:35:54
# Regressor Bug: 1493613
# File Overlap Count: 1
# Description:
#   Bug 1454998 - Remove track blocking from MediaInputPort. r=karlt
#   
#   This functionality is not used since we moved to only having a single track per
#   MediaStream (bug 1493613).
#   
# ==============================================================================

diff -r a4d88d5b86d2 -r 398d14785168 dom/media/webaudio/AudioNodeExternalInputStream.cpp
--- a/dom/media/webaudio/AudioNodeExternalInputStream.cpp	Wed Oct 02 10:22:48 2019 +0000
+++ b/dom/media/webaudio/AudioNodeExternalInputStream.cpp	Wed Oct 02 10:22:49 2019 +0000
@@ -150,10 +150,6 @@
   for (StreamTracks::TrackIter tracks(source->mTracks); !tracks.IsEnded();
        tracks.Next()) {
     const StreamTracks::Track& inputTrack = *tracks;
-    if (!mInputs[0]->PassTrackThrough(tracks->GetID())) {
-      continue;
-    }
-
     if (inputTrack.GetSegment()->GetType() == MediaSegment::VIDEO) {
       MOZ_ASSERT(false,
                  "AudioNodeExternalInputStream shouldn't have video tracks");