# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/jit-test/tests/basic/evaluate-global-mismatch.js
# Commit: 27cea02bdee4
# Full Hash: 27cea02bdee4b9478bd89a07354a6eebd3d1d76b
# Author: Iain Ireland <iireland@mozilla.com>
# Date: 2021-06-01 09:43:14
# Regressor Bug: 1554524
# File Overlap Count: 1
# Description:
#   Bug 1624792: Remove instrumentation tests r=tcampbell
#   
#   This patch stack is based on the patches for bug 1554524 in more-or-less reverse order, with a few modifications so that the intermediate patches build. This is part 8.
#   
#   Depends on D116304
# ==============================================================================

diff -r 56f9a8184a88 -r 27cea02bdee4 js/src/jit-test/tests/basic/evaluate-global-mismatch.js
--- a/js/src/jit-test/tests/basic/evaluate-global-mismatch.js	Tue Jun 01 01:31:19 2021 +0000
+++ b/js/src/jit-test/tests/basic/evaluate-global-mismatch.js	Tue Jun 01 01:31:20 2021 +0000
@@ -13,22 +13,3 @@
     global: g_discardSource,
   });
 }, g_discardSource.Error, "discardSource option mismatch");
-
-
-let g_instrumentation = newGlobal({newCompartment: true});
-let dbg_instrumentation = new Debugger();
-let gdbg_instrumentation = dbg_instrumentation.addDebuggee(g_instrumentation);
-
-gdbg_instrumentation.setInstrumentation(
-  gdbg_instrumentation.makeDebuggeeValue((kind, script, offset) => {
-  }),
-  ["breakpoint"]
-);
-
-assertErrorMessage(() => {
-  // Script is compiled with instrumentationKinds=breakpoint, and is executed
-  // in global with instrumentationKinds=0.
-  g_instrumentation.evaluate("function f() { (function(){})(); }; f();", {
-    global: g,
-  });
-}, g.Error, "instrumentationKinds mismatch");