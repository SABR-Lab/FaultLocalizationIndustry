# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/vm/GlobalObject.h
# Commit: e802face8e04
# Full Hash: e802face8e042d03933c1495d36fd02a9def7dd9
# Author: Brian Hackett <bhackett1024@gmail.com>
# Date: 2019-07-25 21:51:57
# Regressor Bug: 1554524
# File Overlap Count: 1
# Description:
#   Bug 1554524 Part 4 - Add Debugger interface for instrumenting scripts, r=jimb,tcampbell.
# ==============================================================================

diff -r fc204daba6f3 -r e802face8e04 js/src/vm/GlobalObject.h
--- a/js/src/vm/GlobalObject.h	Mon Jul 08 09:39:52 2019 -1000
+++ b/js/src/vm/GlobalObject.h	Mon Jul 08 09:41:21 2019 -1000
@@ -106,6 +106,7 @@
     FOR_OF_PIC_CHAIN,
     WINDOW_PROXY,
     GLOBAL_THIS_RESOLVED,
+    INSTRUMENTATION,
 
     /* Total reserved-slot count for global objects. */
     RESERVED_SLOTS
@@ -892,6 +893,15 @@
     setReservedSlot(WINDOW_PROXY, ObjectValue(*windowProxy));
   }
 
+  JSObject* getInstrumentationHolder() const {
+    Value v = getReservedSlot(INSTRUMENTATION);
+    MOZ_ASSERT(v.isObject() || v.isUndefined());
+    return v.isObject() ? &v.toObject() : nullptr;
+  }
+  void setInstrumentationHolder(JSObject* instrumentation) {
+    setReservedSlot(INSTRUMENTATION, ObjectValue(*instrumentation));
+  }
+
   // A class used in place of a prototype during off-thread parsing.
   struct OffThreadPlaceholderObject : public NativeObject {
     static const int32_t SlotIndexSlot = 0;