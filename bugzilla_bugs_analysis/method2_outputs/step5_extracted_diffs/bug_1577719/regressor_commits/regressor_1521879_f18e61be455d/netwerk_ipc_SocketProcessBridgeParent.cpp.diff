# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: netwerk/ipc/SocketProcessBridgeParent.cpp
# Commit: f18e61be455d
# Full Hash: f18e61be455d493f10a2cc651cd254859894e02e
# Author: Byron Campen [:bwc] <docfaraday@gmail.com>
# Date: 2019-02-26 03:52:35
# Regressor Bug: 1521879
# File Overlap Count: 1
# Description:
#   Bug 1521879 - Part 1: IPC-based MediaTransport implementation r=mjf
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D17273
# ==============================================================================

diff -r 8136a17fbec9 -r f18e61be455d netwerk/ipc/SocketProcessBridgeParent.cpp
--- a/netwerk/ipc/SocketProcessBridgeParent.cpp	Mon Feb 25 21:48:20 2019 +0000
+++ b/netwerk/ipc/SocketProcessBridgeParent.cpp	Mon Feb 25 21:50:42 2019 +0000
@@ -8,6 +8,9 @@
 
 #include "mozilla/ipc/BackgroundParent.h"
 #include "SocketProcessChild.h"
+#ifdef MOZ_WEBRTC
+#  include "signaling/src/peerconnection/MediaTransportHandlerParent.h"
+#endif
 
 namespace mozilla {
 namespace net {
@@ -56,5 +59,21 @@
   SocketProcessChild::GetSingleton()->DestroySocketProcessBridgeParent(mId);
 }
 
+dom::PMediaTransportParent*
+SocketProcessBridgeParent::AllocPMediaTransportParent() {
+#ifdef MOZ_WEBRTC
+  return new MediaTransportHandlerParent;
+#endif
+  return nullptr;
+}
+
+bool SocketProcessBridgeParent::DeallocPMediaTransportParent(
+    dom::PMediaTransportParent* aActor) {
+#ifdef MOZ_WEBRTC
+  delete aActor;
+#endif
+  return true;
+}
+
 }  // namespace net
 }  // namespace mozilla