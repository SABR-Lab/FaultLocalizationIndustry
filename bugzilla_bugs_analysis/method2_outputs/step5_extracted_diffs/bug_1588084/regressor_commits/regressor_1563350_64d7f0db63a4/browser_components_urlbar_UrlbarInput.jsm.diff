# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: browser/components/urlbar/UrlbarInput.jsm
# Commit: 64d7f0db63a4
# Full Hash: 64d7f0db63a45ec431847e77c6220f5d2ef9c4a9
# Author: harry <htwyford@mozilla.com>
# Date: 2019-10-11 09:30:10
# Regressor Bug: 1563350
# File Overlap Count: 2
# Description:
#   Bug 1563350 - Add popover to the Touch Bar that displays when the Urlbar has focus. r=mikedeboer,spohl,fluent-reviewers,Pike,flod
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D38563
# ==============================================================================

diff -r 879c857b5b65 -r 64d7f0db63a4 browser/components/urlbar/UrlbarInput.jsm
--- a/browser/components/urlbar/UrlbarInput.jsm	Wed Oct 09 10:46:05 2019 +0000
+++ b/browser/components/urlbar/UrlbarInput.jsm	Thu Oct 10 19:57:32 2019 +0000
@@ -1772,6 +1772,8 @@
     if (this.getAttribute("pageproxystate") != "valid") {
       this.window.UpdatePopupNotificationsVisibility();
     }
+
+    Services.obs.notifyObservers(null, "urlbar-blur");
   }
 
   _on_click(event) {
@@ -1814,6 +1816,8 @@
     if (this.getAttribute("pageproxystate") != "valid") {
       this.window.UpdatePopupNotificationsVisibility();
     }
+
+    Services.obs.notifyObservers(null, "urlbar-focus");
   }
 
   _on_mouseover(event) {