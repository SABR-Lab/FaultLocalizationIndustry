# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/angle/checkout/src/libGLESv2/entry_points_gles_ext_autogen.cpp
# Commit: 13282d7a47a5
# Full Hash: 13282d7a47a57a73be8d060efd9645b4d642f03e
# Author: Miko Mynttinen <mikokm@gmail.com>
# Date: 2019-09-08 09:46:52
# Regressor Bug: 1578576
# File Overlap Count: 4
# Description:
#   Bug 1578576 - Part 2: Update to ANGLE 3865 r=jgilbert
#   
#   Depends on D44561
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D44579
# ==============================================================================

diff -r 3064469c073d -r 13282d7a47a5 gfx/angle/checkout/src/libGLESv2/entry_points_gles_ext_autogen.cpp
--- a/gfx/angle/checkout/src/libGLESv2/entry_points_gles_ext_autogen.cpp	Sat Sep 07 13:36:46 2019 +0000
+++ b/gfx/angle/checkout/src/libGLESv2/entry_points_gles_ext_autogen.cpp	Sat Sep 07 13:38:36 2019 +0000
@@ -12,10 +12,15 @@
 
 #include "libANGLE/Context.h"
 #include "libANGLE/Context.inl.h"
+#include "libANGLE/capture_gles_ext_autogen.h"
+#include "libANGLE/entry_points_utils.h"
 #include "libANGLE/validationESEXT.h"
-#include "libGLESv2/entry_points_utils.h"
 #include "libGLESv2/global_state.h"
 
+#include "libANGLE/capture_gles_1_0_autogen.h"
+#include "libANGLE/capture_gles_2_0_autogen.h"
+#include "libANGLE/capture_gles_3_0_autogen.h"
+#include "libANGLE/capture_gles_3_1_autogen.h"
 #include "libANGLE/validationES1.h"
 #include "libANGLE/validationES2.h"
 #include "libANGLE/validationES3.h"
@@ -36,7 +41,6 @@
                                     GLboolean unpackPremultiplyAlpha,
                                     GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint internalFormat = %d, GLenum destType = 0x%X, GLboolean "
@@ -49,6 +53,9 @@
     if (context)
     {
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopyTexture3DANGLE, context, sourceId, sourceLevel, destTargetPacked, destId,
+                      destLevel, internalFormat, destType, unpackFlipY, unpackPremultiplyAlpha,
+                      unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopyTexture3DANGLE(context, sourceId, sourceLevel, destTargetPacked, destId,
                                        destLevel, internalFormat, destType, unpackFlipY,
@@ -79,7 +86,6 @@
                                        GLboolean unpackPremultiplyAlpha,
                                        GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint xoffset = %d, GLint yoffset = %d, GLint zoffset = %d, "
@@ -93,6 +99,9 @@
     if (context)
     {
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopySubTexture3DANGLE, context, sourceId, sourceLevel, destTargetPacked,
+                      destId, destLevel, xoffset, yoffset, zoffset, x, y, z, width, height, depth,
+                      unpackFlipY, unpackPremultiplyAlpha, unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopySubTexture3DANGLE(context, sourceId, sourceLevel, destTargetPacked, destId,
                                           destLevel, xoffset, yoffset, zoffset, x, y, z, width,
@@ -118,7 +127,6 @@
                                       GLbitfield mask,
                                       GLenum filter)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint srcX0 = %d, GLint srcY0 = %d, GLint srcX1 = %d, GLint srcY1 = %d, GLint dstX0 = "
         "%d, GLint dstY0 = %d, GLint dstX1 = %d, GLint dstY1 = %d, GLbitfield mask = 0x%X, GLenum "
@@ -128,6 +136,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BlitFramebufferANGLE, context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0,
+                      dstX1, dstY1, mask, filter);
         if (context->skipValidation() ||
             ValidateBlitFramebufferANGLE(context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0, dstX1,
                                          dstY1, mask, filter))
@@ -145,7 +155,6 @@
                                                      GLsizei width,
                                                      GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d)",
@@ -154,6 +163,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(RenderbufferStorageMultisampleANGLE, context, target, samples, internalformat,
+                      width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorageMultisampleANGLE(context, target, samples, internalformat,
                                                         width, height))
@@ -169,7 +180,6 @@
                                           GLsizei count,
                                           GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint first = %d, GLsizei count = %d, GLsizei primcount = %d)",
           mode, first, count, primcount);
 
@@ -177,6 +187,7 @@
     if (context)
     {
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysInstancedANGLE, context, modePacked, first, count, primcount);
         if (context->skipValidation() ||
             ValidateDrawArraysInstancedANGLE(context, modePacked, first, count, primcount))
         {
@@ -191,7 +202,6 @@
                                             const void *indices,
                                             GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ", GLsizei primcount = %d)",
@@ -202,6 +212,8 @@
     {
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsInstancedANGLE, context, modePacked, count, typePacked, indices,
+                      primcount);
         if (context->skipValidation() ||
             ValidateDrawElementsInstancedANGLE(context, modePacked, count, typePacked, indices,
                                                primcount))
@@ -213,12 +225,12 @@
 
 void GL_APIENTRY VertexAttribDivisorANGLE(GLuint index, GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint divisor = %u)", index, divisor);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(VertexAttribDivisorANGLE, context, index, divisor);
         if (context->skipValidation() || ValidateVertexAttribDivisorANGLE(context, index, divisor))
         {
             context->vertexAttribDivisor(index, divisor);
@@ -232,7 +244,6 @@
                                       const GLsizei *counts,
                                       GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLint *firsts = 0x%016" PRIxPTR
           ", const GLsizei *counts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
           mode, (uintptr_t)firsts, (uintptr_t)counts, drawcount);
@@ -241,6 +252,7 @@
     if (context)
     {
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(MultiDrawArraysANGLE, context, modePacked, firsts, counts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawArraysANGLE(context, modePacked, firsts, counts, drawcount))
         {
@@ -255,7 +267,6 @@
                                                const GLsizei *instanceCounts,
                                                GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLint *firsts = 0x%016" PRIxPTR
           ", const GLsizei *counts = 0x%016" PRIxPTR
           ", const GLsizei *instanceCounts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
@@ -265,6 +276,8 @@
     if (context)
     {
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(MultiDrawArraysInstancedANGLE, context, modePacked, firsts, counts,
+                      instanceCounts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawArraysInstancedANGLE(context, modePacked, firsts, counts,
                                                   instanceCounts, drawcount))
@@ -281,7 +294,6 @@
                                         const GLvoid *const *indices,
                                         GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLsizei *counts = 0x%016" PRIxPTR
           ", GLenum type = 0x%X, const GLvoid *const*indices = 0x%016" PRIxPTR
           ", GLsizei drawcount = %d)",
@@ -292,6 +304,8 @@
     {
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(MultiDrawElementsANGLE, context, modePacked, counts, typePacked, indices,
+                      drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawElementsANGLE(context, modePacked, counts, typePacked, indices,
                                            drawcount))
@@ -308,7 +322,6 @@
                                                  const GLsizei *instanceCounts,
                                                  GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLsizei *counts = 0x%016" PRIxPTR
           ", GLenum type = 0x%X, const GLvoid *const*indices = 0x%016" PRIxPTR
           ", const GLsizei*instanceCounts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
@@ -319,6 +332,8 @@
     {
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(MultiDrawElementsInstancedANGLE, context, modePacked, counts, typePacked,
+                      indices, instanceCounts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawElementsInstancedANGLE(context, modePacked, counts, typePacked,
                                                     indices, instanceCounts, drawcount))
@@ -332,13 +347,13 @@
 // GL_ANGLE_provoking_vertex
 void GL_APIENTRY ProvokingVertexANGLE(GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
-        ProvokingVertex modePacked = FromGLenum<ProvokingVertex>(mode);
+        ProvokingVertexConvention modePacked = FromGLenum<ProvokingVertexConvention>(mode);
+        ANGLE_CAPTURE(ProvokingVertexANGLE, context, modePacked);
         if (context->skipValidation() || ValidateProvokingVertexANGLE(context, modePacked))
         {
             context->provokingVertex(modePacked);
@@ -349,12 +364,12 @@
 // GL_ANGLE_request_extension
 void GL_APIENTRY RequestExtensionANGLE(const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLchar * name = 0x%016" PRIxPTR ")", (uintptr_t)name);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(RequestExtensionANGLE, context, name);
         if (context->skipValidation() || ValidateRequestExtensionANGLE(context, name))
         {
             context->requestExtension(name);
@@ -368,7 +383,6 @@
                                         GLsizei *length,
                                         GLboolean *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLboolean * params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -376,6 +390,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetBooleanvRobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetBooleanvRobustANGLE(context, pname, bufSize, length, params))
         {
@@ -390,7 +405,6 @@
                                                  GLsizei *length,
                                                  GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -400,6 +414,8 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameterivRobustANGLE, context, targetPacked, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetBufferParameterivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -413,7 +429,6 @@
                                       GLsizei *length,
                                       GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLfloat * params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -421,6 +436,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFloatvRobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetFloatvRobustANGLE(context, pname, bufSize, length, params))
         {
@@ -436,7 +452,6 @@
                                                                 GLsizei *length,
                                                                 GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = "
         "%d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -445,6 +460,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFramebufferAttachmentParameterivRobustANGLE, context, target, attachment,
+                      pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetFramebufferAttachmentParameterivRobustANGLE(context, target, attachment,
                                                                    pname, bufSize, length, params))
@@ -457,7 +474,6 @@
 
 void GL_APIENTRY GetIntegervRobustANGLE(GLenum pname, GLsizei bufSize, GLsizei *length, GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLint * data = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)data);
@@ -465,6 +481,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetIntegervRobustANGLE, context, pname, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetIntegervRobustANGLE(context, pname, bufSize, length, data))
         {
@@ -479,15 +496,15 @@
                                          GLsizei *length,
                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
         program, pname, bufSize, (uintptr_t)length, (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetProgramivRobustANGLE, context, program, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetProgramivRobustANGLE(context, program, pname, bufSize, length, params))
         {
@@ -502,7 +519,6 @@
                                                        GLsizei *length,
                                                        GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -511,6 +527,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetRenderbufferParameterivRobustANGLE, context, target, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetRenderbufferParameterivRobustANGLE(
                                              context, target, pname, bufSize, length, params))
         {
@@ -522,15 +540,15 @@
 void GL_APIENTRY
 GetShaderivRobustANGLE(GLuint shader, GLenum pname, GLsizei bufSize, GLsizei *length, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint shader = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
         shader, pname, bufSize, (uintptr_t)length, (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetShaderivRobustANGLE, context, shader, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetShaderivRobustANGLE(context, shader, pname, bufSize, length, params))
         {
@@ -545,7 +563,6 @@
                                               GLsizei *length,
                                               GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -555,6 +572,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterfvRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterfvRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -569,7 +588,6 @@
                                               GLsizei *length,
                                               GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -579,6 +597,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -593,7 +613,6 @@
                                          GLsizei *length,
                                          GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -602,6 +621,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetUniformfvRobustANGLE, context, program, location, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetUniformfvRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -616,7 +636,6 @@
                                          GLsizei *length,
                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -625,6 +644,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetUniformivRobustANGLE, context, program, location, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetUniformivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -639,7 +659,6 @@
                                               GLsizei *length,
                                               GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -648,6 +667,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetVertexAttribfvRobustANGLE, context, index, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribfvRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -662,7 +682,6 @@
                                               GLsizei *length,
                                               GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -671,6 +690,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetVertexAttribivRobustANGLE, context, index, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -685,7 +705,6 @@
                                                     GLsizei *length,
                                                     void **pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", void ** pointer = 0x%016" PRIxPTR ")",
@@ -694,6 +713,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetVertexAttribPointervRobustANGLE, context, index, pname, bufSize, length,
+                      pointer);
         if (context->skipValidation() || ValidateGetVertexAttribPointervRobustANGLE(
                                              context, index, pname, bufSize, length, pointer))
         {
@@ -714,7 +735,6 @@
                                        GLsizei *rows,
                                        void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
@@ -726,6 +746,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ReadPixelsRobustANGLE, context, x, y, width, height, format, type, bufSize,
+                      length, columns, rows, pixels);
         if (context->skipValidation() ||
             ValidateReadPixelsRobustANGLE(context, x, y, width, height, format, type, bufSize,
                                           length, columns, rows, pixels))
@@ -747,7 +769,6 @@
                                        GLsizei bufSize,
                                        const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLint border = %d, GLenum format = 0x%X, GLenum type = 0x%X, GLsizei "
@@ -759,6 +780,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage2DRobustANGLE, context, targetPacked, level, internalformat, width,
+                      height, border, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexImage2DRobustANGLE(context, targetPacked, level, internalformat, width,
                                           height, border, format, type, bufSize, pixels))
@@ -774,7 +797,6 @@
                                            GLsizei bufSize,
                                            const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLfloat * params "
         "= 0x%016" PRIxPTR ")",
@@ -784,6 +806,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterfvRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterfvRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -797,7 +820,6 @@
                                            GLsizei bufSize,
                                            const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -807,6 +829,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -826,7 +849,6 @@
                                           GLsizei bufSize,
                                           const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLsizei "
         "width = %d, GLsizei height = %d, GLenum format = 0x%X, GLenum type = 0x%X, GLsizei "
@@ -837,6 +859,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage2DRobustANGLE, context, targetPacked, level, xoffset, yoffset,
+                      width, height, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage2DRobustANGLE(context, targetPacked, level, xoffset, yoffset, width,
                                              height, format, type, bufSize, pixels))
@@ -859,7 +883,6 @@
                                        GLsizei bufSize,
                                        const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLenum format = 0x%X, GLenum "
@@ -870,7 +893,9 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage3DRobustANGLE, context, targetPacked, level, internalformat, width,
+                      height, depth, border, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexImage3DRobustANGLE(context, targetPacked, level, internalformat, width,
                                           height, depth, border, format, type, bufSize, pixels))
@@ -894,7 +919,6 @@
                                           GLsizei bufSize,
                                           const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -906,7 +930,9 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage3DRobustANGLE, context, targetPacked, level, xoffset, yoffset,
+                      zoffset, width, height, depth, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage3DRobustANGLE(context, targetPacked, level, xoffset, yoffset,
                                              zoffset, width, height, depth, format, type, bufSize,
@@ -928,7 +954,6 @@
                                                  GLsizei dataSize,
                                                  const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLint border = %d, GLsizei imageSize = %d, GLsizei dataSize = "
@@ -939,6 +964,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage2DRobustANGLE, context, targetPacked, level, internalformat,
+                      width, height, border, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexImage2DRobustANGLE(
                                              context, targetPacked, level, internalformat, width,
                                              height, border, imageSize, dataSize, data))
@@ -960,7 +987,6 @@
                                                     GLsizei dataSize,
                                                     const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLsizei xoffset = %d, GLsizei yoffset = %d, "
         "GLsizei width = %d, GLsizei height = %d, GLenum format = 0x%X, GLsizei imageSize = %d, "
@@ -972,6 +998,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage2DRobustANGLE, context, targetPacked, level, xoffset,
+                      yoffset, width, height, format, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexSubImage2DRobustANGLE(
                                              context, targetPacked, level, xoffset, yoffset, width,
                                              height, format, imageSize, dataSize, data))
@@ -993,7 +1021,6 @@
                                                  GLsizei dataSize,
                                                  const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLsizei imageSize = %d, "
@@ -1004,7 +1031,9 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage3DRobustANGLE, context, targetPacked, level, internalformat,
+                      width, height, depth, border, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexImage3DRobustANGLE(
                                              context, targetPacked, level, internalformat, width,
                                              height, depth, border, imageSize, dataSize, data))
@@ -1028,7 +1057,6 @@
                                                     GLsizei dataSize,
                                                     const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -1040,7 +1068,9 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage3DRobustANGLE, context, targetPacked, level, xoffset,
+                      yoffset, zoffset, width, height, depth, format, imageSize, dataSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexSubImage3DRobustANGLE(context, targetPacked, level, xoffset,
                                                        yoffset, zoffset, width, height, depth,
@@ -1056,7 +1086,6 @@
 void GL_APIENTRY
 GetQueryivRobustANGLE(GLenum target, GLenum pname, GLsizei bufSize, GLsizei *length, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1066,6 +1095,7 @@
     if (context)
     {
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(GetQueryivRobustANGLE, context, targetPacked, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryivRobustANGLE(context, targetPacked, pname, bufSize, length, params))
         {
@@ -1080,7 +1110,6 @@
                                               GLsizei *length,
                                               GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1089,6 +1118,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetQueryObjectuivRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectuivRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -1103,7 +1133,6 @@
                                               GLsizei *length,
                                               void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", void ** params = 0x%016" PRIxPTR ")",
@@ -1113,6 +1142,8 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferPointervRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetBufferPointervRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -1124,7 +1155,6 @@
 void GL_APIENTRY
 GetIntegeri_vRobustANGLE(GLenum target, GLuint index, GLsizei bufSize, GLsizei *length, GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * data = 0x%016" PRIxPTR ")",
@@ -1133,6 +1163,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetIntegeri_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetIntegeri_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -1148,7 +1179,6 @@
                                                 GLsizei *length,
                                                 GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLenum pname = 0x%X, GLsizei bufSize "
         "= %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1157,6 +1187,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetInternalformativRobustANGLE, context, target, internalformat, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetInternalformativRobustANGLE(context, target, internalformat, pname, bufSize,
                                                    length, params))
@@ -1173,7 +1205,6 @@
                                                GLsizei *length,
                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1182,6 +1213,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetVertexAttribIivRobustANGLE, context, index, pname, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribIivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -1196,7 +1229,6 @@
                                                 GLsizei *length,
                                                 GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1205,6 +1237,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetVertexAttribIuivRobustANGLE, context, index, pname, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribIuivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -1219,7 +1253,6 @@
                                           GLsizei *length,
                                           GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1228,6 +1261,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetUniformuivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetUniformuivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -1243,7 +1278,6 @@
                                                     GLsizei *length,
                                                     GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint uniformBlockIndex = %u, GLenum pname = 0x%X, GLsizei bufSize "
         "= %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1252,6 +1286,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetActiveUniformBlockivRobustANGLE, context, program, uniformBlockIndex,
+                      pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetActiveUniformBlockivRobustANGLE(context, program, uniformBlockIndex, pname,
                                                        bufSize, length, params))
@@ -1267,7 +1303,6 @@
                                           GLsizei *length,
                                           GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLint64 * data = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)data);
@@ -1275,6 +1310,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetInteger64vRobustANGLE, context, pname, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetInteger64vRobustANGLE(context, pname, bufSize, length, data))
         {
@@ -1289,7 +1325,6 @@
                                             GLsizei *length,
                                             GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * data = 0x%016" PRIxPTR ")",
@@ -1298,6 +1333,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetInteger64i_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetInteger64i_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -1312,7 +1348,6 @@
                                                    GLsizei *length,
                                                    GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * params = 0x%016" PRIxPTR ")",
@@ -1322,6 +1357,8 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameteri64vRobustANGLE, context, targetPacked, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetBufferParameteri64vRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -1335,7 +1372,6 @@
                                                GLsizei bufSize,
                                                const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLuint pname = %u, GLsizei bufSize = %d, const GLint * param = "
         "0x%016" PRIxPTR ")",
@@ -1344,6 +1380,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -1357,7 +1394,6 @@
                                                GLsizei bufSize,
                                                const GLfloat *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLfloat * param = "
         "0x%016" PRIxPTR ")",
@@ -1366,6 +1402,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterfvRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterfvRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -1380,7 +1417,6 @@
                                                   GLsizei *length,
                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1389,6 +1425,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -1403,7 +1441,6 @@
                                                   GLsizei *length,
                                                   GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -1412,6 +1449,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterfvRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterfvRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -1426,7 +1465,6 @@
                                                       GLsizei *length,
                                                       GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1435,6 +1473,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFramebufferParameterivRobustANGLE, context, sampler, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetFramebufferParameterivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -1450,7 +1490,6 @@
                                                   GLsizei *length,
                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, GLenum pname = 0x%X, GLsizei "
         "bufSize = %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1459,6 +1498,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetProgramInterfaceivRobustANGLE, context, program, programInterface, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetProgramInterfaceivRobustANGLE(context, program, programInterface, pname,
                                                      bufSize, length, params))
@@ -1475,7 +1516,6 @@
                                           GLsizei *length,
                                           GLboolean *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLboolean * data = 0x%016" PRIxPTR ")",
@@ -1484,6 +1524,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetBooleani_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetBooleani_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -1498,7 +1539,6 @@
                                              GLsizei *length,
                                              GLfloat *val)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum pname = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * val = 0x%016" PRIxPTR ")",
@@ -1507,6 +1547,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetMultisamplefvRobustANGLE, context, pname, index, bufSize, length, val);
         if (context->skipValidation() ||
             ValidateGetMultisamplefvRobustANGLE(context, pname, index, bufSize, length, val))
         {
@@ -1522,7 +1563,6 @@
                                                    GLsizei *length,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLsizei bufSize = %d, "
         "GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1532,6 +1572,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterivRobustANGLE, context, targetPacked, level, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterivRobustANGLE(context, targetPacked, level, pname, bufSize,
                                                       length, params))
@@ -1549,7 +1591,6 @@
                                                    GLsizei *length,
                                                    GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLsizei bufSize = %d, "
         "GLsizei * length = 0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -1559,6 +1600,8 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterfvRobustANGLE, context, targetPacked, level, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterfvRobustANGLE(context, targetPacked, level, pname, bufSize,
                                                       length, params))
@@ -1574,7 +1617,6 @@
                                                    GLsizei *length,
                                                    void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", void ** params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -1582,6 +1624,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetPointervRobustANGLERobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetPointervRobustANGLERobustANGLE(context, pname, bufSize, length, params))
         {
@@ -1602,7 +1645,6 @@
                                         GLsizei *rows,
                                         void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
@@ -1614,6 +1656,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ReadnPixelsRobustANGLE, context, x, y, width, height, format, type, bufSize,
+                      length, columns, rows, data);
         if (context->skipValidation() ||
             ValidateReadnPixelsRobustANGLE(context, x, y, width, height, format, type, bufSize,
                                            length, columns, rows, data))
@@ -1630,7 +1674,6 @@
                                           GLsizei *length,
                                           GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -1639,6 +1682,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetnUniformfvRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformfvRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -1653,7 +1698,6 @@
                                           GLsizei *length,
                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1662,6 +1706,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetnUniformivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -1676,7 +1722,6 @@
                                            GLsizei *length,
                                            GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1685,6 +1730,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetnUniformuivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformuivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -1698,7 +1745,6 @@
                                             GLsizei bufSize,
                                             const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -1708,6 +1754,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterIivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -1721,7 +1768,6 @@
                                              GLsizei bufSize,
                                              const GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLuint * params = "
         "0x%016" PRIxPTR ")",
@@ -1731,6 +1777,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIuivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterIuivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -1745,7 +1792,6 @@
                                                GLsizei *length,
                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1755,6 +1801,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterIivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -1769,7 +1817,6 @@
                                                 GLsizei *length,
                                                 GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1779,6 +1826,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIuivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterIuivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -1792,7 +1841,6 @@
                                                 GLsizei bufSize,
                                                 const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * param = "
         "0x%016" PRIxPTR ")",
@@ -1801,6 +1849,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterIivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -1814,7 +1863,6 @@
                                                  GLsizei bufSize,
                                                  const GLuint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLuint * param = "
         "0x%016" PRIxPTR ")",
@@ -1823,6 +1871,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterIuivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIuivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -1837,7 +1886,6 @@
                                                    GLsizei *length,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -1846,6 +1894,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterIivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterIivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -1860,7 +1910,6 @@
                                                     GLsizei *length,
                                                     GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -1869,6 +1918,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterIuivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterIuivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -1883,15 +1934,15 @@
                                              GLsizei *length,
                                              GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
         id, pname, bufSize, (uintptr_t)length, (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetQueryObjectivRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectivRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -1906,15 +1957,15 @@
                                                GLsizei *length,
                                                GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * params = 0x%016" PRIxPTR ")",
         id, pname, bufSize, (uintptr_t)length, (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetQueryObjecti64vRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjecti64vRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -1929,7 +1980,6 @@
                                                 GLsizei *length,
                                                 GLuint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint64 * params = 0x%016" PRIxPTR ")",
@@ -1938,6 +1988,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetQueryObjectui64vRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectui64vRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -1946,6 +1997,53 @@
     }
 }
 
+// GL_ANGLE_texture_external_update
+void GL_APIENTRY TexImage2DExternalANGLE(GLenum target,
+                                         GLint level,
+                                         GLint internalformat,
+                                         GLsizei width,
+                                         GLsizei height,
+                                         GLint border,
+                                         GLenum format,
+                                         GLenum type)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
+        "GLsizei height = %d, GLint border = %d, GLenum format = 0x%X, GLenum type = 0x%X)",
+        target, level, internalformat, width, height, border, format, type);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage2DExternalANGLE, context, targetPacked, level, internalformat, width,
+                      height, border, format, type);
+        if (context->skipValidation() ||
+            ValidateTexImage2DExternalANGLE(context, targetPacked, level, internalformat, width,
+                                            height, border, format, type))
+        {
+            context->texImage2DExternal(targetPacked, level, internalformat, width, height, border,
+                                        format, type);
+        }
+    }
+}
+
+void GL_APIENTRY InvalidateTextureANGLE(GLenum target)
+{
+    EVENT("(GLenum target = 0x%X)", target);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(InvalidateTextureANGLE, context, targetPacked);
+        if (context->skipValidation() || ValidateInvalidateTextureANGLE(context, targetPacked))
+        {
+            context->invalidateTexture(targetPacked);
+        }
+    }
+}
+
 // GL_ANGLE_texture_multisample
 void GL_APIENTRY TexStorage2DMultisampleANGLE(GLenum target,
                                               GLsizei samples,
@@ -1954,7 +2052,6 @@
                                               GLsizei height,
                                               GLboolean fixedsamplelocations)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d, GLboolean fixedsamplelocations = %u)",
@@ -1964,6 +2061,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2DMultisampleANGLE, context, targetPacked, samples, internalformat,
+                      width, height, fixedsamplelocations);
         if (context->skipValidation() ||
             ValidateTexStorage2DMultisampleANGLE(context, targetPacked, samples, internalformat,
                                                  width, height, fixedsamplelocations))
@@ -1979,7 +2078,6 @@
                                              GLenum pname,
                                              GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -1989,6 +2087,7 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterivANGLE, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterivANGLE(context, targetPacked, level, pname, params))
         {
@@ -2002,7 +2101,6 @@
                                              GLenum pname,
                                              GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLfloat * params = "
         "0x%016" PRIxPTR ")",
@@ -2012,6 +2110,7 @@
     if (context)
     {
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterfvANGLE, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterfvANGLE(context, targetPacked, level, pname, params))
         {
@@ -2022,13 +2121,13 @@
 
 void GL_APIENTRY GetMultisamplefvANGLE(GLenum pname, GLuint index, GLfloat *val)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLuint index = %u, GLfloat * val = 0x%016" PRIxPTR ")", pname,
           index, (uintptr_t)val);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetMultisamplefvANGLE, context, pname, index, val);
         if (context->skipValidation() || ValidateGetMultisamplefvANGLE(context, pname, index, val))
         {
             context->getMultisamplefv(pname, index, val);
@@ -2038,12 +2137,12 @@
 
 void GL_APIENTRY SampleMaskiANGLE(GLuint maskNumber, GLbitfield mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint maskNumber = %u, GLbitfield mask = 0x%X)", maskNumber, mask);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SampleMaskiANGLE, context, maskNumber, mask);
         if (context->skipValidation() || ValidateSampleMaskiANGLE(context, maskNumber, mask))
         {
             context->sampleMaski(maskNumber, mask);
@@ -2057,7 +2156,6 @@
                                                 GLsizei *length,
                                                 GLchar *source)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLsizei bufsize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *source = 0x%016" PRIxPTR ")",
           shader, bufsize, (uintptr_t)length, (uintptr_t)source);
@@ -2065,6 +2163,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetTranslatedShaderSourceANGLE, context, shader, bufsize, length, source);
         if (context->skipValidation() ||
             ValidateGetTranslatedShaderSourceANGLE(context, shader, bufsize, length, source))
         {
@@ -2076,13 +2175,13 @@
 // GL_CHROMIUM_bind_uniform_location
 void GL_APIENTRY BindUniformLocationCHROMIUM(GLuint program, GLint location, const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, const GLchar* name = 0x%016" PRIxPTR ")",
           program, location, (uintptr_t)name);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindUniformLocationCHROMIUM, context, program, location, name);
         if (context->skipValidation() ||
             ValidateBindUniformLocationCHROMIUM(context, program, location, name))
         {
@@ -2094,12 +2193,12 @@
 // GL_CHROMIUM_copy_compressed_texture
 void GL_APIENTRY CompressedCopyTextureCHROMIUM(GLuint sourceId, GLuint destId)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sourceId = %u, GLuint destId = %u)", sourceId, destId);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CompressedCopyTextureCHROMIUM, context, sourceId, destId);
         if (context->skipValidation() ||
             ValidateCompressedCopyTextureCHROMIUM(context, sourceId, destId))
         {
@@ -2120,7 +2219,6 @@
                                      GLboolean unpackPremultiplyAlpha,
                                      GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint internalFormat = %d, GLenum destType = 0x%X, GLboolean "
@@ -2133,6 +2231,9 @@
     if (context)
     {
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopyTextureCHROMIUM, context, sourceId, sourceLevel, destTargetPacked, destId,
+                      destLevel, internalFormat, destType, unpackFlipY, unpackPremultiplyAlpha,
+                      unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopyTextureCHROMIUM(context, sourceId, sourceLevel, destTargetPacked, destId,
                                         destLevel, internalFormat, destType, unpackFlipY,
@@ -2160,7 +2261,6 @@
                                         GLboolean unpackPremultiplyAlpha,
                                         GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint xoffset = %d, GLint yoffset = %d, GLint x = %d, GLint y = "
@@ -2173,6 +2273,9 @@
     if (context)
     {
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopySubTextureCHROMIUM, context, sourceId, sourceLevel, destTargetPacked,
+                      destId, destLevel, xoffset, yoffset, x, y, width, height, unpackFlipY,
+                      unpackPremultiplyAlpha, unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopySubTextureCHROMIUM(context, sourceId, sourceLevel, destTargetPacked, destId,
                                            destLevel, xoffset, yoffset, x, y, width, height,
@@ -2189,12 +2292,12 @@
 // GL_CHROMIUM_framebuffer_mixed_samples
 void GL_APIENTRY CoverageModulationCHROMIUM(GLenum components)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum components = 0x%X)", components);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CoverageModulationCHROMIUM, context, components);
         if (context->skipValidation() || ValidateCoverageModulationCHROMIUM(context, components))
         {
             context->coverageModulation(components);
@@ -2204,13 +2307,13 @@
 
 void GL_APIENTRY MatrixLoadfCHROMIUM(GLenum matrixMode, const GLfloat *matrix)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum matrixMode = 0x%X, const GLfloat * matrix = 0x%016" PRIxPTR ")", matrixMode,
           (uintptr_t)matrix);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(MatrixLoadfCHROMIUM, context, matrixMode, matrix);
         if (context->skipValidation() || ValidateMatrixLoadfCHROMIUM(context, matrixMode, matrix))
         {
             context->matrixLoadf(matrixMode, matrix);
@@ -2220,12 +2323,12 @@
 
 void GL_APIENTRY MatrixLoadIdentityCHROMIUM(GLenum matrixMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum matrixMode = 0x%X)", matrixMode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(MatrixLoadIdentityCHROMIUM, context, matrixMode);
         if (context->skipValidation() || ValidateMatrixLoadIdentityCHROMIUM(context, matrixMode))
         {
             context->matrixLoadIdentity(matrixMode);
@@ -2233,15 +2336,34 @@
     }
 }
 
+// GL_CHROMIUM_lose_context
+void GL_APIENTRY LoseContextCHROMIUM(GLenum current, GLenum other)
+{
+    EVENT("(GLenum current = 0x%X, GLenum other = 0x%X)", current, other);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        GraphicsResetStatus currentPacked = FromGLenum<GraphicsResetStatus>(current);
+        GraphicsResetStatus otherPacked   = FromGLenum<GraphicsResetStatus>(other);
+        ANGLE_CAPTURE(LoseContextCHROMIUM, context, currentPacked, otherPacked);
+        if (context->skipValidation() ||
+            ValidateLoseContextCHROMIUM(context, currentPacked, otherPacked))
+        {
+            context->loseContext(currentPacked, otherPacked);
+        }
+    }
+}
+
 // GL_CHROMIUM_path_rendering
 GLuint GL_APIENTRY GenPathsCHROMIUM(GLsizei range)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei range = %d)", range);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenPathsCHROMIUM, context, range);
         if (context->skipValidation() || ValidateGenPathsCHROMIUM(context, range))
         {
             return context->genPaths(range);
@@ -2253,12 +2375,12 @@
 
 void GL_APIENTRY DeletePathsCHROMIUM(GLuint first, GLsizei range)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint first = %u, GLsizei range = %d)", first, range);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeletePathsCHROMIUM, context, first, range);
         if (context->skipValidation() || ValidateDeletePathsCHROMIUM(context, first, range))
         {
             context->deletePaths(first, range);
@@ -2268,12 +2390,12 @@
 
 GLboolean GL_APIENTRY IsPathCHROMIUM(GLuint path)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u)", path);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsPathCHROMIUM, context, path);
         if (context->skipValidation() || ValidateIsPathCHROMIUM(context, path))
         {
             return context->isPath(path);
@@ -2290,7 +2412,6 @@
                                       GLenum coordType,
                                       const void *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLsizei numCommands = %d, const GLubyte * commands = 0x%016" PRIxPTR
           ", GLsizei numCoords = %d, GLenum coordType = 0x%X, const void* coords = 0x%016" PRIxPTR
           ")",
@@ -2299,6 +2420,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PathCommandsCHROMIUM, context, path, numCommands, commands, numCoords,
+                      coordType, coords);
         if (context->skipValidation() ||
             ValidatePathCommandsCHROMIUM(context, path, numCommands, commands, numCoords, coordType,
                                          coords))
@@ -2310,12 +2433,12 @@
 
 void GL_APIENTRY PathParameterfCHROMIUM(GLuint path, GLenum pname, GLfloat value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLfloat value = %f)", path, pname, value);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PathParameterfCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidatePathParameterfCHROMIUM(context, path, pname, value))
         {
@@ -2326,12 +2449,12 @@
 
 void GL_APIENTRY PathParameteriCHROMIUM(GLuint path, GLenum pname, GLint value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLint value = %d)", path, pname, value);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PathParameteriCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidatePathParameteriCHROMIUM(context, path, pname, value))
         {
@@ -2342,13 +2465,13 @@
 
 void GL_APIENTRY GetPathParameterfvCHROMIUM(GLuint path, GLenum pname, GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLfloat * value = 0x%016" PRIxPTR ")", path,
           pname, (uintptr_t)value);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetPathParameterfvCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidateGetPathParameterfvCHROMIUM(context, path, pname, value))
         {
@@ -2359,13 +2482,13 @@
 
 void GL_APIENTRY GetPathParameterivCHROMIUM(GLuint path, GLenum pname, GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLint * value = 0x%016" PRIxPTR ")", path, pname,
           (uintptr_t)value);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetPathParameterivCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidateGetPathParameterivCHROMIUM(context, path, pname, value))
         {
@@ -2376,12 +2499,12 @@
 
 void GL_APIENTRY PathStencilFuncCHROMIUM(GLenum func, GLint ref, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X, GLint ref = %d, GLuint mask = %u)", func, ref, mask);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PathStencilFuncCHROMIUM, context, func, ref, mask);
         if (context->skipValidation() || ValidatePathStencilFuncCHROMIUM(context, func, ref, mask))
         {
             context->pathStencilFunc(func, ref, mask);
@@ -2391,12 +2514,12 @@
 
 void GL_APIENTRY StencilFillPathCHROMIUM(GLuint path, GLenum fillMode, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum fillMode = 0x%X, GLuint mask = %u)", path, fillMode, mask);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilFillPathCHROMIUM, context, path, fillMode, mask);
         if (context->skipValidation() ||
             ValidateStencilFillPathCHROMIUM(context, path, fillMode, mask))
         {
@@ -2407,12 +2530,12 @@
 
 void GL_APIENTRY StencilStrokePathCHROMIUM(GLuint path, GLint reference, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLint reference = %d, GLuint mask = %u)", path, reference, mask);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilStrokePathCHROMIUM, context, path, reference, mask);
         if (context->skipValidation() ||
             ValidateStencilStrokePathCHROMIUM(context, path, reference, mask))
         {
@@ -2423,12 +2546,12 @@
 
 void GL_APIENTRY CoverFillPathCHROMIUM(GLuint path, GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum coverMode = 0x%X)", path, coverMode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CoverFillPathCHROMIUM, context, path, coverMode);
         if (context->skipValidation() || ValidateCoverFillPathCHROMIUM(context, path, coverMode))
         {
             context->coverFillPath(path, coverMode);
@@ -2438,12 +2561,12 @@
 
 void GL_APIENTRY CoverStrokePathCHROMIUM(GLuint path, GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum coverMode = 0x%X)", path, coverMode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CoverStrokePathCHROMIUM, context, path, coverMode);
         if (context->skipValidation() || ValidateCoverStrokePathCHROMIUM(context, path, coverMode))
         {
             context->coverStrokePath(path, coverMode);
@@ -2456,13 +2579,13 @@
                                                   GLuint mask,
                                                   GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum coverMode = 0x%X)",
           path, fillMode, mask, coverMode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilThenCoverFillPathCHROMIUM, context, path, fillMode, mask, coverMode);
         if (context->skipValidation() ||
             ValidateStencilThenCoverFillPathCHROMIUM(context, path, fillMode, mask, coverMode))
         {
@@ -2476,13 +2599,14 @@
                                                     GLuint mask,
                                                     GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLint reference = %d, GLuint mask = %u, GLenum coverMode = 0x%X)",
           path, reference, mask, coverMode);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilThenCoverStrokePathCHROMIUM, context, path, reference, mask,
+                      coverMode);
         if (context->skipValidation() ||
             ValidateStencilThenCoverStrokePathCHROMIUM(context, path, reference, mask, coverMode))
         {
@@ -2499,7 +2623,6 @@
                                                 GLenum transformType,
                                                 const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum coverMode = 0x%X, GLenum transformType = 0x%X, const "
           "GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2509,6 +2632,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CoverFillPathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateCoverFillPathInstancedCHROMIUM(context, numPath, pathNameType, paths, pathBase,
                                                    coverMode, transformType, transformValues))
@@ -2527,7 +2652,6 @@
                                                   GLenum transformType,
                                                   const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum coverMode = 0x%X, GLenum transformType = 0x%X, const "
           "GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2537,6 +2661,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CoverStrokePathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, coverMode, transformType, transformValues);
         if (context->skipValidation() || ValidateCoverStrokePathInstancedCHROMIUM(
                                              context, numPath, pathNameType, paths, pathBase,
                                              coverMode, transformType, transformValues))
@@ -2556,7 +2682,6 @@
                                                     GLenum transformType,
                                                     const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLint reference = %d, GLuint mask = %u, GLenum transformType = "
           "0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2566,6 +2691,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilStrokePathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, reference, mask, transformType, transformValues);
         if (context->skipValidation() || ValidateStencilStrokePathInstancedCHROMIUM(
                                              context, numPath, pathNameType, paths, pathBase,
                                              reference, mask, transformType, transformValues))
@@ -2585,7 +2712,6 @@
                                                   GLenum transformType,
                                                   const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum transformType "
           "= 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2595,6 +2721,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilFillPathInstancedCHROMIUM, context, numPaths, pathNameType, paths,
+                      pathBase, fillMode, mask, transformType, transformValues);
         if (context->skipValidation() || ValidateStencilFillPathInstancedCHROMIUM(
                                              context, numPaths, pathNameType, paths, pathBase,
                                              fillMode, mask, transformType, transformValues))
@@ -2615,7 +2743,6 @@
                                                            GLenum transformType,
                                                            const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum coverMode = "
           "0x%X, GLenum transformType = 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2625,6 +2752,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilThenCoverFillPathInstancedCHROMIUM, context, numPaths, pathNameType,
+                      paths, pathBase, fillMode, mask, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateStencilThenCoverFillPathInstancedCHROMIUM(
                 context, numPaths, pathNameType, paths, pathBase, fillMode, mask, coverMode,
@@ -2647,7 +2776,6 @@
                                                              GLenum transformType,
                                                              const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLint reference = %d, GLuint mask = %u, GLenum coverMode = "
           "0x%X, GLenum transformType = 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -2657,6 +2785,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(StencilThenCoverStrokePathInstancedCHROMIUM, context, numPaths, pathNameType,
+                      paths, pathBase, reference, mask, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateStencilThenCoverStrokePathInstancedCHROMIUM(
                 context, numPaths, pathNameType, paths, pathBase, reference, mask, coverMode,
@@ -2673,13 +2803,13 @@
                                                    GLint location,
                                                    const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint programs = %u, GLint location = %d, const GLchar * name = 0x%016" PRIxPTR ")",
           programs, location, (uintptr_t)name);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindFragmentInputLocationCHROMIUM, context, programs, location, name);
         if (context->skipValidation() ||
             ValidateBindFragmentInputLocationCHROMIUM(context, programs, location, name))
         {
@@ -2694,7 +2824,6 @@
                                                      GLint components,
                                                      const GLfloat *coeffs)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLenum genMode = 0x%X, GLint components = %d, "
         "const GLfloat * coeffs = 0x%016" PRIxPTR ")",
@@ -2703,6 +2832,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ProgramPathFragmentInputGenCHROMIUM, context, program, location, genMode,
+                      components, coeffs);
         if (context->skipValidation() ||
             ValidateProgramPathFragmentInputGenCHROMIUM(context, program, location, genMode,
                                                         components, coeffs))
@@ -2715,13 +2846,13 @@
 // GL_EXT_blend_func_extended
 void GL_APIENTRY BindFragDataLocationEXT(GLuint program, GLuint color, const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint color = %u, const GLchar *name = 0x%016" PRIxPTR ")",
           program, color, (uintptr_t)name);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindFragDataLocationEXT, context, program, color, name);
         if (context->skipValidation() ||
             ValidateBindFragDataLocationEXT(context, program, color, name))
         {
@@ -2735,7 +2866,6 @@
                                                 GLuint index,
                                                 const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint colorNumber = %u, GLuint index = %u, const GLchar *name = "
         "0x%016" PRIxPTR ")",
@@ -2744,6 +2874,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindFragDataLocationIndexedEXT, context, program, colorNumber, index, name);
         if (context->skipValidation() ||
             ValidateBindFragDataLocationIndexedEXT(context, program, colorNumber, index, name))
         {
@@ -2754,13 +2885,13 @@
 
 GLint GL_APIENTRY GetFragDataIndexEXT(GLuint program, const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *name = 0x%016" PRIxPTR ")", program,
           (uintptr_t)name);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFragDataIndexEXT, context, program, name);
         if (context->skipValidation() || ValidateGetFragDataIndexEXT(context, program, name))
         {
             return context->getFragDataIndex(program, name);
@@ -2774,7 +2905,6 @@
                                                      GLenum programInterface,
                                                      const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, const GLchar *name = 0x%016" PRIxPTR
         ")",
@@ -2783,6 +2913,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetProgramResourceLocationIndexEXT, context, program, programInterface, name);
         if (context->skipValidation() ||
             ValidateGetProgramResourceLocationIndexEXT(context, program, programInterface, name))
         {
@@ -2796,7 +2927,6 @@
 // GL_EXT_debug_marker
 void GL_APIENTRY InsertEventMarkerEXT(GLsizei length, const GLchar *marker)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("(GLsizei length = %d, const GLchar *marker = 0x%016" PRIxPTR ")", length,
@@ -2805,6 +2935,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(InsertEventMarkerEXT, context, length, marker);
         if (context->skipValidation() || ValidateInsertEventMarkerEXT(context, length, marker))
         {
             context->insertEventMarker(length, marker);
@@ -2814,7 +2945,6 @@
 
 void GL_APIENTRY PopGroupMarkerEXT()
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("()");
@@ -2822,6 +2952,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PopGroupMarkerEXT, context);
         if (context->skipValidation() || ValidatePopGroupMarkerEXT(context))
         {
             context->popGroupMarker();
@@ -2831,7 +2962,6 @@
 
 void GL_APIENTRY PushGroupMarkerEXT(GLsizei length, const GLchar *marker)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("(GLsizei length = %d, const GLchar *marker = 0x%016" PRIxPTR ")", length,
@@ -2840,6 +2970,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PushGroupMarkerEXT, context, length, marker);
         if (context->skipValidation() || ValidatePushGroupMarkerEXT(context, length, marker))
         {
             context->pushGroupMarker(length, marker);
@@ -2852,7 +2983,6 @@
                                        GLsizei numAttachments,
                                        const GLenum *attachments)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei numAttachments = %d, const GLenum *attachments = "
         "0x%016" PRIxPTR ")",
@@ -2861,6 +2991,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DiscardFramebufferEXT, context, target, numAttachments, attachments);
         if (context->skipValidation() ||
             ValidateDiscardFramebufferEXT(context, target, numAttachments, attachments))
         {
@@ -2872,13 +3003,13 @@
 // GL_EXT_disjoint_timer_query
 void GL_APIENTRY BeginQueryEXT(GLenum target, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint id = %u)", target, id);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(BeginQueryEXT, context, targetPacked, id);
         if (context->skipValidation() || ValidateBeginQueryEXT(context, targetPacked, id))
         {
             context->beginQuery(targetPacked, id);
@@ -2888,12 +3019,12 @@
 
 void GL_APIENTRY DeleteQueriesEXT(GLsizei n, const GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeleteQueriesEXT, context, n, ids);
         if (context->skipValidation() || ValidateDeleteQueriesEXT(context, n, ids))
         {
             context->deleteQueries(n, ids);
@@ -2903,13 +3034,13 @@
 
 void GL_APIENTRY EndQueryEXT(GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(EndQueryEXT, context, targetPacked);
         if (context->skipValidation() || ValidateEndQueryEXT(context, targetPacked))
         {
             context->endQuery(targetPacked);
@@ -2919,12 +3050,12 @@
 
 void GL_APIENTRY GenQueriesEXT(GLsizei n, GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenQueriesEXT, context, n, ids);
         if (context->skipValidation() || ValidateGenQueriesEXT(context, n, ids))
         {
             context->genQueries(n, ids);
@@ -2934,13 +3065,13 @@
 
 void GL_APIENTRY GetQueryObjecti64vEXT(GLuint id, GLenum pname, GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLint64 *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetQueryObjecti64vEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjecti64vEXT(context, id, pname, params))
         {
             context->getQueryObjecti64v(id, pname, params);
@@ -2950,13 +3081,13 @@
 
 void GL_APIENTRY GetQueryObjectivEXT(GLuint id, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetQueryObjectivEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectivEXT(context, id, pname, params))
         {
             context->getQueryObjectiv(id, pname, params);
@@ -2966,13 +3097,13 @@
 
 void GL_APIENTRY GetQueryObjectui64vEXT(GLuint id, GLenum pname, GLuint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLuint64 *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetQueryObjectui64vEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectui64vEXT(context, id, pname, params))
         {
             context->getQueryObjectui64v(id, pname, params);
@@ -2982,13 +3113,13 @@
 
 void GL_APIENTRY GetQueryObjectuivEXT(GLuint id, GLenum pname, GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetQueryObjectuivEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectuivEXT(context, id, pname, params))
         {
             context->getQueryObjectuiv(id, pname, params);
@@ -2998,7 +3129,6 @@
 
 void GL_APIENTRY GetQueryivEXT(GLenum target, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -3006,6 +3136,7 @@
     if (context)
     {
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(GetQueryivEXT, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetQueryivEXT(context, targetPacked, pname, params))
         {
@@ -3016,12 +3147,12 @@
 
 GLboolean GL_APIENTRY IsQueryEXT(GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u)", id);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsQueryEXT, context, id);
         if (context->skipValidation() || ValidateIsQueryEXT(context, id))
         {
             return context->isQuery(id);
@@ -3033,13 +3164,13 @@
 
 void GL_APIENTRY QueryCounterEXT(GLuint id, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum target = 0x%X)", id, target);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(QueryCounterEXT, context, id, targetPacked);
         if (context->skipValidation() || ValidateQueryCounterEXT(context, id, targetPacked))
         {
             context->queryCounter(id, targetPacked);
@@ -3050,12 +3181,12 @@
 // GL_EXT_draw_buffers
 void GL_APIENTRY DrawBuffersEXT(GLsizei n, const GLenum *bufs)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLenum *bufs = 0x%016" PRIxPTR ")", n, (uintptr_t)bufs);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawBuffersEXT, context, n, bufs);
         if (context->skipValidation() || ValidateDrawBuffersEXT(context, n, bufs))
         {
             context->drawBuffers(n, bufs);
@@ -3069,13 +3200,13 @@
                                        GLuint texture,
                                        GLint level)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum attachment = 0x%X, GLuint texture = %u, GLint level = %d)",
           target, attachment, texture, level);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(FramebufferTextureEXT, context, target, attachment, texture, level);
         if (context->skipValidation() ||
             ValidateFramebufferTextureEXT(context, target, attachment, texture, level))
         {
@@ -3087,7 +3218,6 @@
 // GL_EXT_instanced_arrays
 void GL_APIENTRY DrawArraysInstancedEXT(GLenum mode, GLint start, GLsizei count, GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint start = %d, GLsizei count = %d, GLsizei primcount = %d)",
           mode, start, count, primcount);
 
@@ -3095,6 +3225,7 @@
     if (context)
     {
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysInstancedEXT, context, modePacked, start, count, primcount);
         if (context->skipValidation() ||
             ValidateDrawArraysInstancedEXT(context, modePacked, start, count, primcount))
         {
@@ -3109,7 +3240,6 @@
                                           const void *indices,
                                           GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ", GLsizei primcount = %d)",
@@ -3120,6 +3250,8 @@
     {
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsInstancedEXT, context, modePacked, count, typePacked, indices,
+                      primcount);
         if (context->skipValidation() ||
             ValidateDrawElementsInstancedEXT(context, modePacked, count, typePacked, indices,
                                              primcount))
@@ -3131,12 +3263,12 @@
 
 void GL_APIENTRY VertexAttribDivisorEXT(GLuint index, GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint divisor = %u)", index, divisor);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(VertexAttribDivisorEXT, context, index, divisor);
         if (context->skipValidation() || ValidateVertexAttribDivisorEXT(context, index, divisor))
         {
             context->vertexAttribDivisor(index, divisor);
@@ -3147,7 +3279,6 @@
 // GL_EXT_map_buffer_range
 void GL_APIENTRY FlushMappedBufferRangeEXT(GLenum target, GLintptr offset, GLsizeiptr length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu)", target,
           static_cast<unsigned long long>(offset), static_cast<unsigned long long>(length));
 
@@ -3155,6 +3286,7 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(FlushMappedBufferRangeEXT, context, targetPacked, offset, length);
         if (context->skipValidation() ||
             ValidateFlushMappedBufferRangeEXT(context, targetPacked, offset, length))
         {
@@ -3168,7 +3300,6 @@
                                     GLsizeiptr length,
                                     GLbitfield access)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu, GLbitfield "
         "access = 0x%X)",
@@ -3179,6 +3310,7 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(MapBufferRangeEXT, context, targetPacked, offset, length, access);
         if (context->skipValidation() ||
             ValidateMapBufferRangeEXT(context, targetPacked, offset, length, access))
         {
@@ -3189,6 +3321,290 @@
     return GetDefaultReturnValue<EntryPoint::MapBufferRangeEXT, void *>();
 }
 
+// GL_EXT_memory_object
+void GL_APIENTRY BufferStorageMemEXT(GLenum target, GLsizeiptr size, GLuint memory, GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizeiptr size = %llu, GLuint memory = %u, GLuint64 offset = "
+        "%llu)",
+        target, static_cast<unsigned long long>(size), memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(BufferStorageMemEXT, context, targetPacked, size, memory, offset);
+        if (context->skipValidation() ||
+            ValidateBufferStorageMemEXT(context, targetPacked, size, memory, offset))
+        {
+            context->bufferStorageMem(targetPacked, size, memory, offset);
+        }
+    }
+}
+
+void GL_APIENTRY CreateMemoryObjectsEXT(GLsizei n, GLuint *memoryObjects)
+{
+    EVENT("(GLsizei n = %d, GLuint *memoryObjects = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)memoryObjects);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(CreateMemoryObjectsEXT, context, n, memoryObjects);
+        if (context->skipValidation() || ValidateCreateMemoryObjectsEXT(context, n, memoryObjects))
+        {
+            context->createMemoryObjects(n, memoryObjects);
+        }
+    }
+}
+
+void GL_APIENTRY DeleteMemoryObjectsEXT(GLsizei n, const GLuint *memoryObjects)
+{
+    EVENT("(GLsizei n = %d, const GLuint *memoryObjects = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)memoryObjects);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(DeleteMemoryObjectsEXT, context, n, memoryObjects);
+        if (context->skipValidation() || ValidateDeleteMemoryObjectsEXT(context, n, memoryObjects))
+        {
+            context->deleteMemoryObjects(n, memoryObjects);
+        }
+    }
+}
+
+void GL_APIENTRY GetMemoryObjectParameterivEXT(GLuint memoryObject, GLenum pname, GLint *params)
+{
+    EVENT("(GLuint memoryObject = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")",
+          memoryObject, pname, (uintptr_t)params);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetMemoryObjectParameterivEXT, context, memoryObject, pname, params);
+        if (context->skipValidation() ||
+            ValidateGetMemoryObjectParameterivEXT(context, memoryObject, pname, params))
+        {
+            context->getMemoryObjectParameteriv(memoryObject, pname, params);
+        }
+    }
+}
+
+void GL_APIENTRY GetUnsignedBytevEXT(GLenum pname, GLubyte *data)
+{
+    EVENT("(GLenum pname = 0x%X, GLubyte *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetUnsignedBytevEXT, context, pname, data);
+        if (context->skipValidation() || ValidateGetUnsignedBytevEXT(context, pname, data))
+        {
+            context->getUnsignedBytev(pname, data);
+        }
+    }
+}
+
+void GL_APIENTRY GetUnsignedBytei_vEXT(GLenum target, GLuint index, GLubyte *data)
+{
+    EVENT("(GLenum target = 0x%X, GLuint index = %u, GLubyte *data = 0x%016" PRIxPTR ")", target,
+          index, (uintptr_t)data);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetUnsignedBytei_vEXT, context, target, index, data);
+        if (context->skipValidation() ||
+            ValidateGetUnsignedBytei_vEXT(context, target, index, data))
+        {
+            context->getUnsignedBytei_v(target, index, data);
+        }
+    }
+}
+
+GLboolean GL_APIENTRY IsMemoryObjectEXT(GLuint memoryObject)
+{
+    EVENT("(GLuint memoryObject = %u)", memoryObject);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(IsMemoryObjectEXT, context, memoryObject);
+        if (context->skipValidation() || ValidateIsMemoryObjectEXT(context, memoryObject))
+        {
+            return context->isMemoryObject(memoryObject);
+        }
+    }
+
+    return GetDefaultReturnValue<EntryPoint::IsMemoryObjectEXT, GLboolean>();
+}
+
+void GL_APIENTRY MemoryObjectParameterivEXT(GLuint memoryObject, GLenum pname, const GLint *params)
+{
+    EVENT("(GLuint memoryObject = %u, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR
+          ")",
+          memoryObject, pname, (uintptr_t)params);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(MemoryObjectParameterivEXT, context, memoryObject, pname, params);
+        if (context->skipValidation() ||
+            ValidateMemoryObjectParameterivEXT(context, memoryObject, pname, params))
+        {
+            context->memoryObjectParameteriv(memoryObject, pname, params);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem2DEXT(GLenum target,
+                                    GLsizei levels,
+                                    GLenum internalFormat,
+                                    GLsizei width,
+                                    GLsizei height,
+                                    GLuint memory,
+                                    GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalFormat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLuint memory = %u, GLuint64 offset = %llu)",
+        target, levels, internalFormat, width, height, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem2DEXT, context, targetPacked, levels, internalFormat, width,
+                      height, memory, offset);
+        if (context->skipValidation() ||
+            ValidateTexStorageMem2DEXT(context, targetPacked, levels, internalFormat, width, height,
+                                       memory, offset))
+        {
+            context->texStorageMem2D(targetPacked, levels, internalFormat, width, height, memory,
+                                     offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem2DMultisampleEXT(GLenum target,
+                                               GLsizei samples,
+                                               GLenum internalFormat,
+                                               GLsizei width,
+                                               GLsizei height,
+                                               GLboolean fixedSampleLocations,
+                                               GLuint memory,
+                                               GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalFormat = 0x%X, GLsizei width "
+        "= %d, GLsizei height = %d, GLboolean fixedSampleLocations = %u, GLuint memory = %u, "
+        "GLuint64 offset = %llu)",
+        target, samples, internalFormat, width, height, fixedSampleLocations, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem2DMultisampleEXT, context, targetPacked, samples, internalFormat,
+                      width, height, fixedSampleLocations, memory, offset);
+        if (context->skipValidation() || ValidateTexStorageMem2DMultisampleEXT(
+                                             context, targetPacked, samples, internalFormat, width,
+                                             height, fixedSampleLocations, memory, offset))
+        {
+            context->texStorageMem2DMultisample(targetPacked, samples, internalFormat, width,
+                                                height, fixedSampleLocations, memory, offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem3DEXT(GLenum target,
+                                    GLsizei levels,
+                                    GLenum internalFormat,
+                                    GLsizei width,
+                                    GLsizei height,
+                                    GLsizei depth,
+                                    GLuint memory,
+                                    GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalFormat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLuint memory = %u, GLuint64 offset = %llu)",
+        target, levels, internalFormat, width, height, depth, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem3DEXT, context, targetPacked, levels, internalFormat, width,
+                      height, depth, memory, offset);
+        if (context->skipValidation() ||
+            ValidateTexStorageMem3DEXT(context, targetPacked, levels, internalFormat, width, height,
+                                       depth, memory, offset))
+        {
+            context->texStorageMem3D(targetPacked, levels, internalFormat, width, height, depth,
+                                     memory, offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem3DMultisampleEXT(GLenum target,
+                                               GLsizei samples,
+                                               GLenum internalFormat,
+                                               GLsizei width,
+                                               GLsizei height,
+                                               GLsizei depth,
+                                               GLboolean fixedSampleLocations,
+                                               GLuint memory,
+                                               GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalFormat = 0x%X, GLsizei width "
+        "= %d, GLsizei height = %d, GLsizei depth = %d, GLboolean fixedSampleLocations = %u, "
+        "GLuint memory = %u, GLuint64 offset = %llu)",
+        target, samples, internalFormat, width, height, depth, fixedSampleLocations, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem3DMultisampleEXT, context, targetPacked, samples, internalFormat,
+                      width, height, depth, fixedSampleLocations, memory, offset);
+        if (context->skipValidation() || ValidateTexStorageMem3DMultisampleEXT(
+                                             context, targetPacked, samples, internalFormat, width,
+                                             height, depth, fixedSampleLocations, memory, offset))
+        {
+            context->texStorageMem3DMultisample(targetPacked, samples, internalFormat, width,
+                                                height, depth, fixedSampleLocations, memory,
+                                                offset);
+        }
+    }
+}
+
+// GL_EXT_memory_object_fd
+void GL_APIENTRY ImportMemoryFdEXT(GLuint memory, GLuint64 size, GLenum handleType, GLint fd)
+{
+    EVENT("(GLuint memory = %u, GLuint64 size = %llu, GLenum handleType = 0x%X, GLint fd = %d)",
+          memory, static_cast<unsigned long long>(size), handleType, fd);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        HandleType handleTypePacked = FromGLenum<HandleType>(handleType);
+        ANGLE_CAPTURE(ImportMemoryFdEXT, context, memory, size, handleTypePacked, fd);
+        if (context->skipValidation() ||
+            ValidateImportMemoryFdEXT(context, memory, size, handleTypePacked, fd))
+        {
+            context->importMemoryFd(memory, size, handleTypePacked, fd);
+        }
+    }
+}
+
 // GL_EXT_occlusion_query_boolean
 // BeginQueryEXT is already defined.
 
@@ -3207,12 +3623,12 @@
 // GL_EXT_robustness
 GLenum GL_APIENTRY GetGraphicsResetStatusEXT()
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
-    Context *context = GetValidGlobalContext();
-    if (context)
-    {
+    Context *context = GetGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetGraphicsResetStatusEXT, context);
         if (context->skipValidation() || ValidateGetGraphicsResetStatusEXT(context))
         {
             return context->getGraphicsResetStatus();
@@ -3224,7 +3640,6 @@
 
 void GL_APIENTRY GetnUniformfvEXT(GLuint program, GLint location, GLsizei bufSize, GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLfloat *params = "
         "0x%016" PRIxPTR ")",
@@ -3233,6 +3648,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetnUniformfvEXT, context, program, location, bufSize, params);
         if (context->skipValidation() ||
             ValidateGetnUniformfvEXT(context, program, location, bufSize, params))
         {
@@ -3243,7 +3659,6 @@
 
 void GL_APIENTRY GetnUniformivEXT(GLuint program, GLint location, GLsizei bufSize, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -3252,6 +3667,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetnUniformivEXT, context, program, location, bufSize, params);
         if (context->skipValidation() ||
             ValidateGetnUniformivEXT(context, program, location, bufSize, params))
         {
@@ -3269,7 +3685,6 @@
                                 GLsizei bufSize,
                                 void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, void *data = 0x%016" PRIxPTR ")",
@@ -3278,6 +3693,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ReadnPixelsEXT, context, x, y, width, height, format, type, bufSize, data);
         if (context->skipValidation() ||
             ValidateReadnPixelsEXT(context, x, y, width, height, format, type, bufSize, data))
         {
@@ -3286,13 +3702,177 @@
     }
 }
 
+// GL_EXT_semaphore
+void GL_APIENTRY DeleteSemaphoresEXT(GLsizei n, const GLuint *semaphores)
+{
+    EVENT("(GLsizei n = %d, const GLuint *semaphores = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)semaphores);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(DeleteSemaphoresEXT, context, n, semaphores);
+        if (context->skipValidation() || ValidateDeleteSemaphoresEXT(context, n, semaphores))
+        {
+            context->deleteSemaphores(n, semaphores);
+        }
+    }
+}
+
+void GL_APIENTRY GenSemaphoresEXT(GLsizei n, GLuint *semaphores)
+{
+    EVENT("(GLsizei n = %d, GLuint *semaphores = 0x%016" PRIxPTR ")", n, (uintptr_t)semaphores);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GenSemaphoresEXT, context, n, semaphores);
+        if (context->skipValidation() || ValidateGenSemaphoresEXT(context, n, semaphores))
+        {
+            context->genSemaphores(n, semaphores);
+        }
+    }
+}
+
+void GL_APIENTRY GetSemaphoreParameterui64vEXT(GLuint semaphore, GLenum pname, GLuint64 *params)
+{
+    EVENT("(GLuint semaphore = %u, GLenum pname = 0x%X, GLuint64 *params = 0x%016" PRIxPTR ")",
+          semaphore, pname, (uintptr_t)params);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(GetSemaphoreParameterui64vEXT, context, semaphore, pname, params);
+        if (context->skipValidation() ||
+            ValidateGetSemaphoreParameterui64vEXT(context, semaphore, pname, params))
+        {
+            context->getSemaphoreParameterui64v(semaphore, pname, params);
+        }
+    }
+}
+
+GLboolean GL_APIENTRY IsSemaphoreEXT(GLuint semaphore)
+{
+    EVENT("(GLuint semaphore = %u)", semaphore);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(IsSemaphoreEXT, context, semaphore);
+        if (context->skipValidation() || ValidateIsSemaphoreEXT(context, semaphore))
+        {
+            return context->isSemaphore(semaphore);
+        }
+    }
+
+    return GetDefaultReturnValue<EntryPoint::IsSemaphoreEXT, GLboolean>();
+}
+
+void GL_APIENTRY SemaphoreParameterui64vEXT(GLuint semaphore, GLenum pname, const GLuint64 *params)
+{
+    EVENT("(GLuint semaphore = %u, GLenum pname = 0x%X, const GLuint64 *params = 0x%016" PRIxPTR
+          ")",
+          semaphore, pname, (uintptr_t)params);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(SemaphoreParameterui64vEXT, context, semaphore, pname, params);
+        if (context->skipValidation() ||
+            ValidateSemaphoreParameterui64vEXT(context, semaphore, pname, params))
+        {
+            context->semaphoreParameterui64v(semaphore, pname, params);
+        }
+    }
+}
+
+void GL_APIENTRY SignalSemaphoreEXT(GLuint semaphore,
+                                    GLuint numBufferBarriers,
+                                    const GLuint *buffers,
+                                    GLuint numTextureBarriers,
+                                    const GLuint *textures,
+                                    const GLenum *dstLayouts)
+{
+    EVENT(
+        "(GLuint semaphore = %u, GLuint numBufferBarriers = %u, const GLuint *buffers = "
+        "0x%016" PRIxPTR ", GLuint numTextureBarriers = %u, const GLuint *textures = 0x%016" PRIxPTR
+        ", const GLenum *dstLayouts = 0x%016" PRIxPTR ")",
+        semaphore, numBufferBarriers, (uintptr_t)buffers, numTextureBarriers, (uintptr_t)textures,
+        (uintptr_t)dstLayouts);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(SignalSemaphoreEXT, context, semaphore, numBufferBarriers, buffers,
+                      numTextureBarriers, textures, dstLayouts);
+        if (context->skipValidation() ||
+            ValidateSignalSemaphoreEXT(context, semaphore, numBufferBarriers, buffers,
+                                       numTextureBarriers, textures, dstLayouts))
+        {
+            context->signalSemaphore(semaphore, numBufferBarriers, buffers, numTextureBarriers,
+                                     textures, dstLayouts);
+        }
+    }
+}
+
+void GL_APIENTRY WaitSemaphoreEXT(GLuint semaphore,
+                                  GLuint numBufferBarriers,
+                                  const GLuint *buffers,
+                                  GLuint numTextureBarriers,
+                                  const GLuint *textures,
+                                  const GLenum *srcLayouts)
+{
+    EVENT(
+        "(GLuint semaphore = %u, GLuint numBufferBarriers = %u, const GLuint *buffers = "
+        "0x%016" PRIxPTR ", GLuint numTextureBarriers = %u, const GLuint *textures = 0x%016" PRIxPTR
+        ", const GLenum *srcLayouts = 0x%016" PRIxPTR ")",
+        semaphore, numBufferBarriers, (uintptr_t)buffers, numTextureBarriers, (uintptr_t)textures,
+        (uintptr_t)srcLayouts);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        ANGLE_CAPTURE(WaitSemaphoreEXT, context, semaphore, numBufferBarriers, buffers,
+                      numTextureBarriers, textures, srcLayouts);
+        if (context->skipValidation() ||
+            ValidateWaitSemaphoreEXT(context, semaphore, numBufferBarriers, buffers,
+                                     numTextureBarriers, textures, srcLayouts))
+        {
+            context->waitSemaphore(semaphore, numBufferBarriers, buffers, numTextureBarriers,
+                                   textures, srcLayouts);
+        }
+    }
+}
+
+// GetUnsignedBytei_vEXT is already defined.
+
+// GetUnsignedBytevEXT is already defined.
+
+// GL_EXT_semaphore_fd
+void GL_APIENTRY ImportSemaphoreFdEXT(GLuint semaphore, GLenum handleType, GLint fd)
+{
+    EVENT("(GLuint semaphore = %u, GLenum handleType = 0x%X, GLint fd = %d)", semaphore, handleType,
+          fd);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        HandleType handleTypePacked = FromGLenum<HandleType>(handleType);
+        ANGLE_CAPTURE(ImportSemaphoreFdEXT, context, semaphore, handleTypePacked, fd);
+        if (context->skipValidation() ||
+            ValidateImportSemaphoreFdEXT(context, semaphore, handleTypePacked, fd))
+        {
+            context->importSemaphoreFd(semaphore, handleTypePacked, fd);
+        }
+    }
+}
+
 // GL_EXT_texture_storage
 void GL_APIENTRY TexStorage1DEXT(GLenum target,
                                  GLsizei levels,
                                  GLenum internalformat,
                                  GLsizei width)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d)",
@@ -3301,6 +3881,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexStorage1DEXT, context, target, levels, internalformat, width);
         if (context->skipValidation() ||
             ValidateTexStorage1DEXT(context, target, levels, internalformat, width))
         {
@@ -3312,7 +3893,6 @@
 void GL_APIENTRY
 TexStorage2DEXT(GLenum target, GLsizei levels, GLenum internalformat, GLsizei width, GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d)",
@@ -3322,6 +3902,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2DEXT, context, targetPacked, levels, internalformat, width,
+                      height);
         if (context->skipValidation() ||
             ValidateTexStorage2DEXT(context, targetPacked, levels, internalformat, width, height))
         {
@@ -3337,7 +3919,6 @@
                                  GLsizei height,
                                  GLsizei depth)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d)",
@@ -3347,6 +3928,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage3DEXT, context, targetPacked, levels, internalformat, width, height,
+                      depth);
         if (context->skipValidation() ||
             ValidateTexStorage3DEXT(context, targetPacked, levels, internalformat, width, height,
                                     depth))
@@ -3359,7 +3942,6 @@
 // GL_KHR_debug
 void GL_APIENTRY DebugMessageCallbackKHR(GLDEBUGPROCKHR callback, const void *userParam)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLDEBUGPROCKHR callback = 0x%016" PRIxPTR ", const void *userParam = 0x%016" PRIxPTR
           ")",
           (uintptr_t)callback, (uintptr_t)userParam);
@@ -3367,6 +3949,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DebugMessageCallbackKHR, context, callback, userParam);
         if (context->skipValidation() ||
             ValidateDebugMessageCallbackKHR(context, callback, userParam))
         {
@@ -3382,7 +3965,6 @@
                                         const GLuint *ids,
                                         GLboolean enabled)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLenum type = 0x%X, GLenum severity = 0x%X, GLsizei count = %d, "
         "const GLuint *ids = 0x%016" PRIxPTR ", GLboolean enabled = %u)",
@@ -3391,6 +3973,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DebugMessageControlKHR, context, source, type, severity, count, ids, enabled);
         if (context->skipValidation() ||
             ValidateDebugMessageControlKHR(context, source, type, severity, count, ids, enabled))
         {
@@ -3406,7 +3989,6 @@
                                        GLsizei length,
                                        const GLchar *buf)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLenum type = 0x%X, GLuint id = %u, GLenum severity = 0x%X, "
         "GLsizei length = %d, const GLchar *buf = 0x%016" PRIxPTR ")",
@@ -3415,6 +3997,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DebugMessageInsertKHR, context, source, type, id, severity, length, buf);
         if (context->skipValidation() ||
             ValidateDebugMessageInsertKHR(context, source, type, id, severity, length, buf))
         {
@@ -3432,7 +4015,6 @@
                                          GLsizei *lengths,
                                          GLchar *messageLog)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint count = %u, GLsizei bufSize = %d, GLenum *sources = 0x%016" PRIxPTR
           ", GLenum *types = 0x%016" PRIxPTR ", GLuint *ids = 0x%016" PRIxPTR
           ", GLenum *severities = 0x%016" PRIxPTR ", GLsizei *lengths = 0x%016" PRIxPTR
@@ -3443,6 +4025,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetDebugMessageLogKHR, context, count, bufSize, sources, types, ids,
+                      severities, lengths, messageLog);
         if (context->skipValidation() ||
             ValidateGetDebugMessageLogKHR(context, count, bufSize, sources, types, ids, severities,
                                           lengths, messageLog))
@@ -3458,7 +4042,6 @@
 void GL_APIENTRY
 GetObjectLabelKHR(GLenum identifier, GLuint name, GLsizei bufSize, GLsizei *length, GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum identifier = 0x%X, GLuint name = %u, GLsizei bufSize = %d, GLsizei *length = "
         "0x%016" PRIxPTR ", GLchar *label = 0x%016" PRIxPTR ")",
@@ -3467,6 +4050,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetObjectLabelKHR, context, identifier, name, bufSize, length, label);
         if (context->skipValidation() ||
             ValidateGetObjectLabelKHR(context, identifier, name, bufSize, length, label))
         {
@@ -3480,7 +4064,6 @@
                                       GLsizei *length,
                                       GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const void *ptr = 0x%016" PRIxPTR
           ", GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *label = 0x%016" PRIxPTR ")",
@@ -3489,6 +4072,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetObjectPtrLabelKHR, context, ptr, bufSize, length, label);
         if (context->skipValidation() ||
             ValidateGetObjectPtrLabelKHR(context, ptr, bufSize, length, label))
         {
@@ -3499,12 +4083,12 @@
 
 void GL_APIENTRY GetPointervKHR(GLenum pname, void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetPointervKHR, context, pname, params);
         if (context->skipValidation() || ValidateGetPointervKHR(context, pname, params))
         {
             context->getPointerv(pname, params);
@@ -3514,7 +4098,6 @@
 
 void GL_APIENTRY ObjectLabelKHR(GLenum identifier, GLuint name, GLsizei length, const GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum identifier = 0x%X, GLuint name = %u, GLsizei length = %d, const GLchar *label = "
         "0x%016" PRIxPTR ")",
@@ -3523,6 +4106,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ObjectLabelKHR, context, identifier, name, length, label);
         if (context->skipValidation() ||
             ValidateObjectLabelKHR(context, identifier, name, length, label))
         {
@@ -3533,7 +4117,6 @@
 
 void GL_APIENTRY ObjectPtrLabelKHR(const void *ptr, GLsizei length, const GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const void *ptr = 0x%016" PRIxPTR
           ", GLsizei length = %d, const GLchar *label = 0x%016" PRIxPTR ")",
           (uintptr_t)ptr, length, (uintptr_t)label);
@@ -3541,6 +4124,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ObjectPtrLabelKHR, context, ptr, length, label);
         if (context->skipValidation() || ValidateObjectPtrLabelKHR(context, ptr, length, label))
         {
             context->objectPtrLabel(ptr, length, label);
@@ -3550,12 +4134,12 @@
 
 void GL_APIENTRY PopDebugGroupKHR()
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PopDebugGroupKHR, context);
         if (context->skipValidation() || ValidatePopDebugGroupKHR(context))
         {
             context->popDebugGroup();
@@ -3565,7 +4149,6 @@
 
 void GL_APIENTRY PushDebugGroupKHR(GLenum source, GLuint id, GLsizei length, const GLchar *message)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLuint id = %u, GLsizei length = %d, const GLchar *message = "
         "0x%016" PRIxPTR ")",
@@ -3574,6 +4157,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(PushDebugGroupKHR, context, source, id, length, message);
         if (context->skipValidation() ||
             ValidatePushDebugGroupKHR(context, source, id, length, message))
         {
@@ -3585,12 +4169,12 @@
 // GL_KHR_parallel_shader_compile
 void GL_APIENTRY MaxShaderCompilerThreadsKHR(GLuint count)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint count = %u)", count);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(MaxShaderCompilerThreadsKHR, context, count);
         if (context->skipValidation() || ValidateMaxShaderCompilerThreadsKHR(context, count))
         {
             context->maxShaderCompilerThreads(count);
@@ -3601,12 +4185,12 @@
 // GL_NV_fence
 void GL_APIENTRY DeleteFencesNV(GLsizei n, const GLuint *fences)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *fences = 0x%016" PRIxPTR ")", n, (uintptr_t)fences);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeleteFencesNV, context, n, fences);
         if (context->skipValidation() || ValidateDeleteFencesNV(context, n, fences))
         {
             context->deleteFencesNV(n, fences);
@@ -3616,12 +4200,12 @@
 
 void GL_APIENTRY FinishFenceNV(GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(FinishFenceNV, context, fence);
         if (context->skipValidation() || ValidateFinishFenceNV(context, fence))
         {
             context->finishFenceNV(fence);
@@ -3631,12 +4215,12 @@
 
 void GL_APIENTRY GenFencesNV(GLsizei n, GLuint *fences)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *fences = 0x%016" PRIxPTR ")", n, (uintptr_t)fences);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenFencesNV, context, n, fences);
         if (context->skipValidation() || ValidateGenFencesNV(context, n, fences))
         {
             context->genFencesNV(n, fences);
@@ -3646,13 +4230,13 @@
 
 void GL_APIENTRY GetFenceivNV(GLuint fence, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", fence,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFenceivNV, context, fence, pname, params);
         if (context->skipValidation() || ValidateGetFenceivNV(context, fence, pname, params))
         {
             context->getFenceivNV(fence, pname, params);
@@ -3662,12 +4246,12 @@
 
 GLboolean GL_APIENTRY IsFenceNV(GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsFenceNV, context, fence);
         if (context->skipValidation() || ValidateIsFenceNV(context, fence))
         {
             return context->isFenceNV(fence);
@@ -3679,12 +4263,12 @@
 
 void GL_APIENTRY SetFenceNV(GLuint fence, GLenum condition)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u, GLenum condition = 0x%X)", fence, condition);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SetFenceNV, context, fence, condition);
         if (context->skipValidation() || ValidateSetFenceNV(context, fence, condition))
         {
             context->setFenceNV(fence, condition);
@@ -3694,12 +4278,12 @@
 
 GLboolean GL_APIENTRY TestFenceNV(GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TestFenceNV, context, fence);
         if (context->skipValidation() || ValidateTestFenceNV(context, fence))
         {
             return context->testFenceNV(fence);
@@ -3712,13 +4296,13 @@
 // GL_OES_EGL_image
 void GL_APIENTRY EGLImageTargetRenderbufferStorageOES(GLenum target, GLeglImageOES image)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLeglImageOES image = 0x%016" PRIxPTR ")", target,
           (uintptr_t)image);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(EGLImageTargetRenderbufferStorageOES, context, target, image);
         if (context->skipValidation() ||
             ValidateEGLImageTargetRenderbufferStorageOES(context, target, image))
         {
@@ -3729,7 +4313,6 @@
 
 void GL_APIENTRY EGLImageTargetTexture2DOES(GLenum target, GLeglImageOES image)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLeglImageOES image = 0x%016" PRIxPTR ")", target,
           (uintptr_t)image);
 
@@ -3737,6 +4320,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(EGLImageTargetTexture2DOES, context, targetPacked, image);
         if (context->skipValidation() ||
             ValidateEGLImageTargetTexture2DOES(context, targetPacked, image))
         {
@@ -3748,7 +4332,6 @@
 // GL_OES_draw_texture
 void GL_APIENTRY DrawTexfOES(GLfloat x, GLfloat y, GLfloat z, GLfloat width, GLfloat height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfloat x = %f, GLfloat y = %f, GLfloat z = %f, GLfloat width = %f, GLfloat height = %f)",
         x, y, z, width, height);
@@ -3756,6 +4339,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexfOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexfOES(context, x, y, z, width, height))
         {
             context->drawTexf(x, y, z, width, height);
@@ -3765,12 +4349,12 @@
 
 void GL_APIENTRY DrawTexfvOES(const GLfloat *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfloat *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexfvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexfvOES(context, coords))
         {
             context->drawTexfv(coords);
@@ -3780,13 +4364,13 @@
 
 void GL_APIENTRY DrawTexiOES(GLint x, GLint y, GLint z, GLint width, GLint height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint x = %d, GLint y = %d, GLint z = %d, GLint width = %d, GLint height = %d)", x, y,
           z, width, height);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexiOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexiOES(context, x, y, z, width, height))
         {
             context->drawTexi(x, y, z, width, height);
@@ -3796,12 +4380,12 @@
 
 void GL_APIENTRY DrawTexivOES(const GLint *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLint *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexivOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexivOES(context, coords))
         {
             context->drawTexiv(coords);
@@ -3811,7 +4395,6 @@
 
 void GL_APIENTRY DrawTexsOES(GLshort x, GLshort y, GLshort z, GLshort width, GLshort height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLshort x = %d, GLshort y = %d, GLshort z = %d, GLshort width = %d, GLshort height = %d)",
         x, y, z, width, height);
@@ -3819,6 +4402,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexsOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexsOES(context, x, y, z, width, height))
         {
             context->drawTexs(x, y, z, width, height);
@@ -3828,12 +4412,12 @@
 
 void GL_APIENTRY DrawTexsvOES(const GLshort *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLshort *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexsvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexsvOES(context, coords))
         {
             context->drawTexsv(coords);
@@ -3843,7 +4427,6 @@
 
 void GL_APIENTRY DrawTexxOES(GLfixed x, GLfixed y, GLfixed z, GLfixed width, GLfixed height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfixed x = 0x%X, GLfixed y = 0x%X, GLfixed z = 0x%X, GLfixed width = 0x%X, GLfixed "
         "height = 0x%X)",
@@ -3852,6 +4435,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexxOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexxOES(context, x, y, z, width, height))
         {
             context->drawTexx(x, y, z, width, height);
@@ -3861,12 +4445,12 @@
 
 void GL_APIENTRY DrawTexxvOES(const GLfixed *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfixed *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DrawTexxvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexxvOES(context, coords))
         {
             context->drawTexxv(coords);
@@ -3877,12 +4461,12 @@
 // GL_OES_framebuffer_object
 void GL_APIENTRY BindFramebufferOES(GLenum target, GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint framebuffer = %u)", target, framebuffer);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindFramebufferOES, context, target, framebuffer);
         if (context->skipValidation() || ValidateBindFramebufferOES(context, target, framebuffer))
         {
             context->bindFramebuffer(target, framebuffer);
@@ -3892,12 +4476,12 @@
 
 void GL_APIENTRY BindRenderbufferOES(GLenum target, GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint renderbuffer = %u)", target, renderbuffer);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindRenderbufferOES, context, target, renderbuffer);
         if (context->skipValidation() || ValidateBindRenderbufferOES(context, target, renderbuffer))
         {
             context->bindRenderbuffer(target, renderbuffer);
@@ -3907,12 +4491,12 @@
 
 GLenum GL_APIENTRY CheckFramebufferStatusOES(GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CheckFramebufferStatusOES, context, target);
         if (context->skipValidation() || ValidateCheckFramebufferStatusOES(context, target))
         {
             return context->checkFramebufferStatus(target);
@@ -3924,13 +4508,13 @@
 
 void GL_APIENTRY DeleteFramebuffersOES(GLsizei n, const GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *framebuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)framebuffers);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeleteFramebuffersOES, context, n, framebuffers);
         if (context->skipValidation() || ValidateDeleteFramebuffersOES(context, n, framebuffers))
         {
             context->deleteFramebuffers(n, framebuffers);
@@ -3940,13 +4524,13 @@
 
 void GL_APIENTRY DeleteRenderbuffersOES(GLsizei n, const GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeleteRenderbuffersOES, context, n, renderbuffers);
         if (context->skipValidation() || ValidateDeleteRenderbuffersOES(context, n, renderbuffers))
         {
             context->deleteRenderbuffers(n, renderbuffers);
@@ -3959,7 +4543,6 @@
                                             GLenum renderbuffertarget,
                                             GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum renderbuffertarget = 0x%X, GLuint "
         "renderbuffer = %u)",
@@ -3968,6 +4551,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(FramebufferRenderbufferOES, context, target, attachment, renderbuffertarget,
+                      renderbuffer);
         if (context->skipValidation() ||
             ValidateFramebufferRenderbufferOES(context, target, attachment, renderbuffertarget,
                                                renderbuffer))
@@ -3983,7 +4568,6 @@
                                          GLuint texture,
                                          GLint level)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum textarget = 0x%X, GLuint texture "
         "= %u, GLint level = %d)",
@@ -3993,6 +4577,8 @@
     if (context)
     {
         TextureTarget textargetPacked = FromGLenum<TextureTarget>(textarget);
+        ANGLE_CAPTURE(FramebufferTexture2DOES, context, target, attachment, textargetPacked,
+                      texture, level);
         if (context->skipValidation() ||
             ValidateFramebufferTexture2DOES(context, target, attachment, textargetPacked, texture,
                                             level))
@@ -4004,12 +4590,12 @@
 
 void GL_APIENTRY GenFramebuffersOES(GLsizei n, GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *framebuffers = 0x%016" PRIxPTR ")", n, (uintptr_t)framebuffers);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenFramebuffersOES, context, n, framebuffers);
         if (context->skipValidation() || ValidateGenFramebuffersOES(context, n, framebuffers))
         {
             context->genFramebuffers(n, framebuffers);
@@ -4019,13 +4605,13 @@
 
 void GL_APIENTRY GenRenderbuffersOES(GLsizei n, GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenRenderbuffersOES, context, n, renderbuffers);
         if (context->skipValidation() || ValidateGenRenderbuffersOES(context, n, renderbuffers))
         {
             context->genRenderbuffers(n, renderbuffers);
@@ -4035,13 +4621,13 @@
 
 void GL_APIENTRY GenerateMipmapOES(GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GenerateMipmapOES, context, targetPacked);
         if (context->skipValidation() || ValidateGenerateMipmapOES(context, targetPacked))
         {
             context->generateMipmap(targetPacked);
@@ -4054,7 +4640,6 @@
                                                         GLenum pname,
                                                         GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum pname = 0x%X, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -4063,6 +4648,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetFramebufferAttachmentParameterivOES, context, target, attachment, pname,
+                      params);
         if (context->skipValidation() || ValidateGetFramebufferAttachmentParameterivOES(
                                              context, target, attachment, pname, params))
         {
@@ -4073,13 +4660,13 @@
 
 void GL_APIENTRY GetRenderbufferParameterivOES(GLenum target, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetRenderbufferParameterivOES, context, target, pname, params);
         if (context->skipValidation() ||
             ValidateGetRenderbufferParameterivOES(context, target, pname, params))
         {
@@ -4090,12 +4677,12 @@
 
 GLboolean GL_APIENTRY IsFramebufferOES(GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint framebuffer = %u)", framebuffer);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsFramebufferOES, context, framebuffer);
         if (context->skipValidation() || ValidateIsFramebufferOES(context, framebuffer))
         {
             return context->isFramebuffer(framebuffer);
@@ -4107,12 +4694,12 @@
 
 GLboolean GL_APIENTRY IsRenderbufferOES(GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint renderbuffer = %u)", renderbuffer);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsRenderbufferOES, context, renderbuffer);
         if (context->skipValidation() || ValidateIsRenderbufferOES(context, renderbuffer))
         {
             return context->isRenderbuffer(renderbuffer);
@@ -4127,7 +4714,6 @@
                                         GLsizei width,
                                         GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLsizei width = %d, GLsizei height = "
         "%d)",
@@ -4136,6 +4722,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(RenderbufferStorageOES, context, target, internalformat, width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorageOES(context, target, internalformat, width, height))
         {
@@ -4151,7 +4738,6 @@
                                      GLenum *binaryFormat,
                                      void *binary)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLenum *binaryFormat = 0x%016" PRIxPTR ", void *binary = 0x%016" PRIxPTR ")",
           program, bufSize, (uintptr_t)length, (uintptr_t)binaryFormat, (uintptr_t)binary);
@@ -4159,6 +4745,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetProgramBinaryOES, context, program, bufSize, length, binaryFormat, binary);
         if (context->skipValidation() ||
             ValidateGetProgramBinaryOES(context, program, bufSize, length, binaryFormat, binary))
         {
@@ -4172,7 +4759,6 @@
                                   const void *binary,
                                   GLint length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLenum binaryFormat = 0x%X, const void *binary = 0x%016" PRIxPTR
           ", GLint length = %d)",
           program, binaryFormat, (uintptr_t)binary, length);
@@ -4180,6 +4766,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(ProgramBinaryOES, context, program, binaryFormat, binary, length);
         if (context->skipValidation() ||
             ValidateProgramBinaryOES(context, program, binaryFormat, binary, length))
         {
@@ -4191,7 +4778,6 @@
 // GL_OES_mapbuffer
 void GL_APIENTRY GetBufferPointervOES(GLenum target, GLenum pname, void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -4199,6 +4785,7 @@
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferPointervOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetBufferPointervOES(context, targetPacked, pname, params))
         {
@@ -4209,13 +4796,13 @@
 
 void *GL_APIENTRY MapBufferOES(GLenum target, GLenum access)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum access = 0x%X)", target, access);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(MapBufferOES, context, targetPacked, access);
         if (context->skipValidation() || ValidateMapBufferOES(context, targetPacked, access))
         {
             return context->mapBuffer(targetPacked, access);
@@ -4227,13 +4814,13 @@
 
 GLboolean GL_APIENTRY UnmapBufferOES(GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(UnmapBufferOES, context, targetPacked);
         if (context->skipValidation() || ValidateUnmapBufferOES(context, targetPacked))
         {
             return context->unmapBuffer(targetPacked);
@@ -4246,12 +4833,12 @@
 // GL_OES_matrix_palette
 void GL_APIENTRY CurrentPaletteMatrixOES(GLuint matrixpaletteindex)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint matrixpaletteindex = %u)", matrixpaletteindex);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(CurrentPaletteMatrixOES, context, matrixpaletteindex);
         if (context->skipValidation() ||
             ValidateCurrentPaletteMatrixOES(context, matrixpaletteindex))
         {
@@ -4262,12 +4849,12 @@
 
 void GL_APIENTRY LoadPaletteFromModelViewMatrixOES()
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(LoadPaletteFromModelViewMatrixOES, context);
         if (context->skipValidation() || ValidateLoadPaletteFromModelViewMatrixOES(context))
         {
             context->loadPaletteFromModelViewMatrix();
@@ -4277,7 +4864,6 @@
 
 void GL_APIENTRY MatrixIndexPointerOES(GLint size, GLenum type, GLsizei stride, const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -4286,6 +4872,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(MatrixIndexPointerOES, context, size, type, stride, pointer);
         if (context->skipValidation() ||
             ValidateMatrixIndexPointerOES(context, size, type, stride, pointer))
         {
@@ -4296,7 +4883,6 @@
 
 void GL_APIENTRY WeightPointerOES(GLint size, GLenum type, GLsizei stride, const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -4305,6 +4891,7 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(WeightPointerOES, context, size, type, stride, pointer);
         if (context->skipValidation() ||
             ValidateWeightPointerOES(context, size, type, stride, pointer))
         {
@@ -4316,7 +4903,6 @@
 // GL_OES_point_size_array
 void GL_APIENTRY PointSizePointerOES(GLenum type, GLsizei stride, const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = 0x%016" PRIxPTR ")",
           type, stride, (uintptr_t)pointer);
 
@@ -4324,6 +4910,7 @@
     if (context)
     {
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(PointSizePointerOES, context, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidatePointSizePointerOES(context, typePacked, stride, pointer))
         {
@@ -4335,13 +4922,13 @@
 // GL_OES_query_matrix
 GLbitfield GL_APIENTRY QueryMatrixxOES(GLfixed *mantissa, GLint *exponent)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed *mantissa = 0x%016" PRIxPTR ", GLint *exponent = 0x%016" PRIxPTR ")",
           (uintptr_t)mantissa, (uintptr_t)exponent);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(QueryMatrixxOES, context, mantissa, exponent);
         if (context->skipValidation() || ValidateQueryMatrixxOES(context, mantissa, exponent))
         {
             return context->queryMatrixx(mantissa, exponent);
@@ -4351,16 +4938,213 @@
     return GetDefaultReturnValue<EntryPoint::QueryMatrixxOES, GLbitfield>();
 }
 
+// GL_OES_texture_3D
+void GL_APIENTRY CompressedTexImage3DOES(GLenum target,
+                                         GLint level,
+                                         GLenum internalformat,
+                                         GLsizei width,
+                                         GLsizei height,
+                                         GLsizei depth,
+                                         GLint border,
+                                         GLsizei imageSize,
+                                         const void *data)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLsizei imageSize = %d, "
+        "const void *data = 0x%016" PRIxPTR ")",
+        target, level, internalformat, width, height, depth, border, imageSize, (uintptr_t)data);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage3DOES, context, targetPacked, level, internalformat, width,
+                      height, depth, border, imageSize, data);
+        if (context->skipValidation() ||
+            ValidateCompressedTexImage3DOES(context, targetPacked, level, internalformat, width,
+                                            height, depth, border, imageSize, data))
+        {
+            context->compressedTexImage3D(targetPacked, level, internalformat, width, height, depth,
+                                          border, imageSize, data);
+        }
+    }
+}
+
+void GL_APIENTRY CompressedTexSubImage3DOES(GLenum target,
+                                            GLint level,
+                                            GLint xoffset,
+                                            GLint yoffset,
+                                            GLint zoffset,
+                                            GLsizei width,
+                                            GLsizei height,
+                                            GLsizei depth,
+                                            GLenum format,
+                                            GLsizei imageSize,
+                                            const void *data)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
+        "= 0x%X, GLsizei imageSize = %d, const void *data = 0x%016" PRIxPTR ")",
+        target, level, xoffset, yoffset, zoffset, width, height, depth, format, imageSize,
+        (uintptr_t)data);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage3DOES, context, targetPacked, level, xoffset, yoffset,
+                      zoffset, width, height, depth, format, imageSize, data);
+        if (context->skipValidation() ||
+            ValidateCompressedTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset,
+                                               zoffset, width, height, depth, format, imageSize,
+                                               data))
+        {
+            context->compressedTexSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, width,
+                                             height, depth, format, imageSize, data);
+        }
+    }
+}
+
+void GL_APIENTRY CopyTexSubImage3DOES(GLenum target,
+                                      GLint level,
+                                      GLint xoffset,
+                                      GLint yoffset,
+                                      GLint zoffset,
+                                      GLint x,
+                                      GLint y,
+                                      GLsizei width,
+                                      GLsizei height)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)",
+        target, level, xoffset, yoffset, zoffset, x, y, width, height);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CopyTexSubImage3DOES, context, targetPacked, level, xoffset, yoffset, zoffset,
+                      x, y, width, height);
+        if (context->skipValidation() ||
+            ValidateCopyTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset, zoffset, x,
+                                         y, width, height))
+        {
+            context->copyTexSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, x, y, width,
+                                       height);
+        }
+    }
+}
+
+void GL_APIENTRY FramebufferTexture3DOES(GLenum target,
+                                         GLenum attachment,
+                                         GLenum textarget,
+                                         GLuint texture,
+                                         GLint level,
+                                         GLint zoffset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum textarget = 0x%X, GLuint texture "
+        "= %u, GLint level = %d, GLint zoffset = %d)",
+        target, attachment, textarget, texture, level, zoffset);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget textargetPacked = FromGLenum<TextureTarget>(textarget);
+        ANGLE_CAPTURE(FramebufferTexture3DOES, context, target, attachment, textargetPacked,
+                      texture, level, zoffset);
+        if (context->skipValidation() ||
+            ValidateFramebufferTexture3DOES(context, target, attachment, textargetPacked, texture,
+                                            level, zoffset))
+        {
+            context->framebufferTexture3D(target, attachment, textargetPacked, texture, level,
+                                          zoffset);
+        }
+    }
+}
+
+void GL_APIENTRY TexImage3DOES(GLenum target,
+                               GLint level,
+                               GLenum internalformat,
+                               GLsizei width,
+                               GLsizei height,
+                               GLsizei depth,
+                               GLint border,
+                               GLenum format,
+                               GLenum type,
+                               const void *pixels)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLenum format = 0x%X, "
+        "GLenum type = 0x%X, const void *pixels = 0x%016" PRIxPTR ")",
+        target, level, internalformat, width, height, depth, border, format, type,
+        (uintptr_t)pixels);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage3DOES, context, targetPacked, level, internalformat, width, height,
+                      depth, border, format, type, pixels);
+        if (context->skipValidation() ||
+            ValidateTexImage3DOES(context, targetPacked, level, internalformat, width, height,
+                                  depth, border, format, type, pixels))
+        {
+            context->texImage3D(targetPacked, level, internalformat, width, height, depth, border,
+                                format, type, pixels);
+        }
+    }
+}
+
+void GL_APIENTRY TexSubImage3DOES(GLenum target,
+                                  GLint level,
+                                  GLint xoffset,
+                                  GLint yoffset,
+                                  GLint zoffset,
+                                  GLsizei width,
+                                  GLsizei height,
+                                  GLsizei depth,
+                                  GLenum format,
+                                  GLenum type,
+                                  const void *pixels)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
+        "= 0x%X, GLenum type = 0x%X, const void *pixels = 0x%016" PRIxPTR ")",
+        target, level, xoffset, yoffset, zoffset, width, height, depth, format, type,
+        (uintptr_t)pixels);
+
+    Context *context = GetValidGlobalContext();
+    if (context)
+    {
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage3DOES, context, targetPacked, level, xoffset, yoffset, zoffset,
+                      width, height, depth, format, type, pixels);
+        if (context->skipValidation() ||
+            ValidateTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset, zoffset, width,
+                                     height, depth, format, type, pixels))
+        {
+            context->texSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, width, height,
+                                   depth, format, type, pixels);
+        }
+    }
+}
+
 // GL_OES_texture_border_clamp
 void GL_APIENTRY GetSamplerParameterIivOES(GLuint sampler, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", sampler,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterIivOES, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameterIivOES(context, sampler, pname, params))
         {
@@ -4371,13 +5155,13 @@
 
 void GL_APIENTRY GetSamplerParameterIuivOES(GLuint sampler, GLenum pname, GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", sampler,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetSamplerParameterIuivOES, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameterIuivOES(context, sampler, pname, params))
         {
@@ -4388,7 +5172,6 @@
 
 void GL_APIENTRY GetTexParameterIivOES(GLenum target, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -4396,6 +5179,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterIivOES(context, targetPacked, pname, params))
         {
@@ -4406,7 +5190,6 @@
 
 void GL_APIENTRY GetTexParameterIuivOES(GLenum target, GLenum pname, GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -4414,6 +5197,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIuivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterIuivOES(context, targetPacked, pname, params))
         {
@@ -4424,13 +5208,13 @@
 
 void GL_APIENTRY SamplerParameterIivOES(GLuint sampler, GLenum pname, const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLint *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterIivOES, context, sampler, pname, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIivOES(context, sampler, pname, param))
         {
@@ -4441,13 +5225,13 @@
 
 void GL_APIENTRY SamplerParameterIuivOES(GLuint sampler, GLenum pname, const GLuint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLuint *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(SamplerParameterIuivOES, context, sampler, pname, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIuivOES(context, sampler, pname, param))
         {
@@ -4458,7 +5242,6 @@
 
 void GL_APIENTRY TexParameterIivOES(GLenum target, GLenum pname, const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -4466,6 +5249,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterIivOES(context, targetPacked, pname, params))
         {
@@ -4476,7 +5260,6 @@
 
 void GL_APIENTRY TexParameterIuivOES(GLenum target, GLenum pname, const GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLuint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -4484,6 +5267,7 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIuivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterIuivOES(context, targetPacked, pname, params))
         {
@@ -4495,13 +5279,13 @@
 // GL_OES_texture_cube_map
 void GL_APIENTRY GetTexGenfvOES(GLenum coord, GLenum pname, GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetTexGenfvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenfvOES(context, coord, pname, params))
         {
             context->getTexGenfv(coord, pname, params);
@@ -4511,13 +5295,13 @@
 
 void GL_APIENTRY GetTexGenivOES(GLenum coord, GLenum pname, GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetTexGenivOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenivOES(context, coord, pname, params))
         {
             context->getTexGeniv(coord, pname, params);
@@ -4527,13 +5311,13 @@
 
 void GL_APIENTRY GetTexGenxvOES(GLenum coord, GLenum pname, GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GetTexGenxvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenxvOES(context, coord, pname, params))
         {
             context->getTexGenxv(coord, pname, params);
@@ -4543,12 +5327,12 @@
 
 void GL_APIENTRY TexGenfOES(GLenum coord, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", coord, pname, param);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGenfOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGenfOES(context, coord, pname, param))
         {
             context->texGenf(coord, pname, param);
@@ -4558,13 +5342,13 @@
 
 void GL_APIENTRY TexGenfvOES(GLenum coord, GLenum pname, const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGenfvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenfvOES(context, coord, pname, params))
         {
             context->texGenfv(coord, pname, params);
@@ -4574,12 +5358,12 @@
 
 void GL_APIENTRY TexGeniOES(GLenum coord, GLenum pname, GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLint param = %d)", coord, pname, param);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGeniOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGeniOES(context, coord, pname, param))
         {
             context->texGeni(coord, pname, param);
@@ -4589,13 +5373,13 @@
 
 void GL_APIENTRY TexGenivOES(GLenum coord, GLenum pname, const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGenivOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenivOES(context, coord, pname, params))
         {
             context->texGeniv(coord, pname, params);
@@ -4605,12 +5389,12 @@
 
 void GL_APIENTRY TexGenxOES(GLenum coord, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", coord, pname, param);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGenxOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGenxOES(context, coord, pname, param))
         {
             context->texGenx(coord, pname, param);
@@ -4620,13 +5404,13 @@
 
 void GL_APIENTRY TexGenxvOES(GLenum coord, GLenum pname, const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(TexGenxvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenxvOES(context, coord, pname, params))
         {
             context->texGenxv(coord, pname, params);
@@ -4643,7 +5427,6 @@
                                             GLsizei depth,
                                             GLboolean fixedsamplelocations)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d, GLsizei depth = %d, GLboolean fixedsamplelocations = %u)",
@@ -4653,6 +5436,8 @@
     if (context)
     {
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage3DMultisampleOES, context, targetPacked, samples, internalformat,
+                      width, height, depth, fixedsamplelocations);
         if (context->skipValidation() ||
             ValidateTexStorage3DMultisampleOES(context, targetPacked, samples, internalformat,
                                                width, height, depth, fixedsamplelocations))
@@ -4666,12 +5451,12 @@
 // GL_OES_vertex_array_object
 void GL_APIENTRY BindVertexArrayOES(GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(BindVertexArrayOES, context, array);
         if (context->skipValidation() || ValidateBindVertexArrayOES(context, array))
         {
             context->bindVertexArray(array);
@@ -4681,12 +5466,12 @@
 
 void GL_APIENTRY DeleteVertexArraysOES(GLsizei n, const GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(DeleteVertexArraysOES, context, n, arrays);
         if (context->skipValidation() || ValidateDeleteVertexArraysOES(context, n, arrays))
         {
             context->deleteVertexArrays(n, arrays);
@@ -4696,12 +5481,12 @@
 
 void GL_APIENTRY GenVertexArraysOES(GLsizei n, GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(GenVertexArraysOES, context, n, arrays);
         if (context->skipValidation() || ValidateGenVertexArraysOES(context, n, arrays))
         {
             context->genVertexArrays(n, arrays);
@@ -4711,12 +5496,12 @@
 
 GLboolean GL_APIENTRY IsVertexArrayOES(GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(IsVertexArrayOES, context, array);
         if (context->skipValidation() || ValidateIsVertexArrayOES(context, array))
         {
             return context->isVertexArray(array);
@@ -4734,7 +5519,6 @@
                                                 GLint baseViewIndex,
                                                 GLsizei numViews)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLuint texture = %u, GLint level = %d, "
         "GLint baseViewIndex = %d, GLsizei numViews = %d)",
@@ -4743,6 +5527,8 @@
     Context *context = GetValidGlobalContext();
     if (context)
     {
+        ANGLE_CAPTURE(FramebufferTextureMultiviewOVR, context, target, attachment, texture, level,
+                      baseViewIndex, numViews);
         if (context->skipValidation() ||
             ValidateFramebufferTextureMultiviewOVR(context, target, attachment, texture, level,
                                                    baseViewIndex, numViews))
@@ -4758,13 +5544,13 @@
 // EGL_ANGLE_explicit_context
 void GL_APIENTRY ActiveShaderProgramContextANGLE(GLeglContext ctx, GLuint pipeline, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u, GLuint program = %u)", pipeline, program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ActiveShaderProgram, context, pipeline, program);
         if (context->skipValidation() || ValidateActiveShaderProgram(context, pipeline, program))
         {
             context->activeShaderProgram(pipeline, program);
@@ -4774,13 +5560,13 @@
 
 void GL_APIENTRY ActiveTextureContextANGLE(GLeglContext ctx, GLenum texture)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum texture = 0x%X)", texture);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ActiveTexture, context, texture);
         if (context->skipValidation() || ValidateActiveTexture(context, texture))
         {
             context->activeTexture(texture);
@@ -4790,7 +5576,6 @@
 
 void GL_APIENTRY AlphaFuncContextANGLE(GLeglContext ctx, GLenum func, GLfloat ref)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X, GLfloat ref = %f)", func, ref);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4798,6 +5583,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         AlphaTestFunc funcPacked = FromGLenum<AlphaTestFunc>(func);
+        ANGLE_CAPTURE(AlphaFunc, context, funcPacked, ref);
         if (context->skipValidation() || ValidateAlphaFunc(context, funcPacked, ref))
         {
             context->alphaFunc(funcPacked, ref);
@@ -4807,7 +5593,6 @@
 
 void GL_APIENTRY AlphaFuncxContextANGLE(GLeglContext ctx, GLenum func, GLfixed ref)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X, GLfixed ref = 0x%X)", func, ref);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4815,6 +5600,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         AlphaTestFunc funcPacked = FromGLenum<AlphaTestFunc>(func);
+        ANGLE_CAPTURE(AlphaFuncx, context, funcPacked, ref);
         if (context->skipValidation() || ValidateAlphaFuncx(context, funcPacked, ref))
         {
             context->alphaFuncx(funcPacked, ref);
@@ -4824,13 +5610,13 @@
 
 void GL_APIENTRY AttachShaderContextANGLE(GLeglContext ctx, GLuint program, GLuint shader)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint shader = %u)", program, shader);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(AttachShader, context, program, shader);
         if (context->skipValidation() || ValidateAttachShader(context, program, shader))
         {
             context->attachShader(program, shader);
@@ -4840,7 +5626,6 @@
 
 void GL_APIENTRY BeginQueryContextANGLE(GLeglContext ctx, GLenum target, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint id = %u)", target, id);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4848,6 +5633,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(BeginQuery, context, targetPacked, id);
         if (context->skipValidation() || ValidateBeginQuery(context, targetPacked, id))
         {
             context->beginQuery(targetPacked, id);
@@ -4857,7 +5643,6 @@
 
 void GL_APIENTRY BeginQueryEXTContextANGLE(GLeglContext ctx, GLenum target, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint id = %u)", target, id);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4865,6 +5650,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(BeginQueryEXT, context, targetPacked, id);
         if (context->skipValidation() || ValidateBeginQueryEXT(context, targetPacked, id))
         {
             context->beginQuery(targetPacked, id);
@@ -4874,7 +5660,6 @@
 
 void GL_APIENTRY BeginTransformFeedbackContextANGLE(GLeglContext ctx, GLenum primitiveMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum primitiveMode = 0x%X)", primitiveMode);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4882,6 +5667,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode primitiveModePacked = FromGLenum<PrimitiveMode>(primitiveMode);
+        ANGLE_CAPTURE(BeginTransformFeedback, context, primitiveModePacked);
         if (context->skipValidation() ||
             ValidateBeginTransformFeedback(context, primitiveModePacked))
         {
@@ -4895,7 +5681,6 @@
                                                 GLuint index,
                                                 const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint index = %u, const GLchar *name = 0x%016" PRIxPTR ")",
           program, index, (uintptr_t)name);
 
@@ -4903,6 +5688,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindAttribLocation, context, program, index, name);
         if (context->skipValidation() || ValidateBindAttribLocation(context, program, index, name))
         {
             context->bindAttribLocation(program, index, name);
@@ -4912,7 +5698,6 @@
 
 void GL_APIENTRY BindBufferContextANGLE(GLeglContext ctx, GLenum target, GLuint buffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint buffer = %u)", target, buffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4920,6 +5705,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(BindBuffer, context, targetPacked, buffer);
         if (context->skipValidation() || ValidateBindBuffer(context, targetPacked, buffer))
         {
             context->bindBuffer(targetPacked, buffer);
@@ -4932,7 +5718,6 @@
                                             GLuint index,
                                             GLuint buffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint index = %u, GLuint buffer = %u)", target, index, buffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -4940,6 +5725,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(BindBufferBase, context, targetPacked, index, buffer);
         if (context->skipValidation() ||
             ValidateBindBufferBase(context, targetPacked, index, buffer))
         {
@@ -4955,7 +5741,6 @@
                                              GLintptr offset,
                                              GLsizeiptr size)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLuint buffer = %u, GLintptr offset = %llu, "
         "GLsizeiptr size = %llu)",
@@ -4967,6 +5752,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(BindBufferRange, context, targetPacked, index, buffer, offset, size);
         if (context->skipValidation() ||
             ValidateBindBufferRange(context, targetPacked, index, buffer, offset, size))
         {
@@ -4980,7 +5766,6 @@
                                                      GLuint color,
                                                      const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint color = %u, const GLchar *name = 0x%016" PRIxPTR ")",
           program, color, (uintptr_t)name);
 
@@ -4988,6 +5773,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindFragDataLocationEXT, context, program, color, name);
         if (context->skipValidation() ||
             ValidateBindFragDataLocationEXT(context, program, color, name))
         {
@@ -5002,7 +5788,6 @@
                                                             GLuint index,
                                                             const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint colorNumber = %u, GLuint index = %u, const GLchar *name = "
         "0x%016" PRIxPTR ")",
@@ -5012,6 +5797,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindFragDataLocationIndexedEXT, context, program, colorNumber, index, name);
         if (context->skipValidation() ||
             ValidateBindFragDataLocationIndexedEXT(context, program, colorNumber, index, name))
         {
@@ -5022,13 +5808,13 @@
 
 void GL_APIENTRY BindFramebufferContextANGLE(GLeglContext ctx, GLenum target, GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint framebuffer = %u)", target, framebuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindFramebuffer, context, target, framebuffer);
         if (context->skipValidation() || ValidateBindFramebuffer(context, target, framebuffer))
         {
             context->bindFramebuffer(target, framebuffer);
@@ -5038,13 +5824,13 @@
 
 void GL_APIENTRY BindFramebufferOESContextANGLE(GLeglContext ctx, GLenum target, GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint framebuffer = %u)", target, framebuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindFramebufferOES, context, target, framebuffer);
         if (context->skipValidation() || ValidateBindFramebufferOES(context, target, framebuffer))
         {
             context->bindFramebuffer(target, framebuffer);
@@ -5061,7 +5847,6 @@
                                               GLenum access,
                                               GLenum format)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint unit = %u, GLuint texture = %u, GLint level = %d, GLboolean layered = %u, GLint "
         "layer = %d, GLenum access = 0x%X, GLenum format = 0x%X)",
@@ -5071,6 +5856,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindImageTexture, context, unit, texture, level, layered, layer, access,
+                      format);
         if (context->skipValidation() ||
             ValidateBindImageTexture(context, unit, texture, level, layered, layer, access, format))
         {
@@ -5081,13 +5868,13 @@
 
 void GL_APIENTRY BindProgramPipelineContextANGLE(GLeglContext ctx, GLuint pipeline)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u)", pipeline);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindProgramPipeline, context, pipeline);
         if (context->skipValidation() || ValidateBindProgramPipeline(context, pipeline))
         {
             context->bindProgramPipeline(pipeline);
@@ -5097,13 +5884,13 @@
 
 void GL_APIENTRY BindRenderbufferContextANGLE(GLeglContext ctx, GLenum target, GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint renderbuffer = %u)", target, renderbuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindRenderbuffer, context, target, renderbuffer);
         if (context->skipValidation() || ValidateBindRenderbuffer(context, target, renderbuffer))
         {
             context->bindRenderbuffer(target, renderbuffer);
@@ -5115,13 +5902,13 @@
                                                  GLenum target,
                                                  GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint renderbuffer = %u)", target, renderbuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindRenderbufferOES, context, target, renderbuffer);
         if (context->skipValidation() || ValidateBindRenderbufferOES(context, target, renderbuffer))
         {
             context->bindRenderbuffer(target, renderbuffer);
@@ -5131,13 +5918,13 @@
 
 void GL_APIENTRY BindSamplerContextANGLE(GLeglContext ctx, GLuint unit, GLuint sampler)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint unit = %u, GLuint sampler = %u)", unit, sampler);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindSampler, context, unit, sampler);
         if (context->skipValidation() || ValidateBindSampler(context, unit, sampler))
         {
             context->bindSampler(unit, sampler);
@@ -5147,7 +5934,6 @@
 
 void GL_APIENTRY BindTextureContextANGLE(GLeglContext ctx, GLenum target, GLuint texture)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint texture = %u)", target, texture);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -5155,6 +5941,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(BindTexture, context, targetPacked, texture);
         if (context->skipValidation() || ValidateBindTexture(context, targetPacked, texture))
         {
             context->bindTexture(targetPacked, texture);
@@ -5164,13 +5951,13 @@
 
 void GL_APIENTRY BindTransformFeedbackContextANGLE(GLeglContext ctx, GLenum target, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint id = %u)", target, id);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindTransformFeedback, context, target, id);
         if (context->skipValidation() || ValidateBindTransformFeedback(context, target, id))
         {
             context->bindTransformFeedback(target, id);
@@ -5180,13 +5967,13 @@
 
 void GL_APIENTRY BindVertexArrayContextANGLE(GLeglContext ctx, GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindVertexArray, context, array);
         if (context->skipValidation() || ValidateBindVertexArray(context, array))
         {
             context->bindVertexArray(array);
@@ -5196,13 +5983,13 @@
 
 void GL_APIENTRY BindVertexArrayOESContextANGLE(GLeglContext ctx, GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindVertexArrayOES, context, array);
         if (context->skipValidation() || ValidateBindVertexArrayOES(context, array))
         {
             context->bindVertexArray(array);
@@ -5216,7 +6003,6 @@
                                               GLintptr offset,
                                               GLsizei stride)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint bindingindex = %u, GLuint buffer = %u, GLintptr offset = %llu, GLsizei stride = "
         "%d)",
@@ -5226,6 +6012,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindVertexBuffer, context, bindingindex, buffer, offset, stride);
         if (context->skipValidation() ||
             ValidateBindVertexBuffer(context, bindingindex, buffer, offset, stride))
         {
@@ -5237,7 +6024,6 @@
 void GL_APIENTRY
 BlendColorContextANGLE(GLeglContext ctx, GLfloat red, GLfloat green, GLfloat blue, GLfloat alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat red = %f, GLfloat green = %f, GLfloat blue = %f, GLfloat alpha = %f)", red,
           green, blue, alpha);
 
@@ -5245,6 +6031,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlendColor, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateBlendColor(context, red, green, blue, alpha))
         {
             context->blendColor(red, green, blue, alpha);
@@ -5254,13 +6041,13 @@
 
 void GL_APIENTRY BlendEquationContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlendEquation, context, mode);
         if (context->skipValidation() || ValidateBlendEquation(context, mode))
         {
             context->blendEquation(mode);
@@ -5272,13 +6059,13 @@
                                                    GLenum modeRGB,
                                                    GLenum modeAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum modeRGB = 0x%X, GLenum modeAlpha = 0x%X)", modeRGB, modeAlpha);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlendEquationSeparate, context, modeRGB, modeAlpha);
         if (context->skipValidation() || ValidateBlendEquationSeparate(context, modeRGB, modeAlpha))
         {
             context->blendEquationSeparate(modeRGB, modeAlpha);
@@ -5288,13 +6075,13 @@
 
 void GL_APIENTRY BlendFuncContextANGLE(GLeglContext ctx, GLenum sfactor, GLenum dfactor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum sfactor = 0x%X, GLenum dfactor = 0x%X)", sfactor, dfactor);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlendFunc, context, sfactor, dfactor);
         if (context->skipValidation() || ValidateBlendFunc(context, sfactor, dfactor))
         {
             context->blendFunc(sfactor, dfactor);
@@ -5308,7 +6095,6 @@
                                                GLenum sfactorAlpha,
                                                GLenum dfactorAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum sfactorRGB = 0x%X, GLenum dfactorRGB = 0x%X, GLenum sfactorAlpha = 0x%X, GLenum "
         "dfactorAlpha = 0x%X)",
@@ -5318,6 +6104,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlendFuncSeparate, context, sfactorRGB, dfactorRGB, sfactorAlpha,
+                      dfactorAlpha);
         if (context->skipValidation() ||
             ValidateBlendFuncSeparate(context, sfactorRGB, dfactorRGB, sfactorAlpha, dfactorAlpha))
         {
@@ -5338,7 +6126,6 @@
                                              GLbitfield mask,
                                              GLenum filter)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint srcX0 = %d, GLint srcY0 = %d, GLint srcX1 = %d, GLint srcY1 = %d, GLint dstX0 = "
         "%d, GLint dstY0 = %d, GLint dstX1 = %d, GLint dstY1 = %d, GLbitfield mask = 0x%X, GLenum "
@@ -5349,6 +6136,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlitFramebuffer, context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0, dstX1,
+                      dstY1, mask, filter);
         if (context->skipValidation() ||
             ValidateBlitFramebuffer(context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0, dstX1, dstY1,
                                     mask, filter))
@@ -5371,7 +6160,6 @@
                                                   GLbitfield mask,
                                                   GLenum filter)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint srcX0 = %d, GLint srcY0 = %d, GLint srcX1 = %d, GLint srcY1 = %d, GLint dstX0 = "
         "%d, GLint dstY0 = %d, GLint dstX1 = %d, GLint dstY1 = %d, GLbitfield mask = 0x%X, GLenum "
@@ -5382,6 +6170,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BlitFramebufferANGLE, context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0,
+                      dstX1, dstY1, mask, filter);
         if (context->skipValidation() ||
             ValidateBlitFramebufferANGLE(context, srcX0, srcY0, srcX1, srcY1, dstX0, dstY0, dstX1,
                                          dstY1, mask, filter))
@@ -5398,7 +6188,6 @@
                                         const void *data,
                                         GLenum usage)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLsizeiptr size = %llu, const void *data = 0x%016" PRIxPTR
           ", GLenum usage = 0x%X)",
           target, static_cast<unsigned long long>(size), (uintptr_t)data, usage);
@@ -5409,6 +6198,7 @@
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
         BufferUsage usagePacked    = FromGLenum<BufferUsage>(usage);
+        ANGLE_CAPTURE(BufferData, context, targetPacked, size, data, usagePacked);
         if (context->skipValidation() ||
             ValidateBufferData(context, targetPacked, size, data, usagePacked))
         {
@@ -5417,13 +6207,38 @@
     }
 }
 
+void GL_APIENTRY BufferStorageMemEXTContextANGLE(GLeglContext ctx,
+                                                 GLenum target,
+                                                 GLsizeiptr size,
+                                                 GLuint memory,
+                                                 GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizeiptr size = %llu, GLuint memory = %u, GLuint64 offset = "
+        "%llu)",
+        target, static_cast<unsigned long long>(size), memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(BufferStorageMemEXT, context, targetPacked, size, memory, offset);
+        if (context->skipValidation() ||
+            ValidateBufferStorageMemEXT(context, targetPacked, size, memory, offset))
+        {
+            context->bufferStorageMem(targetPacked, size, memory, offset);
+        }
+    }
+}
+
 void GL_APIENTRY BufferSubDataContextANGLE(GLeglContext ctx,
                                            GLenum target,
                                            GLintptr offset,
                                            GLsizeiptr size,
                                            const void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr size = %llu, const void *data = "
         "0x%016" PRIxPTR ")",
@@ -5435,6 +6250,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(BufferSubData, context, targetPacked, offset, size, data);
         if (context->skipValidation() ||
             ValidateBufferSubData(context, targetPacked, offset, size, data))
         {
@@ -5445,13 +6261,13 @@
 
 GLenum GL_APIENTRY CheckFramebufferStatusContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CheckFramebufferStatus, context, target);
         if (context->skipValidation() || ValidateCheckFramebufferStatus(context, target))
         {
             return context->checkFramebufferStatus(target);
@@ -5463,13 +6279,13 @@
 
 GLenum GL_APIENTRY CheckFramebufferStatusOESContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CheckFramebufferStatusOES, context, target);
         if (context->skipValidation() || ValidateCheckFramebufferStatusOES(context, target))
         {
             return context->checkFramebufferStatus(target);
@@ -5481,13 +6297,13 @@
 
 void GL_APIENTRY ClearContextANGLE(GLeglContext ctx, GLbitfield mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLbitfield mask = 0x%X)", mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Clear, context, mask);
         if (context->skipValidation() || ValidateClear(context, mask))
         {
             context->clear(mask);
@@ -5501,7 +6317,6 @@
                                            GLfloat depth,
                                            GLint stencil)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum buffer = 0x%X, GLint drawbuffer = %d, GLfloat depth = %f, GLint stencil = %d)",
           buffer, drawbuffer, depth, stencil);
 
@@ -5509,6 +6324,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearBufferfi, context, buffer, drawbuffer, depth, stencil);
         if (context->skipValidation() ||
             ValidateClearBufferfi(context, buffer, drawbuffer, depth, stencil))
         {
@@ -5522,7 +6338,6 @@
                                            GLint drawbuffer,
                                            const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum buffer = 0x%X, GLint drawbuffer = %d, const GLfloat *value = 0x%016" PRIxPTR ")",
           buffer, drawbuffer, (uintptr_t)value);
 
@@ -5530,6 +6345,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearBufferfv, context, buffer, drawbuffer, value);
         if (context->skipValidation() || ValidateClearBufferfv(context, buffer, drawbuffer, value))
         {
             context->clearBufferfv(buffer, drawbuffer, value);
@@ -5542,7 +6358,6 @@
                                            GLint drawbuffer,
                                            const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum buffer = 0x%X, GLint drawbuffer = %d, const GLint *value = 0x%016" PRIxPTR ")",
           buffer, drawbuffer, (uintptr_t)value);
 
@@ -5550,6 +6365,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearBufferiv, context, buffer, drawbuffer, value);
         if (context->skipValidation() || ValidateClearBufferiv(context, buffer, drawbuffer, value))
         {
             context->clearBufferiv(buffer, drawbuffer, value);
@@ -5562,7 +6378,6 @@
                                             GLint drawbuffer,
                                             const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum buffer = 0x%X, GLint drawbuffer = %d, const GLuint *value = 0x%016" PRIxPTR ")",
           buffer, drawbuffer, (uintptr_t)value);
 
@@ -5570,6 +6385,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearBufferuiv, context, buffer, drawbuffer, value);
         if (context->skipValidation() || ValidateClearBufferuiv(context, buffer, drawbuffer, value))
         {
             context->clearBufferuiv(buffer, drawbuffer, value);
@@ -5580,7 +6396,6 @@
 void GL_APIENTRY
 ClearColorContextANGLE(GLeglContext ctx, GLfloat red, GLfloat green, GLfloat blue, GLfloat alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat red = %f, GLfloat green = %f, GLfloat blue = %f, GLfloat alpha = %f)", red,
           green, blue, alpha);
 
@@ -5588,6 +6403,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearColor, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateClearColor(context, red, green, blue, alpha))
         {
             context->clearColor(red, green, blue, alpha);
@@ -5598,7 +6414,6 @@
 void GL_APIENTRY
 ClearColorxContextANGLE(GLeglContext ctx, GLfixed red, GLfixed green, GLfixed blue, GLfixed alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed red = 0x%X, GLfixed green = 0x%X, GLfixed blue = 0x%X, GLfixed alpha = 0x%X)",
           red, green, blue, alpha);
 
@@ -5606,6 +6421,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearColorx, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateClearColorx(context, red, green, blue, alpha))
         {
             context->clearColorx(red, green, blue, alpha);
@@ -5615,13 +6431,13 @@
 
 void GL_APIENTRY ClearDepthfContextANGLE(GLeglContext ctx, GLfloat d)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat d = %f)", d);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearDepthf, context, d);
         if (context->skipValidation() || ValidateClearDepthf(context, d))
         {
             context->clearDepthf(d);
@@ -5631,13 +6447,13 @@
 
 void GL_APIENTRY ClearDepthxContextANGLE(GLeglContext ctx, GLfixed depth)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed depth = 0x%X)", depth);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearDepthx, context, depth);
         if (context->skipValidation() || ValidateClearDepthx(context, depth))
         {
             context->clearDepthx(depth);
@@ -5647,13 +6463,13 @@
 
 void GL_APIENTRY ClearStencilContextANGLE(GLeglContext ctx, GLint s)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint s = %d)", s);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClearStencil, context, s);
         if (context->skipValidation() || ValidateClearStencil(context, s))
         {
             context->clearStencil(s);
@@ -5663,13 +6479,13 @@
 
 void GL_APIENTRY ClientActiveTextureContextANGLE(GLeglContext ctx, GLenum texture)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum texture = 0x%X)", texture);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClientActiveTexture, context, texture);
         if (context->skipValidation() || ValidateClientActiveTexture(context, texture))
         {
             context->clientActiveTexture(texture);
@@ -5682,7 +6498,6 @@
                                               GLbitfield flags,
                                               GLuint64 timeout)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsync sync = 0x%016" PRIxPTR ", GLbitfield flags = 0x%X, GLuint64 timeout = %llu)",
           (uintptr_t)sync, flags, static_cast<unsigned long long>(timeout));
 
@@ -5690,6 +6505,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClientWaitSync, context, sync, flags, timeout);
         if (context->skipValidation() || ValidateClientWaitSync(context, sync, flags, timeout))
         {
             return context->clientWaitSync(sync, flags, timeout);
@@ -5701,13 +6517,13 @@
 
 void GL_APIENTRY ClipPlanefContextANGLE(GLeglContext ctx, GLenum p, const GLfloat *eqn)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum p = 0x%X, const GLfloat *eqn = 0x%016" PRIxPTR ")", p, (uintptr_t)eqn);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClipPlanef, context, p, eqn);
         if (context->skipValidation() || ValidateClipPlanef(context, p, eqn))
         {
             context->clipPlanef(p, eqn);
@@ -5717,7 +6533,6 @@
 
 void GL_APIENTRY ClipPlanexContextANGLE(GLeglContext ctx, GLenum plane, const GLfixed *equation)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum plane = 0x%X, const GLfixed *equation = 0x%016" PRIxPTR ")", plane,
           (uintptr_t)equation);
 
@@ -5725,6 +6540,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ClipPlanex, context, plane, equation);
         if (context->skipValidation() || ValidateClipPlanex(context, plane, equation))
         {
             context->clipPlanex(plane, equation);
@@ -5735,7 +6551,6 @@
 void GL_APIENTRY
 Color4fContextANGLE(GLeglContext ctx, GLfloat red, GLfloat green, GLfloat blue, GLfloat alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat red = %f, GLfloat green = %f, GLfloat blue = %f, GLfloat alpha = %f)", red,
           green, blue, alpha);
 
@@ -5743,6 +6558,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Color4f, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateColor4f(context, red, green, blue, alpha))
         {
             context->color4f(red, green, blue, alpha);
@@ -5753,7 +6569,6 @@
 void GL_APIENTRY
 Color4ubContextANGLE(GLeglContext ctx, GLubyte red, GLubyte green, GLubyte blue, GLubyte alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLubyte red = %d, GLubyte green = %d, GLubyte blue = %d, GLubyte alpha = %d)", red,
           green, blue, alpha);
 
@@ -5761,6 +6576,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Color4ub, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateColor4ub(context, red, green, blue, alpha))
         {
             context->color4ub(red, green, blue, alpha);
@@ -5771,7 +6587,6 @@
 void GL_APIENTRY
 Color4xContextANGLE(GLeglContext ctx, GLfixed red, GLfixed green, GLfixed blue, GLfixed alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed red = 0x%X, GLfixed green = 0x%X, GLfixed blue = 0x%X, GLfixed alpha = 0x%X)",
           red, green, blue, alpha);
 
@@ -5779,6 +6594,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Color4x, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateColor4x(context, red, green, blue, alpha))
         {
             context->color4x(red, green, blue, alpha);
@@ -5792,7 +6608,6 @@
                                        GLboolean blue,
                                        GLboolean alpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLboolean red = %u, GLboolean green = %u, GLboolean blue = %u, GLboolean alpha = %u)",
           red, green, blue, alpha);
 
@@ -5800,6 +6615,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ColorMask, context, red, green, blue, alpha);
         if (context->skipValidation() || ValidateColorMask(context, red, green, blue, alpha))
         {
             context->colorMask(red, green, blue, alpha);
@@ -5813,7 +6629,6 @@
                                           GLsizei stride,
                                           const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -5824,6 +6639,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(ColorPointer, context, size, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidateColorPointer(context, size, typePacked, stride, pointer))
         {
@@ -5834,13 +6650,13 @@
 
 void GL_APIENTRY CompileShaderContextANGLE(GLeglContext ctx, GLuint shader)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u)", shader);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CompileShader, context, shader);
         if (context->skipValidation() || ValidateCompileShader(context, shader))
         {
             context->compileShader(shader);
@@ -5858,7 +6674,6 @@
                                                   GLsizei imageSize,
                                                   const void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLint border = %d, GLsizei imageSize = %d, const void *data = "
@@ -5870,6 +6685,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage2D, context, targetPacked, level, internalformat, width,
+                      height, border, imageSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexImage2D(context, targetPacked, level, internalformat, width,
                                          height, border, imageSize, data))
@@ -5891,7 +6708,6 @@
                                                   GLsizei imageSize,
                                                   const void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLsizei imageSize = %d, "
@@ -5902,7 +6718,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage3D, context, targetPacked, level, internalformat, width,
+                      height, depth, border, imageSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexImage3D(context, targetPacked, level, internalformat, width,
                                          height, depth, border, imageSize, data))
@@ -5913,6 +6731,40 @@
     }
 }
 
+void GL_APIENTRY CompressedTexImage3DOESContextANGLE(GLeglContext ctx,
+                                                     GLenum target,
+                                                     GLint level,
+                                                     GLenum internalformat,
+                                                     GLsizei width,
+                                                     GLsizei height,
+                                                     GLsizei depth,
+                                                     GLint border,
+                                                     GLsizei imageSize,
+                                                     const void *data)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLsizei imageSize = %d, "
+        "const void *data = 0x%016" PRIxPTR ")",
+        target, level, internalformat, width, height, depth, border, imageSize, (uintptr_t)data);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage3DOES, context, targetPacked, level, internalformat, width,
+                      height, depth, border, imageSize, data);
+        if (context->skipValidation() ||
+            ValidateCompressedTexImage3DOES(context, targetPacked, level, internalformat, width,
+                                            height, depth, border, imageSize, data))
+        {
+            context->compressedTexImage3D(targetPacked, level, internalformat, width, height, depth,
+                                          border, imageSize, data);
+        }
+    }
+}
+
 void GL_APIENTRY CompressedTexSubImage2DContextANGLE(GLeglContext ctx,
                                                      GLenum target,
                                                      GLint level,
@@ -5924,7 +6776,6 @@
                                                      GLsizei imageSize,
                                                      const void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLsizei "
         "width = %d, GLsizei height = %d, GLenum format = 0x%X, GLsizei imageSize = %d, const void "
@@ -5936,6 +6787,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage2D, context, targetPacked, level, xoffset, yoffset,
+                      width, height, format, imageSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexSubImage2D(context, targetPacked, level, xoffset, yoffset, width,
                                             height, format, imageSize, data))
@@ -5959,7 +6812,6 @@
                                                      GLsizei imageSize,
                                                      const void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -5971,7 +6823,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage3D, context, targetPacked, level, xoffset, yoffset,
+                      zoffset, width, height, depth, format, imageSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexSubImage3D(context, targetPacked, level, xoffset, yoffset, zoffset,
                                             width, height, depth, format, imageSize, data))
@@ -5982,6 +6836,44 @@
     }
 }
 
+void GL_APIENTRY CompressedTexSubImage3DOESContextANGLE(GLeglContext ctx,
+                                                        GLenum target,
+                                                        GLint level,
+                                                        GLint xoffset,
+                                                        GLint yoffset,
+                                                        GLint zoffset,
+                                                        GLsizei width,
+                                                        GLsizei height,
+                                                        GLsizei depth,
+                                                        GLenum format,
+                                                        GLsizei imageSize,
+                                                        const void *data)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
+        "= 0x%X, GLsizei imageSize = %d, const void *data = 0x%016" PRIxPTR ")",
+        target, level, xoffset, yoffset, zoffset, width, height, depth, format, imageSize,
+        (uintptr_t)data);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage3DOES, context, targetPacked, level, xoffset, yoffset,
+                      zoffset, width, height, depth, format, imageSize, data);
+        if (context->skipValidation() ||
+            ValidateCompressedTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset,
+                                               zoffset, width, height, depth, format, imageSize,
+                                               data))
+        {
+            context->compressedTexSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, width,
+                                             height, depth, format, imageSize, data);
+        }
+    }
+}
+
 void GL_APIENTRY CopyBufferSubDataContextANGLE(GLeglContext ctx,
                                                GLenum readTarget,
                                                GLenum writeTarget,
@@ -5989,7 +6881,6 @@
                                                GLintptr writeOffset,
                                                GLsizeiptr size)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum readTarget = 0x%X, GLenum writeTarget = 0x%X, GLintptr readOffset = %llu, "
         "GLintptr writeOffset = %llu, GLsizeiptr size = %llu)",
@@ -6002,6 +6893,8 @@
         ASSERT(context == GetValidGlobalContext());
         BufferBinding readTargetPacked  = FromGLenum<BufferBinding>(readTarget);
         BufferBinding writeTargetPacked = FromGLenum<BufferBinding>(writeTarget);
+        ANGLE_CAPTURE(CopyBufferSubData, context, readTargetPacked, writeTargetPacked, readOffset,
+                      writeOffset, size);
         if (context->skipValidation() ||
             ValidateCopyBufferSubData(context, readTargetPacked, writeTargetPacked, readOffset,
                                       writeOffset, size))
@@ -6022,7 +6915,6 @@
                                             GLsizei height,
                                             GLint border)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLint x = %d, "
         "GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLint border = %d)",
@@ -6033,6 +6925,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CopyTexImage2D, context, targetPacked, level, internalformat, x, y, width,
+                      height, border);
         if (context->skipValidation() ||
             ValidateCopyTexImage2D(context, targetPacked, level, internalformat, x, y, width,
                                    height, border))
@@ -6053,7 +6947,6 @@
                                                GLsizei width,
                                                GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint x "
         "= %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)",
@@ -6064,6 +6957,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CopyTexSubImage2D, context, targetPacked, level, xoffset, yoffset, x, y,
+                      width, height);
         if (context->skipValidation() ||
             ValidateCopyTexSubImage2D(context, targetPacked, level, xoffset, yoffset, x, y, width,
                                       height))
@@ -6084,7 +6979,6 @@
                                                GLsizei width,
                                                GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)",
@@ -6094,7 +6988,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CopyTexSubImage3D, context, targetPacked, level, xoffset, yoffset, zoffset, x,
+                      y, width, height);
         if (context->skipValidation() ||
             ValidateCopyTexSubImage3D(context, targetPacked, level, xoffset, yoffset, zoffset, x, y,
                                       width, height))
@@ -6105,15 +7001,67 @@
     }
 }
 
+void GL_APIENTRY CopyTexSubImage3DOESContextANGLE(GLeglContext ctx,
+                                                  GLenum target,
+                                                  GLint level,
+                                                  GLint xoffset,
+                                                  GLint yoffset,
+                                                  GLint zoffset,
+                                                  GLint x,
+                                                  GLint y,
+                                                  GLsizei width,
+                                                  GLsizei height)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)",
+        target, level, xoffset, yoffset, zoffset, x, y, width, height);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CopyTexSubImage3DOES, context, targetPacked, level, xoffset, yoffset, zoffset,
+                      x, y, width, height);
+        if (context->skipValidation() ||
+            ValidateCopyTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset, zoffset, x,
+                                         y, width, height))
+        {
+            context->copyTexSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, x, y, width,
+                                       height);
+        }
+    }
+}
+
+void GL_APIENTRY CreateMemoryObjectsEXTContextANGLE(GLeglContext ctx,
+                                                    GLsizei n,
+                                                    GLuint *memoryObjects)
+{
+    EVENT("(GLsizei n = %d, GLuint *memoryObjects = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)memoryObjects);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CreateMemoryObjectsEXT, context, n, memoryObjects);
+        if (context->skipValidation() || ValidateCreateMemoryObjectsEXT(context, n, memoryObjects))
+        {
+            context->createMemoryObjects(n, memoryObjects);
+        }
+    }
+}
+
 GLuint GL_APIENTRY CreateProgramContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CreateProgram, context);
         if (context->skipValidation() || ValidateCreateProgram(context))
         {
             return context->createProgram();
@@ -6125,7 +7073,6 @@
 
 GLuint GL_APIENTRY CreateShaderContextANGLE(GLeglContext ctx, GLenum type)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum type = 0x%X)", type);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -6133,6 +7080,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         ShaderType typePacked = FromGLenum<ShaderType>(type);
+        ANGLE_CAPTURE(CreateShader, context, typePacked);
         if (context->skipValidation() || ValidateCreateShader(context, typePacked))
         {
             return context->createShader(typePacked);
@@ -6147,7 +7095,6 @@
                                                     GLsizei count,
                                                     const GLchar *const *strings)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum type = 0x%X, GLsizei count = %d, const GLchar *const*strings = 0x%016" PRIxPTR
           ")",
           type, count, (uintptr_t)strings);
@@ -6157,6 +7104,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         ShaderType typePacked = FromGLenum<ShaderType>(type);
+        ANGLE_CAPTURE(CreateShaderProgramv, context, typePacked, count, strings);
         if (context->skipValidation() ||
             ValidateCreateShaderProgramv(context, typePacked, count, strings))
         {
@@ -6169,7 +7117,6 @@
 
 void GL_APIENTRY CullFaceContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -6177,6 +7124,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         CullFaceMode modePacked = FromGLenum<CullFaceMode>(mode);
+        ANGLE_CAPTURE(CullFace, context, modePacked);
         if (context->skipValidation() || ValidateCullFace(context, modePacked))
         {
             context->cullFace(modePacked);
@@ -6186,13 +7134,13 @@
 
 void GL_APIENTRY CurrentPaletteMatrixOESContextANGLE(GLeglContext ctx, GLuint matrixpaletteindex)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint matrixpaletteindex = %u)", matrixpaletteindex);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CurrentPaletteMatrixOES, context, matrixpaletteindex);
         if (context->skipValidation() ||
             ValidateCurrentPaletteMatrixOES(context, matrixpaletteindex))
         {
@@ -6205,7 +7153,6 @@
                                                      GLDEBUGPROCKHR callback,
                                                      const void *userParam)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLDEBUGPROCKHR callback = 0x%016" PRIxPTR ", const void *userParam = 0x%016" PRIxPTR
           ")",
           (uintptr_t)callback, (uintptr_t)userParam);
@@ -6214,6 +7161,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DebugMessageCallbackKHR, context, callback, userParam);
         if (context->skipValidation() ||
             ValidateDebugMessageCallbackKHR(context, callback, userParam))
         {
@@ -6230,7 +7178,6 @@
                                                     const GLuint *ids,
                                                     GLboolean enabled)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLenum type = 0x%X, GLenum severity = 0x%X, GLsizei count = %d, "
         "const GLuint *ids = 0x%016" PRIxPTR ", GLboolean enabled = %u)",
@@ -6240,6 +7187,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DebugMessageControlKHR, context, source, type, severity, count, ids, enabled);
         if (context->skipValidation() ||
             ValidateDebugMessageControlKHR(context, source, type, severity, count, ids, enabled))
         {
@@ -6256,7 +7204,6 @@
                                                    GLsizei length,
                                                    const GLchar *buf)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLenum type = 0x%X, GLuint id = %u, GLenum severity = 0x%X, "
         "GLsizei length = %d, const GLchar *buf = 0x%016" PRIxPTR ")",
@@ -6266,6 +7213,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DebugMessageInsertKHR, context, source, type, id, severity, length, buf);
         if (context->skipValidation() ||
             ValidateDebugMessageInsertKHR(context, source, type, id, severity, length, buf))
         {
@@ -6276,13 +7224,13 @@
 
 void GL_APIENTRY DeleteBuffersContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *buffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *buffers = 0x%016" PRIxPTR ")", n, (uintptr_t)buffers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteBuffers, context, n, buffers);
         if (context->skipValidation() || ValidateDeleteBuffers(context, n, buffers))
         {
             context->deleteBuffers(n, buffers);
@@ -6292,13 +7240,13 @@
 
 void GL_APIENTRY DeleteFencesNVContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *fences)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *fences = 0x%016" PRIxPTR ")", n, (uintptr_t)fences);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteFencesNV, context, n, fences);
         if (context->skipValidation() || ValidateDeleteFencesNV(context, n, fences))
         {
             context->deleteFencesNV(n, fences);
@@ -6310,7 +7258,6 @@
                                                 GLsizei n,
                                                 const GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *framebuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)framebuffers);
 
@@ -6318,6 +7265,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteFramebuffers, context, n, framebuffers);
         if (context->skipValidation() || ValidateDeleteFramebuffers(context, n, framebuffers))
         {
             context->deleteFramebuffers(n, framebuffers);
@@ -6329,7 +7277,6 @@
                                                    GLsizei n,
                                                    const GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *framebuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)framebuffers);
 
@@ -6337,6 +7284,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteFramebuffersOES, context, n, framebuffers);
         if (context->skipValidation() || ValidateDeleteFramebuffersOES(context, n, framebuffers))
         {
             context->deleteFramebuffers(n, framebuffers);
@@ -6344,15 +7292,34 @@
     }
 }
 
+void GL_APIENTRY DeleteMemoryObjectsEXTContextANGLE(GLeglContext ctx,
+                                                    GLsizei n,
+                                                    const GLuint *memoryObjects)
+{
+    EVENT("(GLsizei n = %d, const GLuint *memoryObjects = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)memoryObjects);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteMemoryObjectsEXT, context, n, memoryObjects);
+        if (context->skipValidation() || ValidateDeleteMemoryObjectsEXT(context, n, memoryObjects))
+        {
+            context->deleteMemoryObjects(n, memoryObjects);
+        }
+    }
+}
+
 void GL_APIENTRY DeleteProgramContextANGLE(GLeglContext ctx, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u)", program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteProgram, context, program);
         if (context->skipValidation() || ValidateDeleteProgram(context, program))
         {
             context->deleteProgram(program);
@@ -6364,13 +7331,13 @@
                                                     GLsizei n,
                                                     const GLuint *pipelines)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *pipelines = 0x%016" PRIxPTR ")", n, (uintptr_t)pipelines);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteProgramPipelines, context, n, pipelines);
         if (context->skipValidation() || ValidateDeleteProgramPipelines(context, n, pipelines))
         {
             context->deleteProgramPipelines(n, pipelines);
@@ -6380,13 +7347,13 @@
 
 void GL_APIENTRY DeleteQueriesContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteQueries, context, n, ids);
         if (context->skipValidation() || ValidateDeleteQueries(context, n, ids))
         {
             context->deleteQueries(n, ids);
@@ -6396,13 +7363,13 @@
 
 void GL_APIENTRY DeleteQueriesEXTContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteQueriesEXT, context, n, ids);
         if (context->skipValidation() || ValidateDeleteQueriesEXT(context, n, ids))
         {
             context->deleteQueries(n, ids);
@@ -6414,7 +7381,6 @@
                                                  GLsizei n,
                                                  const GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
@@ -6422,6 +7388,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteRenderbuffers, context, n, renderbuffers);
         if (context->skipValidation() || ValidateDeleteRenderbuffers(context, n, renderbuffers))
         {
             context->deleteRenderbuffers(n, renderbuffers);
@@ -6433,7 +7400,6 @@
                                                     GLsizei n,
                                                     const GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
@@ -6441,6 +7407,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteRenderbuffersOES, context, n, renderbuffers);
         if (context->skipValidation() || ValidateDeleteRenderbuffersOES(context, n, renderbuffers))
         {
             context->deleteRenderbuffers(n, renderbuffers);
@@ -6450,7 +7417,6 @@
 
 void GL_APIENTRY DeleteSamplersContextANGLE(GLeglContext ctx, GLsizei count, const GLuint *samplers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei count = %d, const GLuint *samplers = 0x%016" PRIxPTR ")", count,
           (uintptr_t)samplers);
 
@@ -6458,6 +7424,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteSamplers, context, count, samplers);
         if (context->skipValidation() || ValidateDeleteSamplers(context, count, samplers))
         {
             context->deleteSamplers(count, samplers);
@@ -6465,15 +7432,34 @@
     }
 }
 
+void GL_APIENTRY DeleteSemaphoresEXTContextANGLE(GLeglContext ctx,
+                                                 GLsizei n,
+                                                 const GLuint *semaphores)
+{
+    EVENT("(GLsizei n = %d, const GLuint *semaphores = 0x%016" PRIxPTR ")", n,
+          (uintptr_t)semaphores);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteSemaphoresEXT, context, n, semaphores);
+        if (context->skipValidation() || ValidateDeleteSemaphoresEXT(context, n, semaphores))
+        {
+            context->deleteSemaphores(n, semaphores);
+        }
+    }
+}
+
 void GL_APIENTRY DeleteShaderContextANGLE(GLeglContext ctx, GLuint shader)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u)", shader);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteShader, context, shader);
         if (context->skipValidation() || ValidateDeleteShader(context, shader))
         {
             context->deleteShader(shader);
@@ -6483,13 +7469,13 @@
 
 void GL_APIENTRY DeleteSyncContextANGLE(GLeglContext ctx, GLsync sync)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsync sync = 0x%016" PRIxPTR ")", (uintptr_t)sync);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteSync, context, sync);
         if (context->skipValidation() || ValidateDeleteSync(context, sync))
         {
             context->deleteSync(sync);
@@ -6499,13 +7485,13 @@
 
 void GL_APIENTRY DeleteTexturesContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *textures)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *textures = 0x%016" PRIxPTR ")", n, (uintptr_t)textures);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteTextures, context, n, textures);
         if (context->skipValidation() || ValidateDeleteTextures(context, n, textures))
         {
             context->deleteTextures(n, textures);
@@ -6517,13 +7503,13 @@
                                                       GLsizei n,
                                                       const GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteTransformFeedbacks, context, n, ids);
         if (context->skipValidation() || ValidateDeleteTransformFeedbacks(context, n, ids))
         {
             context->deleteTransformFeedbacks(n, ids);
@@ -6533,13 +7519,13 @@
 
 void GL_APIENTRY DeleteVertexArraysContextANGLE(GLeglContext ctx, GLsizei n, const GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteVertexArrays, context, n, arrays);
         if (context->skipValidation() || ValidateDeleteVertexArrays(context, n, arrays))
         {
             context->deleteVertexArrays(n, arrays);
@@ -6551,13 +7537,13 @@
                                                    GLsizei n,
                                                    const GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeleteVertexArraysOES, context, n, arrays);
         if (context->skipValidation() || ValidateDeleteVertexArraysOES(context, n, arrays))
         {
             context->deleteVertexArrays(n, arrays);
@@ -6567,13 +7553,13 @@
 
 void GL_APIENTRY DepthFuncContextANGLE(GLeglContext ctx, GLenum func)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X)", func);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DepthFunc, context, func);
         if (context->skipValidation() || ValidateDepthFunc(context, func))
         {
             context->depthFunc(func);
@@ -6583,13 +7569,13 @@
 
 void GL_APIENTRY DepthMaskContextANGLE(GLeglContext ctx, GLboolean flag)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLboolean flag = %u)", flag);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DepthMask, context, flag);
         if (context->skipValidation() || ValidateDepthMask(context, flag))
         {
             context->depthMask(flag);
@@ -6599,13 +7585,13 @@
 
 void GL_APIENTRY DepthRangefContextANGLE(GLeglContext ctx, GLfloat n, GLfloat f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat n = %f, GLfloat f = %f)", n, f);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DepthRangef, context, n, f);
         if (context->skipValidation() || ValidateDepthRangef(context, n, f))
         {
             context->depthRangef(n, f);
@@ -6615,13 +7601,13 @@
 
 void GL_APIENTRY DepthRangexContextANGLE(GLeglContext ctx, GLfixed n, GLfixed f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed n = 0x%X, GLfixed f = 0x%X)", n, f);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DepthRangex, context, n, f);
         if (context->skipValidation() || ValidateDepthRangex(context, n, f))
         {
             context->depthRangex(n, f);
@@ -6631,13 +7617,13 @@
 
 void GL_APIENTRY DetachShaderContextANGLE(GLeglContext ctx, GLuint program, GLuint shader)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint shader = %u)", program, shader);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DetachShader, context, program, shader);
         if (context->skipValidation() || ValidateDetachShader(context, program, shader))
         {
             context->detachShader(program, shader);
@@ -6647,13 +7633,13 @@
 
 void GL_APIENTRY DisableContextANGLE(GLeglContext ctx, GLenum cap)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum cap = 0x%X)", cap);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Disable, context, cap);
         if (context->skipValidation() || ValidateDisable(context, cap))
         {
             context->disable(cap);
@@ -6663,7 +7649,6 @@
 
 void GL_APIENTRY DisableClientStateContextANGLE(GLeglContext ctx, GLenum array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum array = 0x%X)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -6671,6 +7656,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         ClientVertexArrayType arrayPacked = FromGLenum<ClientVertexArrayType>(array);
+        ANGLE_CAPTURE(DisableClientState, context, arrayPacked);
         if (context->skipValidation() || ValidateDisableClientState(context, arrayPacked))
         {
             context->disableClientState(arrayPacked);
@@ -6680,13 +7666,13 @@
 
 void GL_APIENTRY DisableVertexAttribArrayContextANGLE(GLeglContext ctx, GLuint index)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u)", index);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DisableVertexAttribArray, context, index);
         if (context->skipValidation() || ValidateDisableVertexAttribArray(context, index))
         {
             context->disableVertexAttribArray(index);
@@ -6699,7 +7685,6 @@
                                                    GLsizei numAttachments,
                                                    const GLenum *attachments)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei numAttachments = %d, const GLenum *attachments = "
         "0x%016" PRIxPTR ")",
@@ -6709,6 +7694,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DiscardFramebufferEXT, context, target, numAttachments, attachments);
         if (context->skipValidation() ||
             ValidateDiscardFramebufferEXT(context, target, numAttachments, attachments))
         {
@@ -6722,7 +7708,6 @@
                                              GLuint num_groups_y,
                                              GLuint num_groups_z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint num_groups_x = %u, GLuint num_groups_y = %u, GLuint num_groups_z = %u)",
           num_groups_x, num_groups_y, num_groups_z);
 
@@ -6730,6 +7715,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DispatchCompute, context, num_groups_x, num_groups_y, num_groups_z);
         if (context->skipValidation() ||
             ValidateDispatchCompute(context, num_groups_x, num_groups_y, num_groups_z))
         {
@@ -6740,13 +7726,13 @@
 
 void GL_APIENTRY DispatchComputeIndirectContextANGLE(GLeglContext ctx, GLintptr indirect)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLintptr indirect = %llu)", static_cast<unsigned long long>(indirect));
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DispatchComputeIndirect, context, indirect);
         if (context->skipValidation() || ValidateDispatchComputeIndirect(context, indirect))
         {
             context->dispatchComputeIndirect(indirect);
@@ -6756,7 +7742,6 @@
 
 void GL_APIENTRY DrawArraysContextANGLE(GLeglContext ctx, GLenum mode, GLint first, GLsizei count)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint first = %d, GLsizei count = %d)", mode, first, count);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -6764,6 +7749,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArrays, context, modePacked, first, count);
         if (context->skipValidation() || ValidateDrawArrays(context, modePacked, first, count))
         {
             context->drawArrays(modePacked, first, count);
@@ -6773,7 +7759,6 @@
 
 void GL_APIENTRY DrawArraysIndirectContextANGLE(GLeglContext ctx, GLenum mode, const void *indirect)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const void *indirect = 0x%016" PRIxPTR ")", mode,
           (uintptr_t)indirect);
 
@@ -6782,6 +7767,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysIndirect, context, modePacked, indirect);
         if (context->skipValidation() || ValidateDrawArraysIndirect(context, modePacked, indirect))
         {
             context->drawArraysIndirect(modePacked, indirect);
@@ -6795,7 +7781,6 @@
                                                  GLsizei count,
                                                  GLsizei instancecount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint first = %d, GLsizei count = %d, GLsizei instancecount = %d)",
           mode, first, count, instancecount);
 
@@ -6804,6 +7789,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysInstanced, context, modePacked, first, count, instancecount);
         if (context->skipValidation() ||
             ValidateDrawArraysInstanced(context, modePacked, first, count, instancecount))
         {
@@ -6818,7 +7804,6 @@
                                                       GLsizei count,
                                                       GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint first = %d, GLsizei count = %d, GLsizei primcount = %d)",
           mode, first, count, primcount);
 
@@ -6827,6 +7812,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysInstancedANGLE, context, modePacked, first, count, primcount);
         if (context->skipValidation() ||
             ValidateDrawArraysInstancedANGLE(context, modePacked, first, count, primcount))
         {
@@ -6841,7 +7827,6 @@
                                                     GLsizei count,
                                                     GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLint start = %d, GLsizei count = %d, GLsizei primcount = %d)",
           mode, start, count, primcount);
 
@@ -6850,6 +7835,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(DrawArraysInstancedEXT, context, modePacked, start, count, primcount);
         if (context->skipValidation() ||
             ValidateDrawArraysInstancedEXT(context, modePacked, start, count, primcount))
         {
@@ -6860,13 +7846,13 @@
 
 void GL_APIENTRY DrawBuffersContextANGLE(GLeglContext ctx, GLsizei n, const GLenum *bufs)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLenum *bufs = 0x%016" PRIxPTR ")", n, (uintptr_t)bufs);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawBuffers, context, n, bufs);
         if (context->skipValidation() || ValidateDrawBuffers(context, n, bufs))
         {
             context->drawBuffers(n, bufs);
@@ -6876,13 +7862,13 @@
 
 void GL_APIENTRY DrawBuffersEXTContextANGLE(GLeglContext ctx, GLsizei n, const GLenum *bufs)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, const GLenum *bufs = 0x%016" PRIxPTR ")", n, (uintptr_t)bufs);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawBuffersEXT, context, n, bufs);
         if (context->skipValidation() || ValidateDrawBuffersEXT(context, n, bufs))
         {
             context->drawBuffers(n, bufs);
@@ -6896,7 +7882,6 @@
                                           GLenum type,
                                           const void *indices)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ")",
@@ -6908,6 +7893,7 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElements, context, modePacked, count, typePacked, indices);
         if (context->skipValidation() ||
             ValidateDrawElements(context, modePacked, count, typePacked, indices))
         {
@@ -6921,7 +7907,6 @@
                                                   GLenum type,
                                                   const void *indirect)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, GLenum type = 0x%X, const void *indirect = 0x%016" PRIxPTR ")",
           mode, type, (uintptr_t)indirect);
 
@@ -6931,6 +7916,7 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsIndirect, context, modePacked, typePacked, indirect);
         if (context->skipValidation() ||
             ValidateDrawElementsIndirect(context, modePacked, typePacked, indirect))
         {
@@ -6946,7 +7932,6 @@
                                                    const void *indices,
                                                    GLsizei instancecount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ", GLsizei instancecount = %d)",
@@ -6958,6 +7943,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsInstanced, context, modePacked, count, typePacked, indices,
+                      instancecount);
         if (context->skipValidation() ||
             ValidateDrawElementsInstanced(context, modePacked, count, typePacked, indices,
                                           instancecount))
@@ -6974,7 +7961,6 @@
                                                         const void *indices,
                                                         GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ", GLsizei primcount = %d)",
@@ -6986,6 +7972,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsInstancedANGLE, context, modePacked, count, typePacked, indices,
+                      primcount);
         if (context->skipValidation() ||
             ValidateDrawElementsInstancedANGLE(context, modePacked, count, typePacked, indices,
                                                primcount))
@@ -7002,7 +7990,6 @@
                                                       const void *indices,
                                                       GLsizei primcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLsizei count = %d, GLenum type = 0x%X, const void *indices = "
         "0x%016" PRIxPTR ", GLsizei primcount = %d)",
@@ -7014,6 +8001,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawElementsInstancedEXT, context, modePacked, count, typePacked, indices,
+                      primcount);
         if (context->skipValidation() ||
             ValidateDrawElementsInstancedEXT(context, modePacked, count, typePacked, indices,
                                              primcount))
@@ -7031,7 +8020,6 @@
                                                GLenum type,
                                                const void *indices)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum mode = 0x%X, GLuint start = %u, GLuint end = %u, GLsizei count = %d, GLenum type "
         "= 0x%X, const void *indices = 0x%016" PRIxPTR ")",
@@ -7043,6 +8031,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(DrawRangeElements, context, modePacked, start, end, count, typePacked,
+                      indices);
         if (context->skipValidation() ||
             ValidateDrawRangeElements(context, modePacked, start, end, count, typePacked, indices))
         {
@@ -7058,7 +8048,6 @@
                                          GLfloat width,
                                          GLfloat height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfloat x = %f, GLfloat y = %f, GLfloat z = %f, GLfloat width = %f, GLfloat height = %f)",
         x, y, z, width, height);
@@ -7067,6 +8056,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexfOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexfOES(context, x, y, z, width, height))
         {
             context->drawTexf(x, y, z, width, height);
@@ -7076,13 +8066,13 @@
 
 void GL_APIENTRY DrawTexfvOESContextANGLE(GLeglContext ctx, const GLfloat *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfloat *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexfvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexfvOES(context, coords))
         {
             context->drawTexfv(coords);
@@ -7093,7 +8083,6 @@
 void GL_APIENTRY
 DrawTexiOESContextANGLE(GLeglContext ctx, GLint x, GLint y, GLint z, GLint width, GLint height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint x = %d, GLint y = %d, GLint z = %d, GLint width = %d, GLint height = %d)", x, y,
           z, width, height);
 
@@ -7101,6 +8090,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexiOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexiOES(context, x, y, z, width, height))
         {
             context->drawTexi(x, y, z, width, height);
@@ -7110,13 +8100,13 @@
 
 void GL_APIENTRY DrawTexivOESContextANGLE(GLeglContext ctx, const GLint *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLint *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexivOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexivOES(context, coords))
         {
             context->drawTexiv(coords);
@@ -7131,7 +8121,6 @@
                                          GLshort width,
                                          GLshort height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLshort x = %d, GLshort y = %d, GLshort z = %d, GLshort width = %d, GLshort height = %d)",
         x, y, z, width, height);
@@ -7140,6 +8129,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexsOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexsOES(context, x, y, z, width, height))
         {
             context->drawTexs(x, y, z, width, height);
@@ -7149,13 +8139,13 @@
 
 void GL_APIENTRY DrawTexsvOESContextANGLE(GLeglContext ctx, const GLshort *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLshort *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexsvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexsvOES(context, coords))
         {
             context->drawTexsv(coords);
@@ -7170,7 +8160,6 @@
                                          GLfixed width,
                                          GLfixed height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfixed x = 0x%X, GLfixed y = 0x%X, GLfixed z = 0x%X, GLfixed width = 0x%X, GLfixed "
         "height = 0x%X)",
@@ -7180,6 +8169,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexxOES, context, x, y, z, width, height);
         if (context->skipValidation() || ValidateDrawTexxOES(context, x, y, z, width, height))
         {
             context->drawTexx(x, y, z, width, height);
@@ -7189,13 +8179,13 @@
 
 void GL_APIENTRY DrawTexxvOESContextANGLE(GLeglContext ctx, const GLfixed *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfixed *coords = 0x%016" PRIxPTR ")", (uintptr_t)coords);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DrawTexxvOES, context, coords);
         if (context->skipValidation() || ValidateDrawTexxvOES(context, coords))
         {
             context->drawTexxv(coords);
@@ -7207,7 +8197,6 @@
                                                                   GLenum target,
                                                                   GLeglImageOES image)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLeglImageOES image = 0x%016" PRIxPTR ")", target,
           (uintptr_t)image);
 
@@ -7215,6 +8204,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(EGLImageTargetRenderbufferStorageOES, context, target, image);
         if (context->skipValidation() ||
             ValidateEGLImageTargetRenderbufferStorageOES(context, target, image))
         {
@@ -7227,7 +8217,6 @@
                                                         GLenum target,
                                                         GLeglImageOES image)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLeglImageOES image = 0x%016" PRIxPTR ")", target,
           (uintptr_t)image);
 
@@ -7236,6 +8225,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(EGLImageTargetTexture2DOES, context, targetPacked, image);
         if (context->skipValidation() ||
             ValidateEGLImageTargetTexture2DOES(context, targetPacked, image))
         {
@@ -7246,13 +8236,13 @@
 
 void GL_APIENTRY EnableContextANGLE(GLeglContext ctx, GLenum cap)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum cap = 0x%X)", cap);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Enable, context, cap);
         if (context->skipValidation() || ValidateEnable(context, cap))
         {
             context->enable(cap);
@@ -7262,7 +8252,6 @@
 
 void GL_APIENTRY EnableClientStateContextANGLE(GLeglContext ctx, GLenum array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum array = 0x%X)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -7270,6 +8259,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         ClientVertexArrayType arrayPacked = FromGLenum<ClientVertexArrayType>(array);
+        ANGLE_CAPTURE(EnableClientState, context, arrayPacked);
         if (context->skipValidation() || ValidateEnableClientState(context, arrayPacked))
         {
             context->enableClientState(arrayPacked);
@@ -7279,13 +8269,13 @@
 
 void GL_APIENTRY EnableVertexAttribArrayContextANGLE(GLeglContext ctx, GLuint index)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u)", index);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(EnableVertexAttribArray, context, index);
         if (context->skipValidation() || ValidateEnableVertexAttribArray(context, index))
         {
             context->enableVertexAttribArray(index);
@@ -7295,7 +8285,6 @@
 
 void GL_APIENTRY EndQueryContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -7303,6 +8292,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(EndQuery, context, targetPacked);
         if (context->skipValidation() || ValidateEndQuery(context, targetPacked))
         {
             context->endQuery(targetPacked);
@@ -7312,7 +8302,6 @@
 
 void GL_APIENTRY EndQueryEXTContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -7320,6 +8309,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(EndQueryEXT, context, targetPacked);
         if (context->skipValidation() || ValidateEndQueryEXT(context, targetPacked))
         {
             context->endQuery(targetPacked);
@@ -7329,13 +8319,13 @@
 
 void GL_APIENTRY EndTransformFeedbackContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(EndTransformFeedback, context);
         if (context->skipValidation() || ValidateEndTransformFeedback(context))
         {
             context->endTransformFeedback();
@@ -7345,13 +8335,13 @@
 
 GLsync GL_APIENTRY FenceSyncContextANGLE(GLeglContext ctx, GLenum condition, GLbitfield flags)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum condition = 0x%X, GLbitfield flags = 0x%X)", condition, flags);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FenceSync, context, condition, flags);
         if (context->skipValidation() || ValidateFenceSync(context, condition, flags))
         {
             return context->fenceSync(condition, flags);
@@ -7363,13 +8353,13 @@
 
 void GL_APIENTRY FinishContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Finish, context);
         if (context->skipValidation() || ValidateFinish(context))
         {
             context->finish();
@@ -7379,13 +8369,13 @@
 
 void GL_APIENTRY FinishFenceNVContextANGLE(GLeglContext ctx, GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FinishFenceNV, context, fence);
         if (context->skipValidation() || ValidateFinishFenceNV(context, fence))
         {
             context->finishFenceNV(fence);
@@ -7395,13 +8385,13 @@
 
 void GL_APIENTRY FlushContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Flush, context);
         if (context->skipValidation() || ValidateFlush(context))
         {
             context->flush();
@@ -7414,7 +8404,6 @@
                                                     GLintptr offset,
                                                     GLsizeiptr length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu)", target,
           static_cast<unsigned long long>(offset), static_cast<unsigned long long>(length));
 
@@ -7423,6 +8412,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(FlushMappedBufferRange, context, targetPacked, offset, length);
         if (context->skipValidation() ||
             ValidateFlushMappedBufferRange(context, targetPacked, offset, length))
         {
@@ -7436,7 +8426,6 @@
                                                        GLintptr offset,
                                                        GLsizeiptr length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu)", target,
           static_cast<unsigned long long>(offset), static_cast<unsigned long long>(length));
 
@@ -7445,6 +8434,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(FlushMappedBufferRangeEXT, context, targetPacked, offset, length);
         if (context->skipValidation() ||
             ValidateFlushMappedBufferRangeEXT(context, targetPacked, offset, length))
         {
@@ -7455,13 +8445,13 @@
 
 void GL_APIENTRY FogfContextANGLE(GLeglContext ctx, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfloat param = %f)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Fogf, context, pname, param);
         if (context->skipValidation() || ValidateFogf(context, pname, param))
         {
             context->fogf(pname, param);
@@ -7471,7 +8461,6 @@
 
 void GL_APIENTRY FogfvContextANGLE(GLeglContext ctx, GLenum pname, const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)params);
 
@@ -7479,6 +8468,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Fogfv, context, pname, params);
         if (context->skipValidation() || ValidateFogfv(context, pname, params))
         {
             context->fogfv(pname, params);
@@ -7488,13 +8478,13 @@
 
 void GL_APIENTRY FogxContextANGLE(GLeglContext ctx, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfixed param = 0x%X)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Fogx, context, pname, param);
         if (context->skipValidation() || ValidateFogx(context, pname, param))
         {
             context->fogx(pname, param);
@@ -7504,7 +8494,6 @@
 
 void GL_APIENTRY FogxvContextANGLE(GLeglContext ctx, GLenum pname, const GLfixed *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfixed *param = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)param);
 
@@ -7512,6 +8501,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Fogxv, context, pname, param);
         if (context->skipValidation() || ValidateFogxv(context, pname, param))
         {
             context->fogxv(pname, param);
@@ -7524,13 +8514,13 @@
                                                    GLenum pname,
                                                    GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint param = %d)", target, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferParameteri, context, target, pname, param);
         if (context->skipValidation() ||
             ValidateFramebufferParameteri(context, target, pname, param))
         {
@@ -7545,7 +8535,6 @@
                                                      GLenum renderbuffertarget,
                                                      GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum renderbuffertarget = 0x%X, GLuint "
         "renderbuffer = %u)",
@@ -7555,6 +8544,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferRenderbuffer, context, target, attachment, renderbuffertarget,
+                      renderbuffer);
         if (context->skipValidation() ||
             ValidateFramebufferRenderbuffer(context, target, attachment, renderbuffertarget,
                                             renderbuffer))
@@ -7570,7 +8561,6 @@
                                                         GLenum renderbuffertarget,
                                                         GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum renderbuffertarget = 0x%X, GLuint "
         "renderbuffer = %u)",
@@ -7580,6 +8570,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferRenderbufferOES, context, target, attachment, renderbuffertarget,
+                      renderbuffer);
         if (context->skipValidation() ||
             ValidateFramebufferRenderbufferOES(context, target, attachment, renderbuffertarget,
                                                renderbuffer))
@@ -7596,7 +8588,6 @@
                                                   GLuint texture,
                                                   GLint level)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum textarget = 0x%X, GLuint texture "
         "= %u, GLint level = %d)",
@@ -7607,6 +8598,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget textargetPacked = FromGLenum<TextureTarget>(textarget);
+        ANGLE_CAPTURE(FramebufferTexture2D, context, target, attachment, textargetPacked, texture,
+                      level);
         if (context->skipValidation() ||
             ValidateFramebufferTexture2D(context, target, attachment, textargetPacked, texture,
                                          level))
@@ -7623,7 +8616,6 @@
                                                      GLuint texture,
                                                      GLint level)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum textarget = 0x%X, GLuint texture "
         "= %u, GLint level = %d)",
@@ -7634,6 +8626,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget textargetPacked = FromGLenum<TextureTarget>(textarget);
+        ANGLE_CAPTURE(FramebufferTexture2DOES, context, target, attachment, textargetPacked,
+                      texture, level);
         if (context->skipValidation() ||
             ValidateFramebufferTexture2DOES(context, target, attachment, textargetPacked, texture,
                                             level))
@@ -7643,13 +8637,42 @@
     }
 }
 
+void GL_APIENTRY FramebufferTexture3DOESContextANGLE(GLeglContext ctx,
+                                                     GLenum target,
+                                                     GLenum attachment,
+                                                     GLenum textarget,
+                                                     GLuint texture,
+                                                     GLint level,
+                                                     GLint zoffset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum textarget = 0x%X, GLuint texture "
+        "= %u, GLint level = %d, GLint zoffset = %d)",
+        target, attachment, textarget, texture, level, zoffset);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget textargetPacked = FromGLenum<TextureTarget>(textarget);
+        ANGLE_CAPTURE(FramebufferTexture3DOES, context, target, attachment, textargetPacked,
+                      texture, level, zoffset);
+        if (context->skipValidation() ||
+            ValidateFramebufferTexture3DOES(context, target, attachment, textargetPacked, texture,
+                                            level, zoffset))
+        {
+            context->framebufferTexture3D(target, attachment, textargetPacked, texture, level,
+                                          zoffset);
+        }
+    }
+}
+
 void GL_APIENTRY FramebufferTextureEXTContextANGLE(GLeglContext ctx,
                                                    GLenum target,
                                                    GLenum attachment,
                                                    GLuint texture,
                                                    GLint level)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum attachment = 0x%X, GLuint texture = %u, GLint level = %d)",
           target, attachment, texture, level);
 
@@ -7657,6 +8680,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferTextureEXT, context, target, attachment, texture, level);
         if (context->skipValidation() ||
             ValidateFramebufferTextureEXT(context, target, attachment, texture, level))
         {
@@ -7672,7 +8696,6 @@
                                                      GLint level,
                                                      GLint layer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLuint texture = %u, GLint level = %d, "
         "GLint layer = %d)",
@@ -7682,6 +8705,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferTextureLayer, context, target, attachment, texture, level, layer);
         if (context->skipValidation() ||
             ValidateFramebufferTextureLayer(context, target, attachment, texture, level, layer))
         {
@@ -7698,7 +8722,6 @@
                                                             GLint baseViewIndex,
                                                             GLsizei numViews)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLuint texture = %u, GLint level = %d, "
         "GLint baseViewIndex = %d, GLsizei numViews = %d)",
@@ -7708,6 +8731,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FramebufferTextureMultiviewOVR, context, target, attachment, texture, level,
+                      baseViewIndex, numViews);
         if (context->skipValidation() ||
             ValidateFramebufferTextureMultiviewOVR(context, target, attachment, texture, level,
                                                    baseViewIndex, numViews))
@@ -7720,13 +8745,13 @@
 
 void GL_APIENTRY FrontFaceContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(FrontFace, context, mode);
         if (context->skipValidation() || ValidateFrontFace(context, mode))
         {
             context->frontFace(mode);
@@ -7742,7 +8767,6 @@
                                       GLfloat n,
                                       GLfloat f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfloat l = %f, GLfloat r = %f, GLfloat b = %f, GLfloat t = %f, GLfloat n = %f, GLfloat "
         "f = %f)",
@@ -7752,6 +8776,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Frustumf, context, l, r, b, t, n, f);
         if (context->skipValidation() || ValidateFrustumf(context, l, r, b, t, n, f))
         {
             context->frustumf(l, r, b, t, n, f);
@@ -7767,7 +8792,6 @@
                                       GLfixed n,
                                       GLfixed f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfixed l = 0x%X, GLfixed r = 0x%X, GLfixed b = 0x%X, GLfixed t = 0x%X, GLfixed n = "
         "0x%X, GLfixed f = 0x%X)",
@@ -7777,6 +8801,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Frustumx, context, l, r, b, t, n, f);
         if (context->skipValidation() || ValidateFrustumx(context, l, r, b, t, n, f))
         {
             context->frustumx(l, r, b, t, n, f);
@@ -7786,13 +8811,13 @@
 
 void GL_APIENTRY GenBuffersContextANGLE(GLeglContext ctx, GLsizei n, GLuint *buffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *buffers = 0x%016" PRIxPTR ")", n, (uintptr_t)buffers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenBuffers, context, n, buffers);
         if (context->skipValidation() || ValidateGenBuffers(context, n, buffers))
         {
             context->genBuffers(n, buffers);
@@ -7802,13 +8827,13 @@
 
 void GL_APIENTRY GenFencesNVContextANGLE(GLeglContext ctx, GLsizei n, GLuint *fences)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *fences = 0x%016" PRIxPTR ")", n, (uintptr_t)fences);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenFencesNV, context, n, fences);
         if (context->skipValidation() || ValidateGenFencesNV(context, n, fences))
         {
             context->genFencesNV(n, fences);
@@ -7818,13 +8843,13 @@
 
 void GL_APIENTRY GenFramebuffersContextANGLE(GLeglContext ctx, GLsizei n, GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *framebuffers = 0x%016" PRIxPTR ")", n, (uintptr_t)framebuffers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenFramebuffers, context, n, framebuffers);
         if (context->skipValidation() || ValidateGenFramebuffers(context, n, framebuffers))
         {
             context->genFramebuffers(n, framebuffers);
@@ -7834,13 +8859,13 @@
 
 void GL_APIENTRY GenFramebuffersOESContextANGLE(GLeglContext ctx, GLsizei n, GLuint *framebuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *framebuffers = 0x%016" PRIxPTR ")", n, (uintptr_t)framebuffers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenFramebuffersOES, context, n, framebuffers);
         if (context->skipValidation() || ValidateGenFramebuffersOES(context, n, framebuffers))
         {
             context->genFramebuffers(n, framebuffers);
@@ -7850,13 +8875,13 @@
 
 void GL_APIENTRY GenProgramPipelinesContextANGLE(GLeglContext ctx, GLsizei n, GLuint *pipelines)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *pipelines = 0x%016" PRIxPTR ")", n, (uintptr_t)pipelines);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenProgramPipelines, context, n, pipelines);
         if (context->skipValidation() || ValidateGenProgramPipelines(context, n, pipelines))
         {
             context->genProgramPipelines(n, pipelines);
@@ -7866,13 +8891,13 @@
 
 void GL_APIENTRY GenQueriesContextANGLE(GLeglContext ctx, GLsizei n, GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenQueries, context, n, ids);
         if (context->skipValidation() || ValidateGenQueries(context, n, ids))
         {
             context->genQueries(n, ids);
@@ -7882,13 +8907,13 @@
 
 void GL_APIENTRY GenQueriesEXTContextANGLE(GLeglContext ctx, GLsizei n, GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenQueriesEXT, context, n, ids);
         if (context->skipValidation() || ValidateGenQueriesEXT(context, n, ids))
         {
             context->genQueries(n, ids);
@@ -7898,7 +8923,6 @@
 
 void GL_APIENTRY GenRenderbuffersContextANGLE(GLeglContext ctx, GLsizei n, GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
@@ -7906,6 +8930,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenRenderbuffers, context, n, renderbuffers);
         if (context->skipValidation() || ValidateGenRenderbuffers(context, n, renderbuffers))
         {
             context->genRenderbuffers(n, renderbuffers);
@@ -7915,7 +8940,6 @@
 
 void GL_APIENTRY GenRenderbuffersOESContextANGLE(GLeglContext ctx, GLsizei n, GLuint *renderbuffers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *renderbuffers = 0x%016" PRIxPTR ")", n,
           (uintptr_t)renderbuffers);
 
@@ -7923,6 +8947,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenRenderbuffersOES, context, n, renderbuffers);
         if (context->skipValidation() || ValidateGenRenderbuffersOES(context, n, renderbuffers))
         {
             context->genRenderbuffers(n, renderbuffers);
@@ -7932,13 +8957,13 @@
 
 void GL_APIENTRY GenSamplersContextANGLE(GLeglContext ctx, GLsizei count, GLuint *samplers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei count = %d, GLuint *samplers = 0x%016" PRIxPTR ")", count, (uintptr_t)samplers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenSamplers, context, count, samplers);
         if (context->skipValidation() || ValidateGenSamplers(context, count, samplers))
         {
             context->genSamplers(count, samplers);
@@ -7946,15 +8971,31 @@
     }
 }
 
+void GL_APIENTRY GenSemaphoresEXTContextANGLE(GLeglContext ctx, GLsizei n, GLuint *semaphores)
+{
+    EVENT("(GLsizei n = %d, GLuint *semaphores = 0x%016" PRIxPTR ")", n, (uintptr_t)semaphores);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenSemaphoresEXT, context, n, semaphores);
+        if (context->skipValidation() || ValidateGenSemaphoresEXT(context, n, semaphores))
+        {
+            context->genSemaphores(n, semaphores);
+        }
+    }
+}
+
 void GL_APIENTRY GenTexturesContextANGLE(GLeglContext ctx, GLsizei n, GLuint *textures)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *textures = 0x%016" PRIxPTR ")", n, (uintptr_t)textures);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenTextures, context, n, textures);
         if (context->skipValidation() || ValidateGenTextures(context, n, textures))
         {
             context->genTextures(n, textures);
@@ -7964,13 +9005,13 @@
 
 void GL_APIENTRY GenTransformFeedbacksContextANGLE(GLeglContext ctx, GLsizei n, GLuint *ids)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *ids = 0x%016" PRIxPTR ")", n, (uintptr_t)ids);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenTransformFeedbacks, context, n, ids);
         if (context->skipValidation() || ValidateGenTransformFeedbacks(context, n, ids))
         {
             context->genTransformFeedbacks(n, ids);
@@ -7980,13 +9021,13 @@
 
 void GL_APIENTRY GenVertexArraysContextANGLE(GLeglContext ctx, GLsizei n, GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenVertexArrays, context, n, arrays);
         if (context->skipValidation() || ValidateGenVertexArrays(context, n, arrays))
         {
             context->genVertexArrays(n, arrays);
@@ -7996,13 +9037,13 @@
 
 void GL_APIENTRY GenVertexArraysOESContextANGLE(GLeglContext ctx, GLsizei n, GLuint *arrays)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei n = %d, GLuint *arrays = 0x%016" PRIxPTR ")", n, (uintptr_t)arrays);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenVertexArraysOES, context, n, arrays);
         if (context->skipValidation() || ValidateGenVertexArraysOES(context, n, arrays))
         {
             context->genVertexArrays(n, arrays);
@@ -8012,7 +9053,6 @@
 
 void GL_APIENTRY GenerateMipmapContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -8020,6 +9060,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GenerateMipmap, context, targetPacked);
         if (context->skipValidation() || ValidateGenerateMipmap(context, targetPacked))
         {
             context->generateMipmap(targetPacked);
@@ -8029,7 +9070,6 @@
 
 void GL_APIENTRY GenerateMipmapOESContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -8037,6 +9077,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GenerateMipmapOES, context, targetPacked);
         if (context->skipValidation() || ValidateGenerateMipmapOES(context, targetPacked))
         {
             context->generateMipmap(targetPacked);
@@ -8053,7 +9094,6 @@
                                              GLenum *type,
                                              GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint index = %u, GLsizei bufSize = %d, GLsizei *length = "
         "0x%016" PRIxPTR ", GLint *size = 0x%016" PRIxPTR ", GLenum *type = 0x%016" PRIxPTR
@@ -8065,6 +9105,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveAttrib, context, program, index, bufSize, length, size, type, name);
         if (context->skipValidation() ||
             ValidateGetActiveAttrib(context, program, index, bufSize, length, size, type, name))
         {
@@ -8082,7 +9123,6 @@
                                               GLenum *type,
                                               GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint index = %u, GLsizei bufSize = %d, GLsizei *length = "
         "0x%016" PRIxPTR ", GLint *size = 0x%016" PRIxPTR ", GLenum *type = 0x%016" PRIxPTR
@@ -8094,6 +9134,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveUniform, context, program, index, bufSize, length, size, type, name);
         if (context->skipValidation() ||
             ValidateGetActiveUniform(context, program, index, bufSize, length, size, type, name))
         {
@@ -8109,7 +9150,6 @@
                                                        GLsizei *length,
                                                        GLchar *uniformBlockName)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint uniformBlockIndex = %u, GLsizei bufSize = %d, GLsizei "
         "*length = 0x%016" PRIxPTR ", GLchar *uniformBlockName = 0x%016" PRIxPTR ")",
@@ -8119,6 +9159,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveUniformBlockName, context, program, uniformBlockIndex, bufSize,
+                      length, uniformBlockName);
         if (context->skipValidation() ||
             ValidateGetActiveUniformBlockName(context, program, uniformBlockIndex, bufSize, length,
                                               uniformBlockName))
@@ -8135,7 +9177,6 @@
                                                      GLenum pname,
                                                      GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint uniformBlockIndex = %u, GLenum pname = 0x%X, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -8145,6 +9186,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveUniformBlockiv, context, program, uniformBlockIndex, pname, params);
         if (context->skipValidation() ||
             ValidateGetActiveUniformBlockiv(context, program, uniformBlockIndex, pname, params))
         {
@@ -8160,7 +9202,6 @@
                                                  GLenum pname,
                                                  GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLsizei uniformCount = %d, const GLuint *uniformIndices = "
         "0x%016" PRIxPTR ", GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")",
@@ -8170,6 +9211,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveUniformsiv, context, program, uniformCount, uniformIndices, pname,
+                      params);
         if (context->skipValidation() || ValidateGetActiveUniformsiv(context, program, uniformCount,
                                                                      uniformIndices, pname, params))
         {
@@ -8184,7 +9227,6 @@
                                                 GLsizei *count,
                                                 GLuint *shaders)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei maxCount = %d, GLsizei *count = 0x%016" PRIxPTR
           ", GLuint *shaders = 0x%016" PRIxPTR ")",
           program, maxCount, (uintptr_t)count, (uintptr_t)shaders);
@@ -8193,6 +9235,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetAttachedShaders, context, program, maxCount, count, shaders);
         if (context->skipValidation() ||
             ValidateGetAttachedShaders(context, program, maxCount, count, shaders))
         {
@@ -8205,7 +9248,6 @@
                                                 GLuint program,
                                                 const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *name = 0x%016" PRIxPTR ")", program,
           (uintptr_t)name);
 
@@ -8213,6 +9255,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetAttribLocation, context, program, name);
         if (context->skipValidation() || ValidateGetAttribLocation(context, program, name))
         {
             return context->getAttribLocation(program, name);
@@ -8227,7 +9270,6 @@
                                            GLuint index,
                                            GLboolean *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint index = %u, GLboolean *data = 0x%016" PRIxPTR ")", target,
           index, (uintptr_t)data);
 
@@ -8235,6 +9277,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetBooleani_v, context, target, index, data);
         if (context->skipValidation() || ValidateGetBooleani_v(context, target, index, data))
         {
             context->getBooleani_v(target, index, data);
@@ -8244,13 +9287,13 @@
 
 void GL_APIENTRY GetBooleanvContextANGLE(GLeglContext ctx, GLenum pname, GLboolean *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLboolean *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetBooleanv, context, pname, data);
         if (context->skipValidation() || ValidateGetBooleanv(context, pname, data))
         {
             context->getBooleanv(pname, data);
@@ -8263,7 +9306,6 @@
                                                     GLenum pname,
                                                     GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint64 *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -8272,6 +9314,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameteri64v, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetBufferParameteri64v(context, targetPacked, pname, params))
         {
@@ -8285,7 +9328,6 @@
                                                   GLenum pname,
                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -8294,6 +9336,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameteriv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetBufferParameteriv(context, targetPacked, pname, params))
         {
@@ -8307,7 +9350,6 @@
                                                GLenum pname,
                                                void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -8316,6 +9358,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferPointerv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetBufferPointerv(context, targetPacked, pname, params))
         {
@@ -8329,7 +9372,6 @@
                                                   GLenum pname,
                                                   void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -8338,6 +9380,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferPointervOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetBufferPointervOES(context, targetPacked, pname, params))
         {
@@ -8348,7 +9391,6 @@
 
 void GL_APIENTRY GetClipPlanefContextANGLE(GLeglContext ctx, GLenum plane, GLfloat *equation)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum plane = 0x%X, GLfloat *equation = 0x%016" PRIxPTR ")", plane,
           (uintptr_t)equation);
 
@@ -8356,6 +9398,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetClipPlanef, context, plane, equation);
         if (context->skipValidation() || ValidateGetClipPlanef(context, plane, equation))
         {
             context->getClipPlanef(plane, equation);
@@ -8365,7 +9408,6 @@
 
 void GL_APIENTRY GetClipPlanexContextANGLE(GLeglContext ctx, GLenum plane, GLfixed *equation)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum plane = 0x%X, GLfixed *equation = 0x%016" PRIxPTR ")", plane,
           (uintptr_t)equation);
 
@@ -8373,6 +9415,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetClipPlanex, context, plane, equation);
         if (context->skipValidation() || ValidateGetClipPlanex(context, plane, equation))
         {
             context->getClipPlanex(plane, equation);
@@ -8390,7 +9433,6 @@
                                                      GLsizei *lengths,
                                                      GLchar *messageLog)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint count = %u, GLsizei bufSize = %d, GLenum *sources = 0x%016" PRIxPTR
           ", GLenum *types = 0x%016" PRIxPTR ", GLuint *ids = 0x%016" PRIxPTR
           ", GLenum *severities = 0x%016" PRIxPTR ", GLsizei *lengths = 0x%016" PRIxPTR
@@ -8402,6 +9444,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetDebugMessageLogKHR, context, count, bufSize, sources, types, ids,
+                      severities, lengths, messageLog);
         if (context->skipValidation() ||
             ValidateGetDebugMessageLogKHR(context, count, bufSize, sources, types, ids, severities,
                                           lengths, messageLog))
@@ -8416,13 +9460,13 @@
 
 GLenum GL_APIENTRY GetErrorContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
-    Context *context = GetGlobalContext();
-    if (context)
-    {
-        ASSERT(context == GetValidGlobalContext());
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetError, context);
         if (context->skipValidation() || ValidateGetError(context))
         {
             return context->getError();
@@ -8437,7 +9481,6 @@
                                           GLenum pname,
                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", fence,
           pname, (uintptr_t)params);
 
@@ -8445,6 +9488,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFenceivNV, context, fence, pname, params);
         if (context->skipValidation() || ValidateGetFenceivNV(context, fence, pname, params))
         {
             context->getFenceivNV(fence, pname, params);
@@ -8454,13 +9498,13 @@
 
 void GL_APIENTRY GetFixedvContextANGLE(GLeglContext ctx, GLenum pname, GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")", pname, (uintptr_t)params);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFixedv, context, pname, params);
         if (context->skipValidation() || ValidateGetFixedv(context, pname, params))
         {
             context->getFixedv(pname, params);
@@ -8470,13 +9514,13 @@
 
 void GL_APIENTRY GetFloatvContextANGLE(GLeglContext ctx, GLenum pname, GLfloat *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfloat *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFloatv, context, pname, data);
         if (context->skipValidation() || ValidateGetFloatv(context, pname, data))
         {
             context->getFloatv(pname, data);
@@ -8488,7 +9532,6 @@
                                                   GLuint program,
                                                   const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *name = 0x%016" PRIxPTR ")", program,
           (uintptr_t)name);
 
@@ -8496,6 +9539,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFragDataIndexEXT, context, program, name);
         if (context->skipValidation() || ValidateGetFragDataIndexEXT(context, program, name))
         {
             return context->getFragDataIndex(program, name);
@@ -8509,7 +9553,6 @@
                                                   GLuint program,
                                                   const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *name = 0x%016" PRIxPTR ")", program,
           (uintptr_t)name);
 
@@ -8517,6 +9560,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFragDataLocation, context, program, name);
         if (context->skipValidation() || ValidateGetFragDataLocation(context, program, name))
         {
             return context->getFragDataLocation(program, name);
@@ -8532,7 +9576,6 @@
                                                                  GLenum pname,
                                                                  GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum pname = 0x%X, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -8542,6 +9585,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFramebufferAttachmentParameteriv, context, target, attachment, pname,
+                      params);
         if (context->skipValidation() ||
             ValidateGetFramebufferAttachmentParameteriv(context, target, attachment, pname, params))
         {
@@ -8556,7 +9601,6 @@
                                                                     GLenum pname,
                                                                     GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum pname = 0x%X, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -8566,6 +9610,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFramebufferAttachmentParameterivOES, context, target, attachment, pname,
+                      params);
         if (context->skipValidation() || ValidateGetFramebufferAttachmentParameterivOES(
                                              context, target, attachment, pname, params))
         {
@@ -8579,7 +9625,6 @@
                                                        GLenum pname,
                                                        GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -8587,6 +9632,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFramebufferParameteriv, context, target, pname, params);
         if (context->skipValidation() ||
             ValidateGetFramebufferParameteriv(context, target, pname, params))
         {
@@ -8597,13 +9643,13 @@
 
 GLenum GL_APIENTRY GetGraphicsResetStatusEXTContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetGraphicsResetStatusEXT, context);
         if (context->skipValidation() || ValidateGetGraphicsResetStatusEXT(context))
         {
             return context->getGraphicsResetStatus();
@@ -8618,7 +9664,6 @@
                                              GLuint index,
                                              GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint index = %u, GLint64 *data = 0x%016" PRIxPTR ")", target,
           index, (uintptr_t)data);
 
@@ -8626,6 +9671,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInteger64i_v, context, target, index, data);
         if (context->skipValidation() || ValidateGetInteger64i_v(context, target, index, data))
         {
             context->getInteger64i_v(target, index, data);
@@ -8635,13 +9681,13 @@
 
 void GL_APIENTRY GetInteger64vContextANGLE(GLeglContext ctx, GLenum pname, GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLint64 *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInteger64v, context, pname, data);
         if (context->skipValidation() || ValidateGetInteger64v(context, pname, data))
         {
             context->getInteger64v(pname, data);
@@ -8654,7 +9700,6 @@
                                            GLuint index,
                                            GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLuint index = %u, GLint *data = 0x%016" PRIxPTR ")", target,
           index, (uintptr_t)data);
 
@@ -8662,6 +9707,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetIntegeri_v, context, target, index, data);
         if (context->skipValidation() || ValidateGetIntegeri_v(context, target, index, data))
         {
             context->getIntegeri_v(target, index, data);
@@ -8671,13 +9717,13 @@
 
 void GL_APIENTRY GetIntegervContextANGLE(GLeglContext ctx, GLenum pname, GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLint *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetIntegerv, context, pname, data);
         if (context->skipValidation() || ValidateGetIntegerv(context, pname, data))
         {
             context->getIntegerv(pname, data);
@@ -8692,7 +9738,6 @@
                                                  GLsizei bufSize,
                                                  GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLenum pname = 0x%X, GLsizei bufSize "
         "= %d, GLint *params = 0x%016" PRIxPTR ")",
@@ -8702,6 +9747,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInternalformativ, context, target, internalformat, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateGetInternalformativ(context, target, internalformat, pname, bufSize, params))
         {
@@ -8715,7 +9761,6 @@
                                         GLenum pname,
                                         GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")", light,
           pname, (uintptr_t)params);
 
@@ -8724,6 +9769,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(GetLightfv, context, light, pnamePacked, params);
         if (context->skipValidation() || ValidateGetLightfv(context, light, pnamePacked, params))
         {
             context->getLightfv(light, pnamePacked, params);
@@ -8736,7 +9782,6 @@
                                         GLenum pname,
                                         GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")", light,
           pname, (uintptr_t)params);
 
@@ -8745,6 +9790,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(GetLightxv, context, light, pnamePacked, params);
         if (context->skipValidation() || ValidateGetLightxv(context, light, pnamePacked, params))
         {
             context->getLightxv(light, pnamePacked, params);
@@ -8757,7 +9803,6 @@
                                            GLenum pname,
                                            GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")", face,
           pname, (uintptr_t)params);
 
@@ -8766,6 +9811,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(GetMaterialfv, context, face, pnamePacked, params);
         if (context->skipValidation() || ValidateGetMaterialfv(context, face, pnamePacked, params))
         {
             context->getMaterialfv(face, pnamePacked, params);
@@ -8778,7 +9824,6 @@
                                            GLenum pname,
                                            GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")", face,
           pname, (uintptr_t)params);
 
@@ -8787,6 +9832,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(GetMaterialxv, context, face, pnamePacked, params);
         if (context->skipValidation() || ValidateGetMaterialxv(context, face, pnamePacked, params))
         {
             context->getMaterialxv(face, pnamePacked, params);
@@ -8794,12 +9840,32 @@
     }
 }
 
+void GL_APIENTRY GetMemoryObjectParameterivEXTContextANGLE(GLeglContext ctx,
+                                                           GLuint memoryObject,
+                                                           GLenum pname,
+                                                           GLint *params)
+{
+    EVENT("(GLuint memoryObject = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")",
+          memoryObject, pname, (uintptr_t)params);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetMemoryObjectParameterivEXT, context, memoryObject, pname, params);
+        if (context->skipValidation() ||
+            ValidateGetMemoryObjectParameterivEXT(context, memoryObject, pname, params))
+        {
+            context->getMemoryObjectParameteriv(memoryObject, pname, params);
+        }
+    }
+}
+
 void GL_APIENTRY GetMultisamplefvContextANGLE(GLeglContext ctx,
                                               GLenum pname,
                                               GLuint index,
                                               GLfloat *val)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLuint index = %u, GLfloat *val = 0x%016" PRIxPTR ")", pname,
           index, (uintptr_t)val);
 
@@ -8807,6 +9873,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetMultisamplefv, context, pname, index, val);
         if (context->skipValidation() || ValidateGetMultisamplefv(context, pname, index, val))
         {
             context->getMultisamplefv(pname, index, val);
@@ -8821,7 +9888,6 @@
                                                GLsizei *length,
                                                GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum identifier = 0x%X, GLuint name = %u, GLsizei bufSize = %d, GLsizei *length = "
         "0x%016" PRIxPTR ", GLchar *label = 0x%016" PRIxPTR ")",
@@ -8831,6 +9897,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetObjectLabelKHR, context, identifier, name, bufSize, length, label);
         if (context->skipValidation() ||
             ValidateGetObjectLabelKHR(context, identifier, name, bufSize, length, label))
         {
@@ -8845,7 +9912,6 @@
                                                   GLsizei *length,
                                                   GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const void *ptr = 0x%016" PRIxPTR
           ", GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *label = 0x%016" PRIxPTR ")",
@@ -8855,6 +9921,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetObjectPtrLabelKHR, context, ptr, bufSize, length, label);
         if (context->skipValidation() ||
             ValidateGetObjectPtrLabelKHR(context, ptr, bufSize, length, label))
         {
@@ -8865,13 +9932,13 @@
 
 void GL_APIENTRY GetPointervContextANGLE(GLeglContext ctx, GLenum pname, void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", pname, (uintptr_t)params);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetPointerv, context, pname, params);
         if (context->skipValidation() || ValidateGetPointerv(context, pname, params))
         {
             context->getPointerv(pname, params);
@@ -8881,13 +9948,13 @@
 
 void GL_APIENTRY GetPointervKHRContextANGLE(GLeglContext ctx, GLenum pname, void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, void **params = 0x%016" PRIxPTR ")", pname, (uintptr_t)params);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetPointervKHR, context, pname, params);
         if (context->skipValidation() || ValidateGetPointervKHR(context, pname, params))
         {
             context->getPointerv(pname, params);
@@ -8902,7 +9969,6 @@
                                               GLenum *binaryFormat,
                                               void *binary)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLenum *binaryFormat = 0x%016" PRIxPTR ", void *binary = 0x%016" PRIxPTR ")",
           program, bufSize, (uintptr_t)length, (uintptr_t)binaryFormat, (uintptr_t)binary);
@@ -8911,6 +9977,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramBinary, context, program, bufSize, length, binaryFormat, binary);
         if (context->skipValidation() ||
             ValidateGetProgramBinary(context, program, bufSize, length, binaryFormat, binary))
         {
@@ -8926,7 +9993,6 @@
                                                  GLenum *binaryFormat,
                                                  void *binary)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLenum *binaryFormat = 0x%016" PRIxPTR ", void *binary = 0x%016" PRIxPTR ")",
           program, bufSize, (uintptr_t)length, (uintptr_t)binaryFormat, (uintptr_t)binary);
@@ -8935,6 +10001,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramBinaryOES, context, program, bufSize, length, binaryFormat, binary);
         if (context->skipValidation() ||
             ValidateGetProgramBinaryOES(context, program, bufSize, length, binaryFormat, binary))
         {
@@ -8949,7 +10016,6 @@
                                                GLsizei *length,
                                                GLchar *infoLog)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *infoLog = 0x%016" PRIxPTR ")",
           program, bufSize, (uintptr_t)length, (uintptr_t)infoLog);
@@ -8958,6 +10024,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramInfoLog, context, program, bufSize, length, infoLog);
         if (context->skipValidation() ||
             ValidateGetProgramInfoLog(context, program, bufSize, length, infoLog))
         {
@@ -8972,7 +10039,6 @@
                                                    GLenum pname,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, GLenum pname = 0x%X, GLint *params "
         "= 0x%016" PRIxPTR ")",
@@ -8982,6 +10048,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramInterfaceiv, context, program, programInterface, pname, params);
         if (context->skipValidation() ||
             ValidateGetProgramInterfaceiv(context, program, programInterface, pname, params))
         {
@@ -8996,7 +10063,6 @@
                                                        GLsizei *length,
                                                        GLchar *infoLog)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *infoLog = 0x%016" PRIxPTR ")",
           pipeline, bufSize, (uintptr_t)length, (uintptr_t)infoLog);
@@ -9005,6 +10071,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramPipelineInfoLog, context, pipeline, bufSize, length, infoLog);
         if (context->skipValidation() ||
             ValidateGetProgramPipelineInfoLog(context, pipeline, bufSize, length, infoLog))
         {
@@ -9018,7 +10085,6 @@
                                                   GLenum pname,
                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")",
           pipeline, pname, (uintptr_t)params);
 
@@ -9026,6 +10092,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramPipelineiv, context, pipeline, pname, params);
         if (context->skipValidation() ||
             ValidateGetProgramPipelineiv(context, pipeline, pname, params))
         {
@@ -9039,7 +10106,6 @@
                                                        GLenum programInterface,
                                                        const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, const GLchar *name = 0x%016" PRIxPTR
         ")",
@@ -9049,6 +10115,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramResourceIndex, context, program, programInterface, name);
         if (context->skipValidation() ||
             ValidateGetProgramResourceIndex(context, program, programInterface, name))
         {
@@ -9064,7 +10131,6 @@
                                                          GLenum programInterface,
                                                          const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, const GLchar *name = 0x%016" PRIxPTR
         ")",
@@ -9074,6 +10140,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramResourceLocation, context, program, programInterface, name);
         if (context->skipValidation() ||
             ValidateGetProgramResourceLocation(context, program, programInterface, name))
         {
@@ -9089,7 +10156,6 @@
                                                                  GLenum programInterface,
                                                                  const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, const GLchar *name = 0x%016" PRIxPTR
         ")",
@@ -9099,6 +10165,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramResourceLocationIndexEXT, context, program, programInterface, name);
         if (context->skipValidation() ||
             ValidateGetProgramResourceLocationIndexEXT(context, program, programInterface, name))
         {
@@ -9117,7 +10184,6 @@
                                                     GLsizei *length,
                                                     GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, GLuint index = %u, GLsizei bufSize "
         "= %d, GLsizei *length = 0x%016" PRIxPTR ", GLchar *name = 0x%016" PRIxPTR ")",
@@ -9127,6 +10193,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramResourceName, context, program, programInterface, index, bufSize,
+                      length, name);
         if (context->skipValidation() ||
             ValidateGetProgramResourceName(context, program, programInterface, index, bufSize,
                                            length, name))
@@ -9147,7 +10215,6 @@
                                                   GLsizei *length,
                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, GLuint index = %u, GLsizei "
         "propCount = %d, const GLenum *props = 0x%016" PRIxPTR
@@ -9160,6 +10227,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramResourceiv, context, program, programInterface, index, propCount,
+                      props, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetProgramResourceiv(context, program, programInterface, index, propCount,
                                          props, bufSize, length, params))
@@ -9175,7 +10244,6 @@
                                           GLenum pname,
                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", program,
           pname, (uintptr_t)params);
 
@@ -9183,6 +10251,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramiv, context, program, pname, params);
         if (context->skipValidation() || ValidateGetProgramiv(context, program, pname, params))
         {
             context->getProgramiv(program, pname, params);
@@ -9195,7 +10264,6 @@
                                                    GLenum pname,
                                                    GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLint64 *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
@@ -9203,6 +10271,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjecti64vEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjecti64vEXT(context, id, pname, params))
         {
             context->getQueryObjecti64v(id, pname, params);
@@ -9215,7 +10284,6 @@
                                                  GLenum pname,
                                                  GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
@@ -9223,6 +10291,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectivEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectivEXT(context, id, pname, params))
         {
             context->getQueryObjectiv(id, pname, params);
@@ -9235,7 +10304,6 @@
                                                     GLenum pname,
                                                     GLuint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLuint64 *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
@@ -9243,6 +10311,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectui64vEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectui64vEXT(context, id, pname, params))
         {
             context->getQueryObjectui64v(id, pname, params);
@@ -9255,7 +10324,6 @@
                                                GLenum pname,
                                                GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
@@ -9263,6 +10331,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectuiv, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectuiv(context, id, pname, params))
         {
             context->getQueryObjectuiv(id, pname, params);
@@ -9275,7 +10344,6 @@
                                                   GLenum pname,
                                                   GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", id, pname,
           (uintptr_t)params);
 
@@ -9283,6 +10351,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectuivEXT, context, id, pname, params);
         if (context->skipValidation() || ValidateGetQueryObjectuivEXT(context, id, pname, params))
         {
             context->getQueryObjectuiv(id, pname, params);
@@ -9295,7 +10364,6 @@
                                         GLenum pname,
                                         GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9304,6 +10372,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(GetQueryiv, context, targetPacked, pname, params);
         if (context->skipValidation() || ValidateGetQueryiv(context, targetPacked, pname, params))
         {
             context->getQueryiv(targetPacked, pname, params);
@@ -9316,7 +10385,6 @@
                                            GLenum pname,
                                            GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9325,6 +10393,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(GetQueryivEXT, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetQueryivEXT(context, targetPacked, pname, params))
         {
@@ -9338,7 +10407,6 @@
                                                         GLenum pname,
                                                         GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9346,6 +10414,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetRenderbufferParameteriv, context, target, pname, params);
         if (context->skipValidation() ||
             ValidateGetRenderbufferParameteriv(context, target, pname, params))
         {
@@ -9359,7 +10428,6 @@
                                                            GLenum pname,
                                                            GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9367,6 +10435,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetRenderbufferParameterivOES, context, target, pname, params);
         if (context->skipValidation() ||
             ValidateGetRenderbufferParameterivOES(context, target, pname, params))
         {
@@ -9380,7 +10449,6 @@
                                                        GLenum pname,
                                                        GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", sampler,
           pname, (uintptr_t)params);
 
@@ -9388,6 +10456,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterIivOES, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameterIivOES(context, sampler, pname, params))
         {
@@ -9401,7 +10470,6 @@
                                                         GLenum pname,
                                                         GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", sampler,
           pname, (uintptr_t)params);
 
@@ -9409,6 +10477,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterIuivOES, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameterIuivOES(context, sampler, pname, params))
         {
@@ -9422,7 +10491,6 @@
                                                    GLenum pname,
                                                    GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)params);
 
@@ -9430,6 +10498,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterfv, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameterfv(context, sampler, pname, params))
         {
@@ -9443,7 +10512,6 @@
                                                    GLenum pname,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", sampler,
           pname, (uintptr_t)params);
 
@@ -9451,6 +10519,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameteriv, context, sampler, pname, params);
         if (context->skipValidation() ||
             ValidateGetSamplerParameteriv(context, sampler, pname, params))
         {
@@ -9459,13 +10528,33 @@
     }
 }
 
+void GL_APIENTRY GetSemaphoreParameterui64vEXTContextANGLE(GLeglContext ctx,
+                                                           GLuint semaphore,
+                                                           GLenum pname,
+                                                           GLuint64 *params)
+{
+    EVENT("(GLuint semaphore = %u, GLenum pname = 0x%X, GLuint64 *params = 0x%016" PRIxPTR ")",
+          semaphore, pname, (uintptr_t)params);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSemaphoreParameterui64vEXT, context, semaphore, pname, params);
+        if (context->skipValidation() ||
+            ValidateGetSemaphoreParameterui64vEXT(context, semaphore, pname, params))
+        {
+            context->getSemaphoreParameterui64v(semaphore, pname, params);
+        }
+    }
+}
+
 void GL_APIENTRY GetShaderInfoLogContextANGLE(GLeglContext ctx,
                                               GLuint shader,
                                               GLsizei bufSize,
                                               GLsizei *length,
                                               GLchar *infoLog)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *infoLog = 0x%016" PRIxPTR ")",
           shader, bufSize, (uintptr_t)length, (uintptr_t)infoLog);
@@ -9474,6 +10563,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetShaderInfoLog, context, shader, bufSize, length, infoLog);
         if (context->skipValidation() ||
             ValidateGetShaderInfoLog(context, shader, bufSize, length, infoLog))
         {
@@ -9488,7 +10578,6 @@
                                                       GLint *range,
                                                       GLint *precision)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum shadertype = 0x%X, GLenum precisiontype = 0x%X, GLint *range = 0x%016" PRIxPTR
           ", GLint *precision = 0x%016" PRIxPTR ")",
           shadertype, precisiontype, (uintptr_t)range, (uintptr_t)precision);
@@ -9497,6 +10586,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetShaderPrecisionFormat, context, shadertype, precisiontype, range,
+                      precision);
         if (context->skipValidation() ||
             ValidateGetShaderPrecisionFormat(context, shadertype, precisiontype, range, precision))
         {
@@ -9511,7 +10602,6 @@
                                              GLsizei *length,
                                              GLchar *source)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *source = 0x%016" PRIxPTR ")",
           shader, bufSize, (uintptr_t)length, (uintptr_t)source);
@@ -9520,6 +10610,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetShaderSource, context, shader, bufSize, length, source);
         if (context->skipValidation() ||
             ValidateGetShaderSource(context, shader, bufSize, length, source))
         {
@@ -9533,7 +10624,6 @@
                                          GLenum pname,
                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", shader,
           pname, (uintptr_t)params);
 
@@ -9541,6 +10631,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetShaderiv, context, shader, pname, params);
         if (context->skipValidation() || ValidateGetShaderiv(context, shader, pname, params))
         {
             context->getShaderiv(shader, pname, params);
@@ -9550,13 +10641,13 @@
 
 const GLubyte *GL_APIENTRY GetStringContextANGLE(GLeglContext ctx, GLenum name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum name = 0x%X)", name);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetString, context, name);
         if (context->skipValidation() || ValidateGetString(context, name))
         {
             return context->getString(name);
@@ -9568,13 +10659,13 @@
 
 const GLubyte *GL_APIENTRY GetStringiContextANGLE(GLeglContext ctx, GLenum name, GLuint index)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum name = 0x%X, GLuint index = %u)", name, index);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetStringi, context, name, index);
         if (context->skipValidation() || ValidateGetStringi(context, name, index))
         {
             return context->getStringi(name, index);
@@ -9591,7 +10682,6 @@
                                        GLsizei *length,
                                        GLint *values)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsync sync = 0x%016" PRIxPTR
           ", GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLint *values = 0x%016" PRIxPTR ")",
@@ -9601,6 +10691,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSynciv, context, sync, pname, bufSize, length, values);
         if (context->skipValidation() ||
             ValidateGetSynciv(context, sync, pname, bufSize, length, values))
         {
@@ -9614,7 +10705,6 @@
                                          GLenum pname,
                                          GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -9624,6 +10714,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(GetTexEnvfv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateGetTexEnvfv(context, targetPacked, pnamePacked, params))
         {
@@ -9637,7 +10728,6 @@
                                          GLenum pname,
                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9647,6 +10737,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(GetTexEnviv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateGetTexEnviv(context, targetPacked, pnamePacked, params))
         {
@@ -9660,7 +10751,6 @@
                                          GLenum pname,
                                          GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -9670,6 +10760,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(GetTexEnvxv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateGetTexEnvxv(context, targetPacked, pnamePacked, params))
         {
@@ -9683,7 +10774,6 @@
                                             GLenum pname,
                                             GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
@@ -9691,6 +10781,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetTexGenfvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenfvOES(context, coord, pname, params))
         {
             context->getTexGenfv(coord, pname, params);
@@ -9703,7 +10794,6 @@
                                             GLenum pname,
                                             GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
@@ -9711,6 +10801,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetTexGenivOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenivOES(context, coord, pname, params))
         {
             context->getTexGeniv(coord, pname, params);
@@ -9723,7 +10814,6 @@
                                             GLenum pname,
                                             GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")", coord,
           pname, (uintptr_t)params);
 
@@ -9731,6 +10821,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetTexGenxvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateGetTexGenxvOES(context, coord, pname, params))
         {
             context->getTexGenxv(coord, pname, params);
@@ -9744,7 +10835,6 @@
                                                     GLenum pname,
                                                     GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLfloat *params = "
         "0x%016" PRIxPTR ")",
@@ -9755,6 +10845,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterfv, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterfv(context, targetPacked, level, pname, params))
         {
@@ -9769,7 +10860,6 @@
                                                     GLenum pname,
                                                     GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -9780,6 +10870,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameteriv, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameteriv(context, targetPacked, level, pname, params))
         {
@@ -9793,7 +10884,6 @@
                                                    GLenum pname,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9802,6 +10892,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterIivOES(context, targetPacked, pname, params))
         {
@@ -9815,7 +10906,6 @@
                                                     GLenum pname,
                                                     GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9824,6 +10914,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIuivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterIuivOES(context, targetPacked, pname, params))
         {
@@ -9837,7 +10928,6 @@
                                                GLenum pname,
                                                GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -9846,6 +10936,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterfv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterfv(context, targetPacked, pname, params))
         {
@@ -9859,7 +10950,6 @@
                                                GLenum pname,
                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", target,
           pname, (uintptr_t)params);
 
@@ -9868,6 +10958,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameteriv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameteriv(context, targetPacked, pname, params))
         {
@@ -9881,7 +10972,6 @@
                                                GLenum pname,
                                                GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfixed *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -9890,6 +10980,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterxv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexParameterxv(context, targetPacked, pname, params))
         {
@@ -9907,7 +10998,6 @@
                                                          GLenum *type,
                                                          GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint index = %u, GLsizei bufSize = %d, GLsizei *length = "
         "0x%016" PRIxPTR ", GLsizei *size = 0x%016" PRIxPTR ", GLenum *type = 0x%016" PRIxPTR
@@ -9919,6 +11009,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetTransformFeedbackVarying, context, program, index, bufSize, length, size,
+                      type, name);
         if (context->skipValidation() ||
             ValidateGetTransformFeedbackVarying(context, program, index, bufSize, length, size,
                                                 type, name))
@@ -9934,7 +11026,6 @@
                                                             GLsizei *length,
                                                             GLchar *source)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLsizei bufsize = %d, GLsizei *length = 0x%016" PRIxPTR
           ", GLchar *source = 0x%016" PRIxPTR ")",
           shader, bufsize, (uintptr_t)length, (uintptr_t)source);
@@ -9943,6 +11034,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetTranslatedShaderSourceANGLE, context, shader, bufsize, length, source);
         if (context->skipValidation() ||
             ValidateGetTranslatedShaderSourceANGLE(context, shader, bufsize, length, source))
         {
@@ -9955,7 +11047,6 @@
                                                     GLuint program,
                                                     const GLchar *uniformBlockName)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *uniformBlockName = 0x%016" PRIxPTR ")", program,
           (uintptr_t)uniformBlockName);
 
@@ -9963,6 +11054,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformBlockIndex, context, program, uniformBlockName);
         if (context->skipValidation() ||
             ValidateGetUniformBlockIndex(context, program, uniformBlockName))
         {
@@ -9979,7 +11071,6 @@
                                                const GLchar *const *uniformNames,
                                                GLuint *uniformIndices)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLsizei uniformCount = %d, const GLchar *const*uniformNames = "
         "0x%016" PRIxPTR ", GLuint *uniformIndices = 0x%016" PRIxPTR ")",
@@ -9989,6 +11080,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformIndices, context, program, uniformCount, uniformNames,
+                      uniformIndices);
         if (context->skipValidation() ||
             ValidateGetUniformIndices(context, program, uniformCount, uniformNames, uniformIndices))
         {
@@ -10001,7 +11094,6 @@
                                                  GLuint program,
                                                  const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, const GLchar *name = 0x%016" PRIxPTR ")", program,
           (uintptr_t)name);
 
@@ -10009,6 +11101,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformLocation, context, program, name);
         if (context->skipValidation() || ValidateGetUniformLocation(context, program, name))
         {
             return context->getUniformLocation(program, name);
@@ -10023,7 +11116,6 @@
                                           GLint location,
                                           GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLfloat *params = 0x%016" PRIxPTR ")",
           program, location, (uintptr_t)params);
 
@@ -10031,6 +11123,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformfv, context, program, location, params);
         if (context->skipValidation() || ValidateGetUniformfv(context, program, location, params))
         {
             context->getUniformfv(program, location, params);
@@ -10043,7 +11136,6 @@
                                           GLint location,
                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLint *params = 0x%016" PRIxPTR ")", program,
           location, (uintptr_t)params);
 
@@ -10051,6 +11143,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformiv, context, program, location, params);
         if (context->skipValidation() || ValidateGetUniformiv(context, program, location, params))
         {
             context->getUniformiv(program, location, params);
@@ -10063,7 +11156,6 @@
                                            GLint location,
                                            GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLuint *params = 0x%016" PRIxPTR ")", program,
           location, (uintptr_t)params);
 
@@ -10071,6 +11163,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformuiv, context, program, location, params);
         if (context->skipValidation() || ValidateGetUniformuiv(context, program, location, params))
         {
             context->getUniformuiv(program, location, params);
@@ -10078,12 +11171,48 @@
     }
 }
 
+void GL_APIENTRY GetUnsignedBytevEXTContextANGLE(GLeglContext ctx, GLenum pname, GLubyte *data)
+{
+    EVENT("(GLenum pname = 0x%X, GLubyte *data = 0x%016" PRIxPTR ")", pname, (uintptr_t)data);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUnsignedBytevEXT, context, pname, data);
+        if (context->skipValidation() || ValidateGetUnsignedBytevEXT(context, pname, data))
+        {
+            context->getUnsignedBytev(pname, data);
+        }
+    }
+}
+
+void GL_APIENTRY GetUnsignedBytei_vEXTContextANGLE(GLeglContext ctx,
+                                                   GLenum target,
+                                                   GLuint index,
+                                                   GLubyte *data)
+{
+    EVENT("(GLenum target = 0x%X, GLuint index = %u, GLubyte *data = 0x%016" PRIxPTR ")", target,
+          index, (uintptr_t)data);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUnsignedBytei_vEXT, context, target, index, data);
+        if (context->skipValidation() ||
+            ValidateGetUnsignedBytei_vEXT(context, target, index, data))
+        {
+            context->getUnsignedBytei_v(target, index, data);
+        }
+    }
+}
+
 void GL_APIENTRY GetVertexAttribIivContextANGLE(GLeglContext ctx,
                                                 GLuint index,
                                                 GLenum pname,
                                                 GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", index,
           pname, (uintptr_t)params);
 
@@ -10091,6 +11220,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribIiv, context, index, pname, params);
         if (context->skipValidation() || ValidateGetVertexAttribIiv(context, index, pname, params))
         {
             context->getVertexAttribIiv(index, pname, params);
@@ -10103,7 +11233,6 @@
                                                  GLenum pname,
                                                  GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLenum pname = 0x%X, GLuint *params = 0x%016" PRIxPTR ")", index,
           pname, (uintptr_t)params);
 
@@ -10111,6 +11240,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribIuiv, context, index, pname, params);
         if (context->skipValidation() || ValidateGetVertexAttribIuiv(context, index, pname, params))
         {
             context->getVertexAttribIuiv(index, pname, params);
@@ -10123,7 +11253,6 @@
                                                      GLenum pname,
                                                      void **pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLenum pname = 0x%X, void **pointer = 0x%016" PRIxPTR ")", index,
           pname, (uintptr_t)pointer);
 
@@ -10131,6 +11260,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribPointerv, context, index, pname, pointer);
         if (context->skipValidation() ||
             ValidateGetVertexAttribPointerv(context, index, pname, pointer))
         {
@@ -10144,7 +11274,6 @@
                                                GLenum pname,
                                                GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLenum pname = 0x%X, GLfloat *params = 0x%016" PRIxPTR ")", index,
           pname, (uintptr_t)params);
 
@@ -10152,6 +11281,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribfv, context, index, pname, params);
         if (context->skipValidation() || ValidateGetVertexAttribfv(context, index, pname, params))
         {
             context->getVertexAttribfv(index, pname, params);
@@ -10164,7 +11294,6 @@
                                                GLenum pname,
                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLenum pname = 0x%X, GLint *params = 0x%016" PRIxPTR ")", index,
           pname, (uintptr_t)params);
 
@@ -10172,6 +11301,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribiv, context, index, pname, params);
         if (context->skipValidation() || ValidateGetVertexAttribiv(context, index, pname, params))
         {
             context->getVertexAttribiv(index, pname, params);
@@ -10185,7 +11315,6 @@
                                               GLsizei bufSize,
                                               GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLfloat *params = "
         "0x%016" PRIxPTR ")",
@@ -10195,6 +11324,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetnUniformfvEXT, context, program, location, bufSize, params);
         if (context->skipValidation() ||
             ValidateGetnUniformfvEXT(context, program, location, bufSize, params))
         {
@@ -10209,7 +11339,6 @@
                                               GLsizei bufSize,
                                               GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLint *params = "
         "0x%016" PRIxPTR ")",
@@ -10219,6 +11348,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetnUniformivEXT, context, program, location, bufSize, params);
         if (context->skipValidation() ||
             ValidateGetnUniformivEXT(context, program, location, bufSize, params))
         {
@@ -10229,13 +11359,13 @@
 
 void GL_APIENTRY HintContextANGLE(GLeglContext ctx, GLenum target, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum mode = 0x%X)", target, mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Hint, context, target, mode);
         if (context->skipValidation() || ValidateHint(context, target, mode))
         {
             context->hint(target, mode);
@@ -10243,11 +11373,55 @@
     }
 }
 
+void GL_APIENTRY ImportMemoryFdEXTContextANGLE(GLeglContext ctx,
+                                               GLuint memory,
+                                               GLuint64 size,
+                                               GLenum handleType,
+                                               GLint fd)
+{
+    EVENT("(GLuint memory = %u, GLuint64 size = %llu, GLenum handleType = 0x%X, GLint fd = %d)",
+          memory, static_cast<unsigned long long>(size), handleType, fd);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        HandleType handleTypePacked = FromGLenum<HandleType>(handleType);
+        ANGLE_CAPTURE(ImportMemoryFdEXT, context, memory, size, handleTypePacked, fd);
+        if (context->skipValidation() ||
+            ValidateImportMemoryFdEXT(context, memory, size, handleTypePacked, fd))
+        {
+            context->importMemoryFd(memory, size, handleTypePacked, fd);
+        }
+    }
+}
+
+void GL_APIENTRY ImportSemaphoreFdEXTContextANGLE(GLeglContext ctx,
+                                                  GLuint semaphore,
+                                                  GLenum handleType,
+                                                  GLint fd)
+{
+    EVENT("(GLuint semaphore = %u, GLenum handleType = 0x%X, GLint fd = %d)", semaphore, handleType,
+          fd);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        HandleType handleTypePacked = FromGLenum<HandleType>(handleType);
+        ANGLE_CAPTURE(ImportSemaphoreFdEXT, context, semaphore, handleTypePacked, fd);
+        if (context->skipValidation() ||
+            ValidateImportSemaphoreFdEXT(context, semaphore, handleTypePacked, fd))
+        {
+            context->importSemaphoreFd(semaphore, handleTypePacked, fd);
+        }
+    }
+}
+
 void GL_APIENTRY InsertEventMarkerEXTContextANGLE(GLeglContext ctx,
                                                   GLsizei length,
                                                   const GLchar *marker)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("(GLsizei length = %d, const GLchar *marker = 0x%016" PRIxPTR ")", length,
@@ -10257,6 +11431,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(InsertEventMarkerEXT, context, length, marker);
         if (context->skipValidation() || ValidateInsertEventMarkerEXT(context, length, marker))
         {
             context->insertEventMarker(length, marker);
@@ -10269,7 +11444,6 @@
                                                    GLsizei numAttachments,
                                                    const GLenum *attachments)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei numAttachments = %d, const GLenum *attachments = "
         "0x%016" PRIxPTR ")",
@@ -10279,6 +11453,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(InvalidateFramebuffer, context, target, numAttachments, attachments);
         if (context->skipValidation() ||
             ValidateInvalidateFramebuffer(context, target, numAttachments, attachments))
         {
@@ -10296,7 +11471,6 @@
                                                       GLsizei width,
                                                       GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei numAttachments = %d, const GLenum *attachments = "
         "0x%016" PRIxPTR ", GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)",
@@ -10306,6 +11480,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(InvalidateSubFramebuffer, context, target, numAttachments, attachments, x, y,
+                      width, height);
         if (context->skipValidation() ||
             ValidateInvalidateSubFramebuffer(context, target, numAttachments, attachments, x, y,
                                              width, height))
@@ -10318,13 +11494,13 @@
 
 GLboolean GL_APIENTRY IsBufferContextANGLE(GLeglContext ctx, GLuint buffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint buffer = %u)", buffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsBuffer, context, buffer);
         if (context->skipValidation() || ValidateIsBuffer(context, buffer))
         {
             return context->isBuffer(buffer);
@@ -10336,13 +11512,13 @@
 
 GLboolean GL_APIENTRY IsEnabledContextANGLE(GLeglContext ctx, GLenum cap)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum cap = 0x%X)", cap);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsEnabled, context, cap);
         if (context->skipValidation() || ValidateIsEnabled(context, cap))
         {
             return context->isEnabled(cap);
@@ -10354,13 +11530,13 @@
 
 GLboolean GL_APIENTRY IsFenceNVContextANGLE(GLeglContext ctx, GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsFenceNV, context, fence);
         if (context->skipValidation() || ValidateIsFenceNV(context, fence))
         {
             return context->isFenceNV(fence);
@@ -10372,13 +11548,13 @@
 
 GLboolean GL_APIENTRY IsFramebufferContextANGLE(GLeglContext ctx, GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint framebuffer = %u)", framebuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsFramebuffer, context, framebuffer);
         if (context->skipValidation() || ValidateIsFramebuffer(context, framebuffer))
         {
             return context->isFramebuffer(framebuffer);
@@ -10390,13 +11566,13 @@
 
 GLboolean GL_APIENTRY IsFramebufferOESContextANGLE(GLeglContext ctx, GLuint framebuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint framebuffer = %u)", framebuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsFramebufferOES, context, framebuffer);
         if (context->skipValidation() || ValidateIsFramebufferOES(context, framebuffer))
         {
             return context->isFramebuffer(framebuffer);
@@ -10406,15 +11582,33 @@
     return GetDefaultReturnValue<EntryPoint::IsFramebufferOES, GLboolean>();
 }
 
+GLboolean GL_APIENTRY IsMemoryObjectEXTContextANGLE(GLeglContext ctx, GLuint memoryObject)
+{
+    EVENT("(GLuint memoryObject = %u)", memoryObject);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsMemoryObjectEXT, context, memoryObject);
+        if (context->skipValidation() || ValidateIsMemoryObjectEXT(context, memoryObject))
+        {
+            return context->isMemoryObject(memoryObject);
+        }
+    }
+
+    return GetDefaultReturnValue<EntryPoint::IsMemoryObjectEXT, GLboolean>();
+}
+
 GLboolean GL_APIENTRY IsProgramContextANGLE(GLeglContext ctx, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u)", program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsProgram, context, program);
         if (context->skipValidation() || ValidateIsProgram(context, program))
         {
             return context->isProgram(program);
@@ -10426,13 +11620,13 @@
 
 GLboolean GL_APIENTRY IsProgramPipelineContextANGLE(GLeglContext ctx, GLuint pipeline)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u)", pipeline);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsProgramPipeline, context, pipeline);
         if (context->skipValidation() || ValidateIsProgramPipeline(context, pipeline))
         {
             return context->isProgramPipeline(pipeline);
@@ -10444,13 +11638,13 @@
 
 GLboolean GL_APIENTRY IsQueryContextANGLE(GLeglContext ctx, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u)", id);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsQuery, context, id);
         if (context->skipValidation() || ValidateIsQuery(context, id))
         {
             return context->isQuery(id);
@@ -10462,13 +11656,13 @@
 
 GLboolean GL_APIENTRY IsQueryEXTContextANGLE(GLeglContext ctx, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u)", id);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsQueryEXT, context, id);
         if (context->skipValidation() || ValidateIsQueryEXT(context, id))
         {
             return context->isQuery(id);
@@ -10480,13 +11674,13 @@
 
 GLboolean GL_APIENTRY IsRenderbufferContextANGLE(GLeglContext ctx, GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint renderbuffer = %u)", renderbuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsRenderbuffer, context, renderbuffer);
         if (context->skipValidation() || ValidateIsRenderbuffer(context, renderbuffer))
         {
             return context->isRenderbuffer(renderbuffer);
@@ -10498,13 +11692,13 @@
 
 GLboolean GL_APIENTRY IsRenderbufferOESContextANGLE(GLeglContext ctx, GLuint renderbuffer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint renderbuffer = %u)", renderbuffer);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsRenderbufferOES, context, renderbuffer);
         if (context->skipValidation() || ValidateIsRenderbufferOES(context, renderbuffer))
         {
             return context->isRenderbuffer(renderbuffer);
@@ -10514,15 +11708,33 @@
     return GetDefaultReturnValue<EntryPoint::IsRenderbufferOES, GLboolean>();
 }
 
+GLboolean GL_APIENTRY IsSemaphoreEXTContextANGLE(GLeglContext ctx, GLuint semaphore)
+{
+    EVENT("(GLuint semaphore = %u)", semaphore);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsSemaphoreEXT, context, semaphore);
+        if (context->skipValidation() || ValidateIsSemaphoreEXT(context, semaphore))
+        {
+            return context->isSemaphore(semaphore);
+        }
+    }
+
+    return GetDefaultReturnValue<EntryPoint::IsSemaphoreEXT, GLboolean>();
+}
+
 GLboolean GL_APIENTRY IsSamplerContextANGLE(GLeglContext ctx, GLuint sampler)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u)", sampler);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsSampler, context, sampler);
         if (context->skipValidation() || ValidateIsSampler(context, sampler))
         {
             return context->isSampler(sampler);
@@ -10534,13 +11746,13 @@
 
 GLboolean GL_APIENTRY IsShaderContextANGLE(GLeglContext ctx, GLuint shader)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u)", shader);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsShader, context, shader);
         if (context->skipValidation() || ValidateIsShader(context, shader))
         {
             return context->isShader(shader);
@@ -10552,13 +11764,13 @@
 
 GLboolean GL_APIENTRY IsSyncContextANGLE(GLeglContext ctx, GLsync sync)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsync sync = 0x%016" PRIxPTR ")", (uintptr_t)sync);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsSync, context, sync);
         if (context->skipValidation() || ValidateIsSync(context, sync))
         {
             return context->isSync(sync);
@@ -10570,13 +11782,13 @@
 
 GLboolean GL_APIENTRY IsTextureContextANGLE(GLeglContext ctx, GLuint texture)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint texture = %u)", texture);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsTexture, context, texture);
         if (context->skipValidation() || ValidateIsTexture(context, texture))
         {
             return context->isTexture(texture);
@@ -10588,13 +11800,13 @@
 
 GLboolean GL_APIENTRY IsTransformFeedbackContextANGLE(GLeglContext ctx, GLuint id)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u)", id);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsTransformFeedback, context, id);
         if (context->skipValidation() || ValidateIsTransformFeedback(context, id))
         {
             return context->isTransformFeedback(id);
@@ -10606,13 +11818,13 @@
 
 GLboolean GL_APIENTRY IsVertexArrayContextANGLE(GLeglContext ctx, GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsVertexArray, context, array);
         if (context->skipValidation() || ValidateIsVertexArray(context, array))
         {
             return context->isVertexArray(array);
@@ -10624,13 +11836,13 @@
 
 GLboolean GL_APIENTRY IsVertexArrayOESContextANGLE(GLeglContext ctx, GLuint array)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint array = %u)", array);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsVertexArrayOES, context, array);
         if (context->skipValidation() || ValidateIsVertexArrayOES(context, array))
         {
             return context->isVertexArray(array);
@@ -10642,13 +11854,13 @@
 
 void GL_APIENTRY LightModelfContextANGLE(GLeglContext ctx, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfloat param = %f)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LightModelf, context, pname, param);
         if (context->skipValidation() || ValidateLightModelf(context, pname, param))
         {
             context->lightModelf(pname, param);
@@ -10658,7 +11870,6 @@
 
 void GL_APIENTRY LightModelfvContextANGLE(GLeglContext ctx, GLenum pname, const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)params);
 
@@ -10666,6 +11877,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LightModelfv, context, pname, params);
         if (context->skipValidation() || ValidateLightModelfv(context, pname, params))
         {
             context->lightModelfv(pname, params);
@@ -10675,13 +11887,13 @@
 
 void GL_APIENTRY LightModelxContextANGLE(GLeglContext ctx, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfixed param = 0x%X)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LightModelx, context, pname, param);
         if (context->skipValidation() || ValidateLightModelx(context, pname, param))
         {
             context->lightModelx(pname, param);
@@ -10691,7 +11903,6 @@
 
 void GL_APIENTRY LightModelxvContextANGLE(GLeglContext ctx, GLenum pname, const GLfixed *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfixed *param = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)param);
 
@@ -10699,6 +11910,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LightModelxv, context, pname, param);
         if (context->skipValidation() || ValidateLightModelxv(context, pname, param))
         {
             context->lightModelxv(pname, param);
@@ -10708,7 +11920,6 @@
 
 void GL_APIENTRY LightfContextANGLE(GLeglContext ctx, GLenum light, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", light, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -10716,6 +11927,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(Lightf, context, light, pnamePacked, param);
         if (context->skipValidation() || ValidateLightf(context, light, pnamePacked, param))
         {
             context->lightf(light, pnamePacked, param);
@@ -10728,7 +11940,6 @@
                                      GLenum pname,
                                      const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           light, pname, (uintptr_t)params);
 
@@ -10737,6 +11948,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(Lightfv, context, light, pnamePacked, params);
         if (context->skipValidation() || ValidateLightfv(context, light, pnamePacked, params))
         {
             context->lightfv(light, pnamePacked, params);
@@ -10746,7 +11958,6 @@
 
 void GL_APIENTRY LightxContextANGLE(GLeglContext ctx, GLenum light, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", light, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -10754,6 +11965,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(Lightx, context, light, pnamePacked, param);
         if (context->skipValidation() || ValidateLightx(context, light, pnamePacked, param))
         {
             context->lightx(light, pnamePacked, param);
@@ -10766,7 +11978,6 @@
                                      GLenum pname,
                                      const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum light = 0x%X, GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")",
           light, pname, (uintptr_t)params);
 
@@ -10775,6 +11986,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LightParameter pnamePacked = FromGLenum<LightParameter>(pname);
+        ANGLE_CAPTURE(Lightxv, context, light, pnamePacked, params);
         if (context->skipValidation() || ValidateLightxv(context, light, pnamePacked, params))
         {
             context->lightxv(light, pnamePacked, params);
@@ -10784,13 +11996,13 @@
 
 void GL_APIENTRY LineWidthContextANGLE(GLeglContext ctx, GLfloat width)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat width = %f)", width);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LineWidth, context, width);
         if (context->skipValidation() || ValidateLineWidth(context, width))
         {
             context->lineWidth(width);
@@ -10800,13 +12012,13 @@
 
 void GL_APIENTRY LineWidthxContextANGLE(GLeglContext ctx, GLfixed width)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed width = 0x%X)", width);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LineWidthx, context, width);
         if (context->skipValidation() || ValidateLineWidthx(context, width))
         {
             context->lineWidthx(width);
@@ -10816,13 +12028,13 @@
 
 void GL_APIENTRY LinkProgramContextANGLE(GLeglContext ctx, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u)", program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LinkProgram, context, program);
         if (context->skipValidation() || ValidateLinkProgram(context, program))
         {
             context->linkProgram(program);
@@ -10832,13 +12044,13 @@
 
 void GL_APIENTRY LoadIdentityContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LoadIdentity, context);
         if (context->skipValidation() || ValidateLoadIdentity(context))
         {
             context->loadIdentity();
@@ -10848,13 +12060,13 @@
 
 void GL_APIENTRY LoadMatrixfContextANGLE(GLeglContext ctx, const GLfloat *m)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfloat *m = 0x%016" PRIxPTR ")", (uintptr_t)m);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LoadMatrixf, context, m);
         if (context->skipValidation() || ValidateLoadMatrixf(context, m))
         {
             context->loadMatrixf(m);
@@ -10864,13 +12076,13 @@
 
 void GL_APIENTRY LoadMatrixxContextANGLE(GLeglContext ctx, const GLfixed *m)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfixed *m = 0x%016" PRIxPTR ")", (uintptr_t)m);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LoadMatrixx, context, m);
         if (context->skipValidation() || ValidateLoadMatrixx(context, m))
         {
             context->loadMatrixx(m);
@@ -10880,13 +12092,13 @@
 
 void GL_APIENTRY LoadPaletteFromModelViewMatrixOESContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(LoadPaletteFromModelViewMatrixOES, context);
         if (context->skipValidation() || ValidateLoadPaletteFromModelViewMatrixOES(context))
         {
             context->loadPaletteFromModelViewMatrix();
@@ -10896,7 +12108,6 @@
 
 void GL_APIENTRY LogicOpContextANGLE(GLeglContext ctx, GLenum opcode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum opcode = 0x%X)", opcode);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -10904,6 +12115,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         LogicalOperation opcodePacked = FromGLenum<LogicalOperation>(opcode);
+        ANGLE_CAPTURE(LogicOp, context, opcodePacked);
         if (context->skipValidation() || ValidateLogicOp(context, opcodePacked))
         {
             context->logicOp(opcodePacked);
@@ -10913,7 +12125,6 @@
 
 void *GL_APIENTRY MapBufferOESContextANGLE(GLeglContext ctx, GLenum target, GLenum access)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum access = 0x%X)", target, access);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -10921,6 +12132,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(MapBufferOES, context, targetPacked, access);
         if (context->skipValidation() || ValidateMapBufferOES(context, targetPacked, access))
         {
             return context->mapBuffer(targetPacked, access);
@@ -10936,7 +12148,6 @@
                                              GLsizeiptr length,
                                              GLbitfield access)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu, GLbitfield "
         "access = 0x%X)",
@@ -10948,6 +12159,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(MapBufferRange, context, targetPacked, offset, length, access);
         if (context->skipValidation() ||
             ValidateMapBufferRange(context, targetPacked, offset, length, access))
         {
@@ -10964,7 +12176,6 @@
                                                 GLsizeiptr length,
                                                 GLbitfield access)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLintptr offset = %llu, GLsizeiptr length = %llu, GLbitfield "
         "access = 0x%X)",
@@ -10976,6 +12187,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(MapBufferRangeEXT, context, targetPacked, offset, length, access);
         if (context->skipValidation() ||
             ValidateMapBufferRangeEXT(context, targetPacked, offset, length, access))
         {
@@ -10988,7 +12200,6 @@
 
 void GL_APIENTRY MaterialfContextANGLE(GLeglContext ctx, GLenum face, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", face, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -10996,6 +12207,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(Materialf, context, face, pnamePacked, param);
         if (context->skipValidation() || ValidateMaterialf(context, face, pnamePacked, param))
         {
             context->materialf(face, pnamePacked, param);
@@ -11008,7 +12220,6 @@
                                         GLenum pname,
                                         const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           face, pname, (uintptr_t)params);
 
@@ -11017,6 +12228,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(Materialfv, context, face, pnamePacked, params);
         if (context->skipValidation() || ValidateMaterialfv(context, face, pnamePacked, params))
         {
             context->materialfv(face, pnamePacked, params);
@@ -11026,7 +12238,6 @@
 
 void GL_APIENTRY MaterialxContextANGLE(GLeglContext ctx, GLenum face, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", face, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -11034,6 +12245,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(Materialx, context, face, pnamePacked, param);
         if (context->skipValidation() || ValidateMaterialx(context, face, pnamePacked, param))
         {
             context->materialx(face, pnamePacked, param);
@@ -11046,7 +12258,6 @@
                                         GLenum pname,
                                         const GLfixed *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum pname = 0x%X, const GLfixed *param = 0x%016" PRIxPTR ")",
           face, pname, (uintptr_t)param);
 
@@ -11055,6 +12266,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MaterialParameter pnamePacked = FromGLenum<MaterialParameter>(pname);
+        ANGLE_CAPTURE(Materialxv, context, face, pnamePacked, param);
         if (context->skipValidation() || ValidateMaterialxv(context, face, pnamePacked, param))
         {
             context->materialxv(face, pnamePacked, param);
@@ -11068,7 +12280,6 @@
                                                    GLsizei stride,
                                                    const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -11078,6 +12289,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MatrixIndexPointerOES, context, size, type, stride, pointer);
         if (context->skipValidation() ||
             ValidateMatrixIndexPointerOES(context, size, type, stride, pointer))
         {
@@ -11088,7 +12300,6 @@
 
 void GL_APIENTRY MatrixModeContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -11096,6 +12307,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         MatrixType modePacked = FromGLenum<MatrixType>(mode);
+        ANGLE_CAPTURE(MatrixMode, context, modePacked);
         if (context->skipValidation() || ValidateMatrixMode(context, modePacked))
         {
             context->matrixMode(modePacked);
@@ -11105,13 +12317,13 @@
 
 void GL_APIENTRY MaxShaderCompilerThreadsKHRContextANGLE(GLeglContext ctx, GLuint count)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint count = %u)", count);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MaxShaderCompilerThreadsKHR, context, count);
         if (context->skipValidation() || ValidateMaxShaderCompilerThreadsKHR(context, count))
         {
             context->maxShaderCompilerThreads(count);
@@ -11121,13 +12333,13 @@
 
 void GL_APIENTRY MemoryBarrierContextANGLE(GLeglContext ctx, GLbitfield barriers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLbitfield barriers = 0x%X)", barriers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MemoryBarrier, context, barriers);
         if (context->skipValidation() || ValidateMemoryBarrier(context, barriers))
         {
             context->memoryBarrier(barriers);
@@ -11137,13 +12349,13 @@
 
 void GL_APIENTRY MemoryBarrierByRegionContextANGLE(GLeglContext ctx, GLbitfield barriers)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLbitfield barriers = 0x%X)", barriers);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MemoryBarrierByRegion, context, barriers);
         if (context->skipValidation() || ValidateMemoryBarrierByRegion(context, barriers))
         {
             context->memoryBarrierByRegion(barriers);
@@ -11151,15 +12363,37 @@
     }
 }
 
+void GL_APIENTRY MemoryObjectParameterivEXTContextANGLE(GLeglContext ctx,
+                                                        GLuint memoryObject,
+                                                        GLenum pname,
+                                                        const GLint *params)
+{
+    EVENT("(GLuint memoryObject = %u, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR
+          ")",
+          memoryObject, pname, (uintptr_t)params);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MemoryObjectParameterivEXT, context, memoryObject, pname, params);
+        if (context->skipValidation() ||
+            ValidateMemoryObjectParameterivEXT(context, memoryObject, pname, params))
+        {
+            context->memoryObjectParameteriv(memoryObject, pname, params);
+        }
+    }
+}
+
 void GL_APIENTRY MultMatrixfContextANGLE(GLeglContext ctx, const GLfloat *m)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfloat *m = 0x%016" PRIxPTR ")", (uintptr_t)m);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MultMatrixf, context, m);
         if (context->skipValidation() || ValidateMultMatrixf(context, m))
         {
             context->multMatrixf(m);
@@ -11169,13 +12403,13 @@
 
 void GL_APIENTRY MultMatrixxContextANGLE(GLeglContext ctx, const GLfixed *m)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLfixed *m = 0x%016" PRIxPTR ")", (uintptr_t)m);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MultMatrixx, context, m);
         if (context->skipValidation() || ValidateMultMatrixx(context, m))
         {
             context->multMatrixx(m);
@@ -11190,7 +12424,6 @@
                                              GLfloat r,
                                              GLfloat q)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLfloat s = %f, GLfloat t = %f, GLfloat r = %f, GLfloat q = %f)",
           target, s, t, r, q);
 
@@ -11198,6 +12431,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MultiTexCoord4f, context, target, s, t, r, q);
         if (context->skipValidation() || ValidateMultiTexCoord4f(context, target, s, t, r, q))
         {
             context->multiTexCoord4f(target, s, t, r, q);
@@ -11212,7 +12446,6 @@
                                              GLfixed r,
                                              GLfixed q)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum texture = 0x%X, GLfixed s = 0x%X, GLfixed t = 0x%X, GLfixed r = 0x%X, GLfixed q = "
         "0x%X)",
@@ -11222,6 +12455,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MultiTexCoord4x, context, texture, s, t, r, q);
         if (context->skipValidation() || ValidateMultiTexCoord4x(context, texture, s, t, r, q))
         {
             context->multiTexCoord4x(texture, s, t, r, q);
@@ -11231,13 +12465,13 @@
 
 void GL_APIENTRY Normal3fContextANGLE(GLeglContext ctx, GLfloat nx, GLfloat ny, GLfloat nz)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat nx = %f, GLfloat ny = %f, GLfloat nz = %f)", nx, ny, nz);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Normal3f, context, nx, ny, nz);
         if (context->skipValidation() || ValidateNormal3f(context, nx, ny, nz))
         {
             context->normal3f(nx, ny, nz);
@@ -11247,13 +12481,13 @@
 
 void GL_APIENTRY Normal3xContextANGLE(GLeglContext ctx, GLfixed nx, GLfixed ny, GLfixed nz)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed nx = 0x%X, GLfixed ny = 0x%X, GLfixed nz = 0x%X)", nx, ny, nz);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Normal3x, context, nx, ny, nz);
         if (context->skipValidation() || ValidateNormal3x(context, nx, ny, nz))
         {
             context->normal3x(nx, ny, nz);
@@ -11266,7 +12500,6 @@
                                            GLsizei stride,
                                            const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = 0x%016" PRIxPTR ")",
           type, stride, (uintptr_t)pointer);
 
@@ -11275,6 +12508,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(NormalPointer, context, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidateNormalPointer(context, typePacked, stride, pointer))
         {
@@ -11289,7 +12523,6 @@
                                             GLsizei length,
                                             const GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum identifier = 0x%X, GLuint name = %u, GLsizei length = %d, const GLchar *label = "
         "0x%016" PRIxPTR ")",
@@ -11299,6 +12532,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ObjectLabelKHR, context, identifier, name, length, label);
         if (context->skipValidation() ||
             ValidateObjectLabelKHR(context, identifier, name, length, label))
         {
@@ -11312,7 +12546,6 @@
                                                GLsizei length,
                                                const GLchar *label)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const void *ptr = 0x%016" PRIxPTR
           ", GLsizei length = %d, const GLchar *label = 0x%016" PRIxPTR ")",
           (uintptr_t)ptr, length, (uintptr_t)label);
@@ -11321,6 +12554,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ObjectPtrLabelKHR, context, ptr, length, label);
         if (context->skipValidation() || ValidateObjectPtrLabelKHR(context, ptr, length, label))
         {
             context->objectPtrLabel(ptr, length, label);
@@ -11336,7 +12570,6 @@
                                     GLfloat n,
                                     GLfloat f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfloat l = %f, GLfloat r = %f, GLfloat b = %f, GLfloat t = %f, GLfloat n = %f, GLfloat "
         "f = %f)",
@@ -11346,6 +12579,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Orthof, context, l, r, b, t, n, f);
         if (context->skipValidation() || ValidateOrthof(context, l, r, b, t, n, f))
         {
             context->orthof(l, r, b, t, n, f);
@@ -11361,7 +12595,6 @@
                                     GLfixed n,
                                     GLfixed f)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLfixed l = 0x%X, GLfixed r = 0x%X, GLfixed b = 0x%X, GLfixed t = 0x%X, GLfixed n = "
         "0x%X, GLfixed f = 0x%X)",
@@ -11371,6 +12604,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Orthox, context, l, r, b, t, n, f);
         if (context->skipValidation() || ValidateOrthox(context, l, r, b, t, n, f))
         {
             context->orthox(l, r, b, t, n, f);
@@ -11380,13 +12614,13 @@
 
 void GL_APIENTRY PauseTransformFeedbackContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PauseTransformFeedback, context);
         if (context->skipValidation() || ValidatePauseTransformFeedback(context))
         {
             context->pauseTransformFeedback();
@@ -11396,13 +12630,13 @@
 
 void GL_APIENTRY PixelStoreiContextANGLE(GLeglContext ctx, GLenum pname, GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLint param = %d)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PixelStorei, context, pname, param);
         if (context->skipValidation() || ValidatePixelStorei(context, pname, param))
         {
             context->pixelStorei(pname, param);
@@ -11412,7 +12646,6 @@
 
 void GL_APIENTRY PointParameterfContextANGLE(GLeglContext ctx, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfloat param = %f)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -11420,6 +12653,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PointParameter pnamePacked = FromGLenum<PointParameter>(pname);
+        ANGLE_CAPTURE(PointParameterf, context, pnamePacked, param);
         if (context->skipValidation() || ValidatePointParameterf(context, pnamePacked, param))
         {
             context->pointParameterf(pnamePacked, param);
@@ -11429,7 +12663,6 @@
 
 void GL_APIENTRY PointParameterfvContextANGLE(GLeglContext ctx, GLenum pname, const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)params);
 
@@ -11438,6 +12671,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PointParameter pnamePacked = FromGLenum<PointParameter>(pname);
+        ANGLE_CAPTURE(PointParameterfv, context, pnamePacked, params);
         if (context->skipValidation() || ValidatePointParameterfv(context, pnamePacked, params))
         {
             context->pointParameterfv(pnamePacked, params);
@@ -11447,7 +12681,6 @@
 
 void GL_APIENTRY PointParameterxContextANGLE(GLeglContext ctx, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLfixed param = 0x%X)", pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -11455,6 +12688,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PointParameter pnamePacked = FromGLenum<PointParameter>(pname);
+        ANGLE_CAPTURE(PointParameterx, context, pnamePacked, param);
         if (context->skipValidation() || ValidatePointParameterx(context, pnamePacked, param))
         {
             context->pointParameterx(pnamePacked, param);
@@ -11464,7 +12698,6 @@
 
 void GL_APIENTRY PointParameterxvContextANGLE(GLeglContext ctx, GLenum pname, const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")", pname,
           (uintptr_t)params);
 
@@ -11473,6 +12706,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PointParameter pnamePacked = FromGLenum<PointParameter>(pname);
+        ANGLE_CAPTURE(PointParameterxv, context, pnamePacked, params);
         if (context->skipValidation() || ValidatePointParameterxv(context, pnamePacked, params))
         {
             context->pointParameterxv(pnamePacked, params);
@@ -11482,13 +12716,13 @@
 
 void GL_APIENTRY PointSizeContextANGLE(GLeglContext ctx, GLfloat size)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat size = %f)", size);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PointSize, context, size);
         if (context->skipValidation() || ValidatePointSize(context, size))
         {
             context->pointSize(size);
@@ -11501,7 +12735,6 @@
                                                  GLsizei stride,
                                                  const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = 0x%016" PRIxPTR ")",
           type, stride, (uintptr_t)pointer);
 
@@ -11510,6 +12743,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(PointSizePointerOES, context, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidatePointSizePointerOES(context, typePacked, stride, pointer))
         {
@@ -11520,13 +12754,13 @@
 
 void GL_APIENTRY PointSizexContextANGLE(GLeglContext ctx, GLfixed size)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed size = 0x%X)", size);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PointSizex, context, size);
         if (context->skipValidation() || ValidatePointSizex(context, size))
         {
             context->pointSizex(size);
@@ -11536,13 +12770,13 @@
 
 void GL_APIENTRY PolygonOffsetContextANGLE(GLeglContext ctx, GLfloat factor, GLfloat units)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat factor = %f, GLfloat units = %f)", factor, units);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PolygonOffset, context, factor, units);
         if (context->skipValidation() || ValidatePolygonOffset(context, factor, units))
         {
             context->polygonOffset(factor, units);
@@ -11552,13 +12786,13 @@
 
 void GL_APIENTRY PolygonOffsetxContextANGLE(GLeglContext ctx, GLfixed factor, GLfixed units)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed factor = 0x%X, GLfixed units = 0x%X)", factor, units);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PolygonOffsetx, context, factor, units);
         if (context->skipValidation() || ValidatePolygonOffsetx(context, factor, units))
         {
             context->polygonOffsetx(factor, units);
@@ -11568,13 +12802,13 @@
 
 void GL_APIENTRY PopDebugGroupKHRContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PopDebugGroupKHR, context);
         if (context->skipValidation() || ValidatePopDebugGroupKHR(context))
         {
             context->popDebugGroup();
@@ -11584,7 +12818,6 @@
 
 void GL_APIENTRY PopGroupMarkerEXTContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("()");
@@ -11593,6 +12826,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PopGroupMarkerEXT, context);
         if (context->skipValidation() || ValidatePopGroupMarkerEXT(context))
         {
             context->popGroupMarker();
@@ -11602,13 +12836,13 @@
 
 void GL_APIENTRY PopMatrixContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PopMatrix, context);
         if (context->skipValidation() || ValidatePopMatrix(context))
         {
             context->popMatrix();
@@ -11622,7 +12856,6 @@
                                            const void *binary,
                                            GLsizei length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLenum binaryFormat = 0x%X, const void *binary = 0x%016" PRIxPTR
           ", GLsizei length = %d)",
           program, binaryFormat, (uintptr_t)binary, length);
@@ -11631,6 +12864,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramBinary, context, program, binaryFormat, binary, length);
         if (context->skipValidation() ||
             ValidateProgramBinary(context, program, binaryFormat, binary, length))
         {
@@ -11645,7 +12879,6 @@
                                               const void *binary,
                                               GLint length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLenum binaryFormat = 0x%X, const void *binary = 0x%016" PRIxPTR
           ", GLint length = %d)",
           program, binaryFormat, (uintptr_t)binary, length);
@@ -11654,6 +12887,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramBinaryOES, context, program, binaryFormat, binary, length);
         if (context->skipValidation() ||
             ValidateProgramBinaryOES(context, program, binaryFormat, binary, length))
         {
@@ -11667,13 +12901,13 @@
                                                GLenum pname,
                                                GLint value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLenum pname = 0x%X, GLint value = %d)", program, pname, value);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramParameteri, context, program, pname, value);
         if (context->skipValidation() || ValidateProgramParameteri(context, program, pname, value))
         {
             context->programParameteri(program, pname, value);
@@ -11686,13 +12920,13 @@
                                               GLint location,
                                               GLfloat v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLfloat v0 = %f)", program, location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1f, context, program, location, v0);
         if (context->skipValidation() || ValidateProgramUniform1f(context, program, location, v0))
         {
             context->programUniform1f(program, location, v0);
@@ -11706,7 +12940,6 @@
                                                GLsizei count,
                                                const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLfloat *value = "
         "0x%016" PRIxPTR ")",
@@ -11716,6 +12949,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1fv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform1fv(context, program, location, count, value))
         {
@@ -11729,13 +12963,13 @@
                                               GLint location,
                                               GLint v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLint v0 = %d)", program, location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1i, context, program, location, v0);
         if (context->skipValidation() || ValidateProgramUniform1i(context, program, location, v0))
         {
             context->programUniform1i(program, location, v0);
@@ -11749,7 +12983,6 @@
                                                GLsizei count,
                                                const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLint *value = "
         "0x%016" PRIxPTR ")",
@@ -11759,6 +12992,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1iv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform1iv(context, program, location, count, value))
         {
@@ -11772,13 +13006,13 @@
                                                GLint location,
                                                GLuint v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLuint v0 = %u)", program, location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1ui, context, program, location, v0);
         if (context->skipValidation() || ValidateProgramUniform1ui(context, program, location, v0))
         {
             context->programUniform1ui(program, location, v0);
@@ -11792,7 +13026,6 @@
                                                 GLsizei count,
                                                 const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLuint *value = "
         "0x%016" PRIxPTR ")",
@@ -11802,6 +13035,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform1uiv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform1uiv(context, program, location, count, value))
         {
@@ -11816,7 +13050,6 @@
                                               GLfloat v0,
                                               GLfloat v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f)", program,
           location, v0, v1);
 
@@ -11824,6 +13057,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2f, context, program, location, v0, v1);
         if (context->skipValidation() ||
             ValidateProgramUniform2f(context, program, location, v0, v1))
         {
@@ -11838,7 +13072,6 @@
                                                GLsizei count,
                                                const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLfloat *value = "
         "0x%016" PRIxPTR ")",
@@ -11848,6 +13081,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2fv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform2fv(context, program, location, count, value))
         {
@@ -11859,7 +13093,6 @@
 void GL_APIENTRY
 ProgramUniform2iContextANGLE(GLeglContext ctx, GLuint program, GLint location, GLint v0, GLint v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLint v0 = %d, GLint v1 = %d)", program,
           location, v0, v1);
 
@@ -11867,6 +13100,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2i, context, program, location, v0, v1);
         if (context->skipValidation() ||
             ValidateProgramUniform2i(context, program, location, v0, v1))
         {
@@ -11881,7 +13115,6 @@
                                                GLsizei count,
                                                const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLint *value = "
         "0x%016" PRIxPTR ")",
@@ -11891,6 +13124,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2iv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform2iv(context, program, location, count, value))
         {
@@ -11905,7 +13139,6 @@
                                                GLuint v0,
                                                GLuint v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLuint v0 = %u, GLuint v1 = %u)", program,
           location, v0, v1);
 
@@ -11913,6 +13146,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2ui, context, program, location, v0, v1);
         if (context->skipValidation() ||
             ValidateProgramUniform2ui(context, program, location, v0, v1))
         {
@@ -11927,7 +13161,6 @@
                                                 GLsizei count,
                                                 const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLuint *value = "
         "0x%016" PRIxPTR ")",
@@ -11937,6 +13170,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform2uiv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform2uiv(context, program, location, count, value))
         {
@@ -11952,7 +13186,6 @@
                                               GLfloat v1,
                                               GLfloat v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f, GLfloat v2 = "
         "%f)",
@@ -11962,6 +13195,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3f, context, program, location, v0, v1, v2);
         if (context->skipValidation() ||
             ValidateProgramUniform3f(context, program, location, v0, v1, v2))
         {
@@ -11976,7 +13210,6 @@
                                                GLsizei count,
                                                const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLfloat *value = "
         "0x%016" PRIxPTR ")",
@@ -11986,6 +13219,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3fv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform3fv(context, program, location, count, value))
         {
@@ -12001,7 +13235,6 @@
                                               GLint v1,
                                               GLint v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, GLint v0 = %d, GLint v1 = %d, GLint v2 = %d)",
           program, location, v0, v1, v2);
 
@@ -12009,6 +13242,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3i, context, program, location, v0, v1, v2);
         if (context->skipValidation() ||
             ValidateProgramUniform3i(context, program, location, v0, v1, v2))
         {
@@ -12023,7 +13257,6 @@
                                                GLsizei count,
                                                const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLint *value = "
         "0x%016" PRIxPTR ")",
@@ -12033,6 +13266,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3iv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform3iv(context, program, location, count, value))
         {
@@ -12048,7 +13282,6 @@
                                                GLuint v1,
                                                GLuint v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLuint v0 = %u, GLuint v1 = %u, GLuint v2 = "
         "%u)",
@@ -12058,6 +13291,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3ui, context, program, location, v0, v1, v2);
         if (context->skipValidation() ||
             ValidateProgramUniform3ui(context, program, location, v0, v1, v2))
         {
@@ -12072,7 +13306,6 @@
                                                 GLsizei count,
                                                 const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLuint *value = "
         "0x%016" PRIxPTR ")",
@@ -12082,6 +13315,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform3uiv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform3uiv(context, program, location, count, value))
         {
@@ -12098,7 +13332,6 @@
                                               GLfloat v2,
                                               GLfloat v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f, GLfloat v2 = "
         "%f, GLfloat v3 = %f)",
@@ -12108,6 +13341,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4f, context, program, location, v0, v1, v2, v3);
         if (context->skipValidation() ||
             ValidateProgramUniform4f(context, program, location, v0, v1, v2, v3))
         {
@@ -12122,7 +13356,6 @@
                                                GLsizei count,
                                                const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLfloat *value = "
         "0x%016" PRIxPTR ")",
@@ -12132,6 +13365,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4fv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform4fv(context, program, location, count, value))
         {
@@ -12148,7 +13382,6 @@
                                               GLint v2,
                                               GLint v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLint v0 = %d, GLint v1 = %d, GLint v2 = %d, "
         "GLint v3 = %d)",
@@ -12158,6 +13391,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4i, context, program, location, v0, v1, v2, v3);
         if (context->skipValidation() ||
             ValidateProgramUniform4i(context, program, location, v0, v1, v2, v3))
         {
@@ -12172,7 +13406,6 @@
                                                GLsizei count,
                                                const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLint *value = "
         "0x%016" PRIxPTR ")",
@@ -12182,6 +13415,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4iv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform4iv(context, program, location, count, value))
         {
@@ -12198,7 +13432,6 @@
                                                GLuint v2,
                                                GLuint v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLuint v0 = %u, GLuint v1 = %u, GLuint v2 = "
         "%u, GLuint v3 = %u)",
@@ -12208,6 +13441,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4ui, context, program, location, v0, v1, v2, v3);
         if (context->skipValidation() ||
             ValidateProgramUniform4ui(context, program, location, v0, v1, v2, v3))
         {
@@ -12222,7 +13456,6 @@
                                                 GLsizei count,
                                                 const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, const GLuint *value = "
         "0x%016" PRIxPTR ")",
@@ -12232,6 +13465,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniform4uiv, context, program, location, count, value);
         if (context->skipValidation() ||
             ValidateProgramUniform4uiv(context, program, location, count, value))
         {
@@ -12247,7 +13481,6 @@
                                                      GLboolean transpose,
                                                      const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12257,6 +13490,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix2fv, context, program, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix2fv(context, program, location, count, transpose, value))
         {
@@ -12272,7 +13506,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12282,6 +13515,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix2x3fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix2x3fv(context, program, location, count, transpose, value))
         {
@@ -12297,7 +13532,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12307,6 +13541,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix2x4fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix2x4fv(context, program, location, count, transpose, value))
         {
@@ -12322,7 +13558,6 @@
                                                      GLboolean transpose,
                                                      const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12332,6 +13567,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix3fv, context, program, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix3fv(context, program, location, count, transpose, value))
         {
@@ -12347,7 +13583,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12357,6 +13592,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix3x2fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix3x2fv(context, program, location, count, transpose, value))
         {
@@ -12372,7 +13609,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12382,6 +13618,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix3x4fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix3x4fv(context, program, location, count, transpose, value))
         {
@@ -12397,7 +13635,6 @@
                                                      GLboolean transpose,
                                                      const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12407,6 +13644,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix4fv, context, program, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix4fv(context, program, location, count, transpose, value))
         {
@@ -12422,7 +13660,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12432,6 +13669,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix4x2fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix4x2fv(context, program, location, count, transpose, value))
         {
@@ -12447,7 +13686,6 @@
                                                        GLboolean transpose,
                                                        const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, "
         "const GLfloat *value = 0x%016" PRIxPTR ")",
@@ -12457,6 +13695,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramUniformMatrix4x3fv, context, program, location, count, transpose,
+                      value);
         if (context->skipValidation() ||
             ValidateProgramUniformMatrix4x3fv(context, program, location, count, transpose, value))
         {
@@ -12471,7 +13711,6 @@
                                                GLsizei length,
                                                const GLchar *message)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum source = 0x%X, GLuint id = %u, GLsizei length = %d, const GLchar *message = "
         "0x%016" PRIxPTR ")",
@@ -12481,6 +13720,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PushDebugGroupKHR, context, source, id, length, message);
         if (context->skipValidation() ||
             ValidatePushDebugGroupKHR(context, source, id, length, message))
         {
@@ -12493,7 +13733,6 @@
                                                 GLsizei length,
                                                 const GLchar *marker)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     // Don't run an EVENT() macro on the EXT_debug_marker entry points.
     // It can interfere with the debug events being set by the caller.
     // EVENT("(GLsizei length = %d, const GLchar *marker = 0x%016" PRIxPTR ")", length,
@@ -12503,6 +13742,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PushGroupMarkerEXT, context, length, marker);
         if (context->skipValidation() || ValidatePushGroupMarkerEXT(context, length, marker))
         {
             context->pushGroupMarker(length, marker);
@@ -12512,13 +13752,13 @@
 
 void GL_APIENTRY PushMatrixContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PushMatrix, context);
         if (context->skipValidation() || ValidatePushMatrix(context))
         {
             context->pushMatrix();
@@ -12528,7 +13768,6 @@
 
 void GL_APIENTRY QueryCounterEXTContextANGLE(GLeglContext ctx, GLuint id, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint id = %u, GLenum target = 0x%X)", id, target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -12536,6 +13775,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(QueryCounterEXT, context, id, targetPacked);
         if (context->skipValidation() || ValidateQueryCounterEXT(context, id, targetPacked))
         {
             context->queryCounter(id, targetPacked);
@@ -12547,7 +13787,6 @@
                                                    GLfixed *mantissa,
                                                    GLint *exponent)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed *mantissa = 0x%016" PRIxPTR ", GLint *exponent = 0x%016" PRIxPTR ")",
           (uintptr_t)mantissa, (uintptr_t)exponent);
 
@@ -12555,6 +13794,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(QueryMatrixxOES, context, mantissa, exponent);
         if (context->skipValidation() || ValidateQueryMatrixxOES(context, mantissa, exponent))
         {
             return context->queryMatrixx(mantissa, exponent);
@@ -12566,13 +13806,13 @@
 
 void GL_APIENTRY ReadBufferContextANGLE(GLeglContext ctx, GLenum src)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum src = 0x%X)", src);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReadBuffer, context, src);
         if (context->skipValidation() || ValidateReadBuffer(context, src))
         {
             context->readBuffer(src);
@@ -12589,7 +13829,6 @@
                                         GLenum type,
                                         void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, void *pixels = 0x%016" PRIxPTR ")",
@@ -12599,6 +13838,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReadPixels, context, x, y, width, height, format, type, pixels);
         if (context->skipValidation() ||
             ValidateReadPixels(context, x, y, width, height, format, type, pixels))
         {
@@ -12617,7 +13857,6 @@
                                             GLsizei bufSize,
                                             void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, void *data = 0x%016" PRIxPTR ")",
@@ -12627,6 +13866,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReadnPixelsEXT, context, x, y, width, height, format, type, bufSize, data);
         if (context->skipValidation() ||
             ValidateReadnPixelsEXT(context, x, y, width, height, format, type, bufSize, data))
         {
@@ -12637,13 +13877,13 @@
 
 void GL_APIENTRY ReleaseShaderCompilerContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReleaseShaderCompiler, context);
         if (context->skipValidation() || ValidateReleaseShaderCompiler(context))
         {
             context->releaseShaderCompiler();
@@ -12657,7 +13897,6 @@
                                                  GLsizei width,
                                                  GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLsizei width = %d, GLsizei height = "
         "%d)",
@@ -12667,6 +13906,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(RenderbufferStorage, context, target, internalformat, width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorage(context, target, internalformat, width, height))
         {
@@ -12682,7 +13922,6 @@
                                                             GLsizei width,
                                                             GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d)",
@@ -12692,6 +13931,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(RenderbufferStorageMultisample, context, target, samples, internalformat,
+                      width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorageMultisample(context, target, samples, internalformat, width,
                                                    height))
@@ -12708,7 +13949,6 @@
                                                                  GLsizei width,
                                                                  GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d)",
@@ -12718,6 +13958,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(RenderbufferStorageMultisampleANGLE, context, target, samples, internalformat,
+                      width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorageMultisampleANGLE(context, target, samples, internalformat,
                                                         width, height))
@@ -12733,7 +13975,6 @@
                                                     GLsizei width,
                                                     GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLsizei width = %d, GLsizei height = "
         "%d)",
@@ -12743,6 +13984,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(RenderbufferStorageOES, context, target, internalformat, width, height);
         if (context->skipValidation() ||
             ValidateRenderbufferStorageOES(context, target, internalformat, width, height))
         {
@@ -12753,13 +13995,13 @@
 
 void GL_APIENTRY ResumeTransformFeedbackContextANGLE(GLeglContext ctx)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("()");
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ResumeTransformFeedback, context);
         if (context->skipValidation() || ValidateResumeTransformFeedback(context))
         {
             context->resumeTransformFeedback();
@@ -12770,13 +14012,13 @@
 void GL_APIENTRY
 RotatefContextANGLE(GLeglContext ctx, GLfloat angle, GLfloat x, GLfloat y, GLfloat z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat angle = %f, GLfloat x = %f, GLfloat y = %f, GLfloat z = %f)", angle, x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Rotatef, context, angle, x, y, z);
         if (context->skipValidation() || ValidateRotatef(context, angle, x, y, z))
         {
             context->rotatef(angle, x, y, z);
@@ -12787,7 +14029,6 @@
 void GL_APIENTRY
 RotatexContextANGLE(GLeglContext ctx, GLfixed angle, GLfixed x, GLfixed y, GLfixed z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed angle = 0x%X, GLfixed x = 0x%X, GLfixed y = 0x%X, GLfixed z = 0x%X)", angle, x,
           y, z);
 
@@ -12795,6 +14036,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Rotatex, context, angle, x, y, z);
         if (context->skipValidation() || ValidateRotatex(context, angle, x, y, z))
         {
             context->rotatex(angle, x, y, z);
@@ -12804,13 +14046,13 @@
 
 void GL_APIENTRY SampleCoverageContextANGLE(GLeglContext ctx, GLfloat value, GLboolean invert)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat value = %f, GLboolean invert = %u)", value, invert);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SampleCoverage, context, value, invert);
         if (context->skipValidation() || ValidateSampleCoverage(context, value, invert))
         {
             context->sampleCoverage(value, invert);
@@ -12820,13 +14062,13 @@
 
 void GL_APIENTRY SampleCoveragexContextANGLE(GLeglContext ctx, GLclampx value, GLboolean invert)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLclampx value = 0x%X, GLboolean invert = %u)", value, invert);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SampleCoveragex, context, value, invert);
         if (context->skipValidation() || ValidateSampleCoveragex(context, value, invert))
         {
             context->sampleCoveragex(value, invert);
@@ -12836,13 +14078,13 @@
 
 void GL_APIENTRY SampleMaskiContextANGLE(GLeglContext ctx, GLuint maskNumber, GLbitfield mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint maskNumber = %u, GLbitfield mask = 0x%X)", maskNumber, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SampleMaski, context, maskNumber, mask);
         if (context->skipValidation() || ValidateSampleMaski(context, maskNumber, mask))
         {
             context->sampleMaski(maskNumber, mask);
@@ -12855,7 +14097,6 @@
                                                     GLenum pname,
                                                     const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLint *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
@@ -12863,6 +14104,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterIivOES, context, sampler, pname, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIivOES(context, sampler, pname, param))
         {
@@ -12876,7 +14118,6 @@
                                                      GLenum pname,
                                                      const GLuint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLuint *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
@@ -12884,6 +14125,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterIuivOES, context, sampler, pname, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIuivOES(context, sampler, pname, param))
         {
@@ -12897,13 +14139,13 @@
                                                GLenum pname,
                                                GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLfloat param = %f)", sampler, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterf, context, sampler, pname, param);
         if (context->skipValidation() || ValidateSamplerParameterf(context, sampler, pname, param))
         {
             context->samplerParameterf(sampler, pname, param);
@@ -12916,7 +14158,6 @@
                                                 GLenum pname,
                                                 const GLfloat *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLfloat *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
@@ -12924,6 +14165,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterfv, context, sampler, pname, param);
         if (context->skipValidation() || ValidateSamplerParameterfv(context, sampler, pname, param))
         {
             context->samplerParameterfv(sampler, pname, param);
@@ -12936,13 +14178,13 @@
                                                GLenum pname,
                                                GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, GLint param = %d)", sampler, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameteri, context, sampler, pname, param);
         if (context->skipValidation() || ValidateSamplerParameteri(context, sampler, pname, param))
         {
             context->samplerParameteri(sampler, pname, param);
@@ -12955,7 +14197,6 @@
                                                 GLenum pname,
                                                 const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sampler = %u, GLenum pname = 0x%X, const GLint *param = 0x%016" PRIxPTR ")",
           sampler, pname, (uintptr_t)param);
 
@@ -12963,6 +14204,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameteriv, context, sampler, pname, param);
         if (context->skipValidation() || ValidateSamplerParameteriv(context, sampler, pname, param))
         {
             context->samplerParameteriv(sampler, pname, param);
@@ -12972,13 +14214,13 @@
 
 void GL_APIENTRY ScalefContextANGLE(GLeglContext ctx, GLfloat x, GLfloat y, GLfloat z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat x = %f, GLfloat y = %f, GLfloat z = %f)", x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Scalef, context, x, y, z);
         if (context->skipValidation() || ValidateScalef(context, x, y, z))
         {
             context->scalef(x, y, z);
@@ -12988,13 +14230,13 @@
 
 void GL_APIENTRY ScalexContextANGLE(GLeglContext ctx, GLfixed x, GLfixed y, GLfixed z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed x = 0x%X, GLfixed y = 0x%X, GLfixed z = 0x%X)", x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Scalex, context, x, y, z);
         if (context->skipValidation() || ValidateScalex(context, x, y, z))
         {
             context->scalex(x, y, z);
@@ -13005,7 +14247,6 @@
 void GL_APIENTRY
 ScissorContextANGLE(GLeglContext ctx, GLint x, GLint y, GLsizei width, GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)", x, y, width,
           height);
 
@@ -13013,6 +14254,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Scissor, context, x, y, width, height);
         if (context->skipValidation() || ValidateScissor(context, x, y, width, height))
         {
             context->scissor(x, y, width, height);
@@ -13020,15 +14262,37 @@
     }
 }
 
+void GL_APIENTRY SemaphoreParameterui64vEXTContextANGLE(GLeglContext ctx,
+                                                        GLuint semaphore,
+                                                        GLenum pname,
+                                                        const GLuint64 *params)
+{
+    EVENT("(GLuint semaphore = %u, GLenum pname = 0x%X, const GLuint64 *params = 0x%016" PRIxPTR
+          ")",
+          semaphore, pname, (uintptr_t)params);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SemaphoreParameterui64vEXT, context, semaphore, pname, params);
+        if (context->skipValidation() ||
+            ValidateSemaphoreParameterui64vEXT(context, semaphore, pname, params))
+        {
+            context->semaphoreParameterui64v(semaphore, pname, params);
+        }
+    }
+}
+
 void GL_APIENTRY SetFenceNVContextANGLE(GLeglContext ctx, GLuint fence, GLenum condition)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u, GLenum condition = 0x%X)", fence, condition);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SetFenceNV, context, fence, condition);
         if (context->skipValidation() || ValidateSetFenceNV(context, fence, condition))
         {
             context->setFenceNV(fence, condition);
@@ -13038,7 +14302,6 @@
 
 void GL_APIENTRY ShadeModelContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -13046,6 +14309,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         ShadingModel modePacked = FromGLenum<ShadingModel>(mode);
+        ANGLE_CAPTURE(ShadeModel, context, modePacked);
         if (context->skipValidation() || ValidateShadeModel(context, modePacked))
         {
             context->shadeModel(modePacked);
@@ -13060,7 +14324,6 @@
                                           const void *binary,
                                           GLsizei length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei count = %d, const GLuint *shaders = 0x%016" PRIxPTR
           ", GLenum binaryformat = 0x%X, const void *binary = 0x%016" PRIxPTR
           ", GLsizei length = %d)",
@@ -13070,6 +14333,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ShaderBinary, context, count, shaders, binaryformat, binary, length);
         if (context->skipValidation() ||
             ValidateShaderBinary(context, count, shaders, binaryformat, binary, length))
         {
@@ -13084,7 +14348,6 @@
                                           const GLchar *const *string,
                                           const GLint *length)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint shader = %u, GLsizei count = %d, const GLchar *const*string = 0x%016" PRIxPTR
           ", const GLint *length = 0x%016" PRIxPTR ")",
           shader, count, (uintptr_t)string, (uintptr_t)length);
@@ -13093,6 +14356,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ShaderSource, context, shader, count, string, length);
         if (context->skipValidation() ||
             ValidateShaderSource(context, shader, count, string, length))
         {
@@ -13101,15 +14365,46 @@
     }
 }
 
+void GL_APIENTRY SignalSemaphoreEXTContextANGLE(GLeglContext ctx,
+                                                GLuint semaphore,
+                                                GLuint numBufferBarriers,
+                                                const GLuint *buffers,
+                                                GLuint numTextureBarriers,
+                                                const GLuint *textures,
+                                                const GLenum *dstLayouts)
+{
+    EVENT(
+        "(GLuint semaphore = %u, GLuint numBufferBarriers = %u, const GLuint *buffers = "
+        "0x%016" PRIxPTR ", GLuint numTextureBarriers = %u, const GLuint *textures = 0x%016" PRIxPTR
+        ", const GLenum *dstLayouts = 0x%016" PRIxPTR ")",
+        semaphore, numBufferBarriers, (uintptr_t)buffers, numTextureBarriers, (uintptr_t)textures,
+        (uintptr_t)dstLayouts);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SignalSemaphoreEXT, context, semaphore, numBufferBarriers, buffers,
+                      numTextureBarriers, textures, dstLayouts);
+        if (context->skipValidation() ||
+            ValidateSignalSemaphoreEXT(context, semaphore, numBufferBarriers, buffers,
+                                       numTextureBarriers, textures, dstLayouts))
+        {
+            context->signalSemaphore(semaphore, numBufferBarriers, buffers, numTextureBarriers,
+                                     textures, dstLayouts);
+        }
+    }
+}
+
 void GL_APIENTRY StencilFuncContextANGLE(GLeglContext ctx, GLenum func, GLint ref, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X, GLint ref = %d, GLuint mask = %u)", func, ref, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilFunc, context, func, ref, mask);
         if (context->skipValidation() || ValidateStencilFunc(context, func, ref, mask))
         {
             context->stencilFunc(func, ref, mask);
@@ -13120,7 +14415,6 @@
 void GL_APIENTRY
 StencilFuncSeparateContextANGLE(GLeglContext ctx, GLenum face, GLenum func, GLint ref, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum func = 0x%X, GLint ref = %d, GLuint mask = %u)", face, func,
           ref, mask);
 
@@ -13128,6 +14422,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilFuncSeparate, context, face, func, ref, mask);
         if (context->skipValidation() ||
             ValidateStencilFuncSeparate(context, face, func, ref, mask))
         {
@@ -13138,13 +14433,13 @@
 
 void GL_APIENTRY StencilMaskContextANGLE(GLeglContext ctx, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint mask = %u)", mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilMask, context, mask);
         if (context->skipValidation() || ValidateStencilMask(context, mask))
         {
             context->stencilMask(mask);
@@ -13154,13 +14449,13 @@
 
 void GL_APIENTRY StencilMaskSeparateContextANGLE(GLeglContext ctx, GLenum face, GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLuint mask = %u)", face, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilMaskSeparate, context, face, mask);
         if (context->skipValidation() || ValidateStencilMaskSeparate(context, face, mask))
         {
             context->stencilMaskSeparate(face, mask);
@@ -13170,13 +14465,13 @@
 
 void GL_APIENTRY StencilOpContextANGLE(GLeglContext ctx, GLenum fail, GLenum zfail, GLenum zpass)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum fail = 0x%X, GLenum zfail = 0x%X, GLenum zpass = 0x%X)", fail, zfail, zpass);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilOp, context, fail, zfail, zpass);
         if (context->skipValidation() || ValidateStencilOp(context, fail, zfail, zpass))
         {
             context->stencilOp(fail, zfail, zpass);
@@ -13190,7 +14485,6 @@
                                                GLenum dpfail,
                                                GLenum dppass)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum face = 0x%X, GLenum sfail = 0x%X, GLenum dpfail = 0x%X, GLenum dppass = 0x%X)",
           face, sfail, dpfail, dppass);
 
@@ -13198,6 +14492,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilOpSeparate, context, face, sfail, dpfail, dppass);
         if (context->skipValidation() ||
             ValidateStencilOpSeparate(context, face, sfail, dpfail, dppass))
         {
@@ -13208,13 +14503,13 @@
 
 GLboolean GL_APIENTRY TestFenceNVContextANGLE(GLeglContext ctx, GLuint fence)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint fence = %u)", fence);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TestFenceNV, context, fence);
         if (context->skipValidation() || ValidateTestFenceNV(context, fence))
         {
             return context->testFenceNV(fence);
@@ -13230,7 +14525,6 @@
                                              GLsizei stride,
                                              const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -13241,6 +14535,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(TexCoordPointer, context, size, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidateTexCoordPointer(context, size, typePacked, stride, pointer))
         {
@@ -13251,7 +14546,6 @@
 
 void GL_APIENTRY TexEnvfContextANGLE(GLeglContext ctx, GLenum target, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", target, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -13260,6 +14554,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnvf, context, targetPacked, pnamePacked, param);
         if (context->skipValidation() || ValidateTexEnvf(context, targetPacked, pnamePacked, param))
         {
             context->texEnvf(targetPacked, pnamePacked, param);
@@ -13272,7 +14567,6 @@
                                       GLenum pname,
                                       const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13282,6 +14576,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnvfv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateTexEnvfv(context, targetPacked, pnamePacked, params))
         {
@@ -13292,7 +14587,6 @@
 
 void GL_APIENTRY TexEnviContextANGLE(GLeglContext ctx, GLenum target, GLenum pname, GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint param = %d)", target, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -13301,6 +14595,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnvi, context, targetPacked, pnamePacked, param);
         if (context->skipValidation() || ValidateTexEnvi(context, targetPacked, pnamePacked, param))
         {
             context->texEnvi(targetPacked, pnamePacked, param);
@@ -13313,7 +14608,6 @@
                                       GLenum pname,
                                       const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13323,6 +14617,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnviv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateTexEnviv(context, targetPacked, pnamePacked, params))
         {
@@ -13333,7 +14628,6 @@
 
 void GL_APIENTRY TexEnvxContextANGLE(GLeglContext ctx, GLenum target, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", target, pname,
           param);
 
@@ -13343,6 +14637,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnvx, context, targetPacked, pnamePacked, param);
         if (context->skipValidation() || ValidateTexEnvx(context, targetPacked, pnamePacked, param))
         {
             context->texEnvx(targetPacked, pnamePacked, param);
@@ -13355,7 +14650,6 @@
                                       GLenum pname,
                                       const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13365,6 +14659,7 @@
         ASSERT(context == GetValidGlobalContext());
         TextureEnvTarget targetPacked   = FromGLenum<TextureEnvTarget>(target);
         TextureEnvParameter pnamePacked = FromGLenum<TextureEnvParameter>(pname);
+        ANGLE_CAPTURE(TexEnvxv, context, targetPacked, pnamePacked, params);
         if (context->skipValidation() ||
             ValidateTexEnvxv(context, targetPacked, pnamePacked, params))
         {
@@ -13375,13 +14670,13 @@
 
 void GL_APIENTRY TexGenfOESContextANGLE(GLeglContext ctx, GLenum coord, GLenum pname, GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", coord, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGenfOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGenfOES(context, coord, pname, param))
         {
             context->texGenf(coord, pname, param);
@@ -13394,7 +14689,6 @@
                                          GLenum pname,
                                          const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
@@ -13402,6 +14696,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGenfvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenfvOES(context, coord, pname, params))
         {
             context->texGenfv(coord, pname, params);
@@ -13411,13 +14706,13 @@
 
 void GL_APIENTRY TexGeniOESContextANGLE(GLeglContext ctx, GLenum coord, GLenum pname, GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLint param = %d)", coord, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGeniOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGeniOES(context, coord, pname, param))
         {
             context->texGeni(coord, pname, param);
@@ -13430,7 +14725,6 @@
                                          GLenum pname,
                                          const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
@@ -13438,6 +14732,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGenivOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenivOES(context, coord, pname, params))
         {
             context->texGeniv(coord, pname, params);
@@ -13447,13 +14742,13 @@
 
 void GL_APIENTRY TexGenxOESContextANGLE(GLeglContext ctx, GLenum coord, GLenum pname, GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", coord, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGenxOES, context, coord, pname, param);
         if (context->skipValidation() || ValidateTexGenxOES(context, coord, pname, param))
         {
             context->texGenx(coord, pname, param);
@@ -13466,7 +14761,6 @@
                                          GLenum pname,
                                          const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum coord = 0x%X, GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")",
           coord, pname, (uintptr_t)params);
 
@@ -13474,6 +14768,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexGenxvOES, context, coord, pname, params);
         if (context->skipValidation() || ValidateTexGenxvOES(context, coord, pname, params))
         {
             context->texGenxv(coord, pname, params);
@@ -13492,7 +14787,6 @@
                                         GLenum type,
                                         const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLint border = %d, GLenum format = 0x%X, GLenum type = 0x%X, const "
@@ -13504,6 +14798,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage2D, context, targetPacked, level, internalformat, width, height,
+                      border, format, type, pixels);
         if (context->skipValidation() ||
             ValidateTexImage2D(context, targetPacked, level, internalformat, width, height, border,
                                format, type, pixels))
@@ -13526,7 +14822,6 @@
                                         GLenum type,
                                         const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLenum format = 0x%X, GLenum "
@@ -13538,7 +14833,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage3D, context, targetPacked, level, internalformat, width, height,
+                      depth, border, format, type, pixels);
         if (context->skipValidation() ||
             ValidateTexImage3D(context, targetPacked, level, internalformat, width, height, depth,
                                border, format, type, pixels))
@@ -13549,12 +14846,47 @@
     }
 }
 
+void GL_APIENTRY TexImage3DOESContextANGLE(GLeglContext ctx,
+                                           GLenum target,
+                                           GLint level,
+                                           GLenum internalformat,
+                                           GLsizei width,
+                                           GLsizei height,
+                                           GLsizei depth,
+                                           GLint border,
+                                           GLenum format,
+                                           GLenum type,
+                                           const void *pixels)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLenum format = 0x%X, "
+        "GLenum type = 0x%X, const void *pixels = 0x%016" PRIxPTR ")",
+        target, level, internalformat, width, height, depth, border, format, type,
+        (uintptr_t)pixels);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage3DOES, context, targetPacked, level, internalformat, width, height,
+                      depth, border, format, type, pixels);
+        if (context->skipValidation() ||
+            ValidateTexImage3DOES(context, targetPacked, level, internalformat, width, height,
+                                  depth, border, format, type, pixels))
+        {
+            context->texImage3D(targetPacked, level, internalformat, width, height, depth, border,
+                                format, type, pixels);
+        }
+    }
+}
+
 void GL_APIENTRY TexParameterIivOESContextANGLE(GLeglContext ctx,
                                                 GLenum target,
                                                 GLenum pname,
                                                 const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13563,6 +14895,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterIivOES(context, targetPacked, pname, params))
         {
@@ -13576,7 +14909,6 @@
                                                  GLenum pname,
                                                  const GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLuint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13585,6 +14917,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIuivOES, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterIuivOES(context, targetPacked, pname, params))
         {
@@ -13598,7 +14931,6 @@
                                            GLenum pname,
                                            GLfloat param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfloat param = %f)", target, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -13606,6 +14938,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterf, context, targetPacked, pname, param);
         if (context->skipValidation() || ValidateTexParameterf(context, targetPacked, pname, param))
         {
             context->texParameterf(targetPacked, pname, param);
@@ -13618,7 +14951,6 @@
                                             GLenum pname,
                                             const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLfloat *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13627,6 +14959,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterfv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterfv(context, targetPacked, pname, params))
         {
@@ -13640,7 +14973,6 @@
                                            GLenum pname,
                                            GLint param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLint param = %d)", target, pname, param);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -13648,6 +14980,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameteri, context, targetPacked, pname, param);
         if (context->skipValidation() || ValidateTexParameteri(context, targetPacked, pname, param))
         {
             context->texParameteri(targetPacked, pname, param);
@@ -13660,7 +14993,6 @@
                                             GLenum pname,
                                             const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLint *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13669,6 +15001,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameteriv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameteriv(context, targetPacked, pname, params))
         {
@@ -13682,7 +15015,6 @@
                                            GLenum pname,
                                            GLfixed param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, GLfixed param = 0x%X)", target, pname,
           param);
 
@@ -13691,6 +15023,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterx, context, targetPacked, pname, param);
         if (context->skipValidation() || ValidateTexParameterx(context, targetPacked, pname, param))
         {
             context->texParameterx(targetPacked, pname, param);
@@ -13703,7 +15036,6 @@
                                             GLenum pname,
                                             const GLfixed *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X, GLenum pname = 0x%X, const GLfixed *params = 0x%016" PRIxPTR ")",
           target, pname, (uintptr_t)params);
 
@@ -13712,6 +15044,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterxv, context, targetPacked, pname, params);
         if (context->skipValidation() ||
             ValidateTexParameterxv(context, targetPacked, pname, params))
         {
@@ -13726,7 +15059,6 @@
                                              GLenum internalformat,
                                              GLsizei width)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d)",
@@ -13736,6 +15068,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TexStorage1DEXT, context, target, levels, internalformat, width);
         if (context->skipValidation() ||
             ValidateTexStorage1DEXT(context, target, levels, internalformat, width))
         {
@@ -13751,7 +15084,6 @@
                                           GLsizei width,
                                           GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d)",
@@ -13762,6 +15094,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2D, context, targetPacked, levels, internalformat, width, height);
         if (context->skipValidation() ||
             ValidateTexStorage2D(context, targetPacked, levels, internalformat, width, height))
         {
@@ -13777,7 +15110,6 @@
                                              GLsizei width,
                                              GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d)",
@@ -13788,6 +15120,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2DEXT, context, targetPacked, levels, internalformat, width,
+                      height);
         if (context->skipValidation() ||
             ValidateTexStorage2DEXT(context, targetPacked, levels, internalformat, width, height))
         {
@@ -13804,7 +15138,6 @@
                                                      GLsizei height,
                                                      GLboolean fixedsamplelocations)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d, GLboolean fixedsamplelocations = %u)",
@@ -13815,6 +15148,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2DMultisample, context, targetPacked, samples, internalformat,
+                      width, height, fixedsamplelocations);
         if (context->skipValidation() ||
             ValidateTexStorage2DMultisample(context, targetPacked, samples, internalformat, width,
                                             height, fixedsamplelocations))
@@ -13833,7 +15168,6 @@
                                           GLsizei height,
                                           GLsizei depth)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d)",
@@ -13844,6 +15178,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage3D, context, targetPacked, levels, internalformat, width, height,
+                      depth);
         if (context->skipValidation() || ValidateTexStorage3D(context, targetPacked, levels,
                                                               internalformat, width, height, depth))
         {
@@ -13860,7 +15196,6 @@
                                              GLsizei height,
                                              GLsizei depth)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d)",
@@ -13871,6 +15206,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage3DEXT, context, targetPacked, levels, internalformat, width, height,
+                      depth);
         if (context->skipValidation() ||
             ValidateTexStorage3DEXT(context, targetPacked, levels, internalformat, width, height,
                                     depth))
@@ -13889,7 +15226,6 @@
                                                         GLsizei depth,
                                                         GLboolean fixedsamplelocations)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d, GLsizei depth = %d, GLboolean fixedsamplelocations = %u)",
@@ -13900,6 +15236,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage3DMultisampleOES, context, targetPacked, samples, internalformat,
+                      width, height, depth, fixedsamplelocations);
         if (context->skipValidation() ||
             ValidateTexStorage3DMultisampleOES(context, targetPacked, samples, internalformat,
                                                width, height, depth, fixedsamplelocations))
@@ -13910,6 +15248,141 @@
     }
 }
 
+void GL_APIENTRY TexStorageMem2DEXTContextANGLE(GLeglContext ctx,
+                                                GLenum target,
+                                                GLsizei levels,
+                                                GLenum internalFormat,
+                                                GLsizei width,
+                                                GLsizei height,
+                                                GLuint memory,
+                                                GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalFormat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLuint memory = %u, GLuint64 offset = %llu)",
+        target, levels, internalFormat, width, height, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem2DEXT, context, targetPacked, levels, internalFormat, width,
+                      height, memory, offset);
+        if (context->skipValidation() ||
+            ValidateTexStorageMem2DEXT(context, targetPacked, levels, internalFormat, width, height,
+                                       memory, offset))
+        {
+            context->texStorageMem2D(targetPacked, levels, internalFormat, width, height, memory,
+                                     offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem2DMultisampleEXTContextANGLE(GLeglContext ctx,
+                                                           GLenum target,
+                                                           GLsizei samples,
+                                                           GLenum internalFormat,
+                                                           GLsizei width,
+                                                           GLsizei height,
+                                                           GLboolean fixedSampleLocations,
+                                                           GLuint memory,
+                                                           GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalFormat = 0x%X, GLsizei width "
+        "= %d, GLsizei height = %d, GLboolean fixedSampleLocations = %u, GLuint memory = %u, "
+        "GLuint64 offset = %llu)",
+        target, samples, internalFormat, width, height, fixedSampleLocations, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem2DMultisampleEXT, context, targetPacked, samples, internalFormat,
+                      width, height, fixedSampleLocations, memory, offset);
+        if (context->skipValidation() || ValidateTexStorageMem2DMultisampleEXT(
+                                             context, targetPacked, samples, internalFormat, width,
+                                             height, fixedSampleLocations, memory, offset))
+        {
+            context->texStorageMem2DMultisample(targetPacked, samples, internalFormat, width,
+                                                height, fixedSampleLocations, memory, offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem3DEXTContextANGLE(GLeglContext ctx,
+                                                GLenum target,
+                                                GLsizei levels,
+                                                GLenum internalFormat,
+                                                GLsizei width,
+                                                GLsizei height,
+                                                GLsizei depth,
+                                                GLuint memory,
+                                                GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei levels = %d, GLenum internalFormat = 0x%X, GLsizei width = "
+        "%d, GLsizei height = %d, GLsizei depth = %d, GLuint memory = %u, GLuint64 offset = %llu)",
+        target, levels, internalFormat, width, height, depth, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem3DEXT, context, targetPacked, levels, internalFormat, width,
+                      height, depth, memory, offset);
+        if (context->skipValidation() ||
+            ValidateTexStorageMem3DEXT(context, targetPacked, levels, internalFormat, width, height,
+                                       depth, memory, offset))
+        {
+            context->texStorageMem3D(targetPacked, levels, internalFormat, width, height, depth,
+                                     memory, offset);
+        }
+    }
+}
+
+void GL_APIENTRY TexStorageMem3DMultisampleEXTContextANGLE(GLeglContext ctx,
+                                                           GLenum target,
+                                                           GLsizei samples,
+                                                           GLenum internalFormat,
+                                                           GLsizei width,
+                                                           GLsizei height,
+                                                           GLsizei depth,
+                                                           GLboolean fixedSampleLocations,
+                                                           GLuint memory,
+                                                           GLuint64 offset)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalFormat = 0x%X, GLsizei width "
+        "= %d, GLsizei height = %d, GLsizei depth = %d, GLboolean fixedSampleLocations = %u, "
+        "GLuint memory = %u, GLuint64 offset = %llu)",
+        target, samples, internalFormat, width, height, depth, fixedSampleLocations, memory,
+        static_cast<unsigned long long>(offset));
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorageMem3DMultisampleEXT, context, targetPacked, samples, internalFormat,
+                      width, height, depth, fixedSampleLocations, memory, offset);
+        if (context->skipValidation() || ValidateTexStorageMem3DMultisampleEXT(
+                                             context, targetPacked, samples, internalFormat, width,
+                                             height, depth, fixedSampleLocations, memory, offset))
+        {
+            context->texStorageMem3DMultisample(targetPacked, samples, internalFormat, width,
+                                                height, depth, fixedSampleLocations, memory,
+                                                offset);
+        }
+    }
+}
+
 void GL_APIENTRY TexSubImage2DContextANGLE(GLeglContext ctx,
                                            GLenum target,
                                            GLint level,
@@ -13921,7 +15394,6 @@
                                            GLenum type,
                                            const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLsizei "
         "width = %d, GLsizei height = %d, GLenum format = 0x%X, GLenum type = 0x%X, const void "
@@ -13933,6 +15405,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage2D, context, targetPacked, level, xoffset, yoffset, width, height,
+                      format, type, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage2D(context, targetPacked, level, xoffset, yoffset, width, height,
                                   format, type, pixels))
@@ -13956,7 +15430,6 @@
                                            GLenum type,
                                            const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -13968,7 +15441,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage3D, context, targetPacked, level, xoffset, yoffset, zoffset, width,
+                      height, depth, format, type, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage3D(context, targetPacked, level, xoffset, yoffset, zoffset, width,
                                   height, depth, format, type, pixels))
@@ -13979,13 +15454,49 @@
     }
 }
 
+void GL_APIENTRY TexSubImage3DOESContextANGLE(GLeglContext ctx,
+                                              GLenum target,
+                                              GLint level,
+                                              GLint xoffset,
+                                              GLint yoffset,
+                                              GLint zoffset,
+                                              GLsizei width,
+                                              GLsizei height,
+                                              GLsizei depth,
+                                              GLenum format,
+                                              GLenum type,
+                                              const void *pixels)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
+        "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
+        "= 0x%X, GLenum type = 0x%X, const void *pixels = 0x%016" PRIxPTR ")",
+        target, level, xoffset, yoffset, zoffset, width, height, depth, format, type,
+        (uintptr_t)pixels);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage3DOES, context, targetPacked, level, xoffset, yoffset, zoffset,
+                      width, height, depth, format, type, pixels);
+        if (context->skipValidation() ||
+            ValidateTexSubImage3DOES(context, targetPacked, level, xoffset, yoffset, zoffset, width,
+                                     height, depth, format, type, pixels))
+        {
+            context->texSubImage3D(targetPacked, level, xoffset, yoffset, zoffset, width, height,
+                                   depth, format, type, pixels);
+        }
+    }
+}
+
 void GL_APIENTRY TransformFeedbackVaryingsContextANGLE(GLeglContext ctx,
                                                        GLuint program,
                                                        GLsizei count,
                                                        const GLchar *const *varyings,
                                                        GLenum bufferMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLsizei count = %d, const GLchar *const*varyings = 0x%016" PRIxPTR
           ", GLenum bufferMode = 0x%X)",
           program, count, (uintptr_t)varyings, bufferMode);
@@ -13994,6 +15505,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(TransformFeedbackVaryings, context, program, count, varyings, bufferMode);
         if (context->skipValidation() ||
             ValidateTransformFeedbackVaryings(context, program, count, varyings, bufferMode))
         {
@@ -14004,13 +15516,13 @@
 
 void GL_APIENTRY TranslatefContextANGLE(GLeglContext ctx, GLfloat x, GLfloat y, GLfloat z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfloat x = %f, GLfloat y = %f, GLfloat z = %f)", x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Translatef, context, x, y, z);
         if (context->skipValidation() || ValidateTranslatef(context, x, y, z))
         {
             context->translatef(x, y, z);
@@ -14020,13 +15532,13 @@
 
 void GL_APIENTRY TranslatexContextANGLE(GLeglContext ctx, GLfixed x, GLfixed y, GLfixed z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLfixed x = 0x%X, GLfixed y = 0x%X, GLfixed z = 0x%X)", x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Translatex, context, x, y, z);
         if (context->skipValidation() || ValidateTranslatex(context, x, y, z))
         {
             context->translatex(x, y, z);
@@ -14036,13 +15548,13 @@
 
 void GL_APIENTRY Uniform1fContextANGLE(GLeglContext ctx, GLint location, GLfloat v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLfloat v0 = %f)", location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1f, context, location, v0);
         if (context->skipValidation() || ValidateUniform1f(context, location, v0))
         {
             context->uniform1f(location, v0);
@@ -14055,7 +15567,6 @@
                                         GLsizei count,
                                         const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLfloat *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14063,6 +15574,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1fv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform1fv(context, location, count, value))
         {
             context->uniform1fv(location, count, value);
@@ -14072,13 +15584,13 @@
 
 void GL_APIENTRY Uniform1iContextANGLE(GLeglContext ctx, GLint location, GLint v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLint v0 = %d)", location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1i, context, location, v0);
         if (context->skipValidation() || ValidateUniform1i(context, location, v0))
         {
             context->uniform1i(location, v0);
@@ -14091,7 +15603,6 @@
                                         GLsizei count,
                                         const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14099,6 +15610,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1iv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform1iv(context, location, count, value))
         {
             context->uniform1iv(location, count, value);
@@ -14108,13 +15620,13 @@
 
 void GL_APIENTRY Uniform1uiContextANGLE(GLeglContext ctx, GLint location, GLuint v0)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLuint v0 = %u)", location, v0);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1ui, context, location, v0);
         if (context->skipValidation() || ValidateUniform1ui(context, location, v0))
         {
             context->uniform1ui(location, v0);
@@ -14127,7 +15639,6 @@
                                          GLsizei count,
                                          const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLuint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14135,6 +15646,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform1uiv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform1uiv(context, location, count, value))
         {
             context->uniform1uiv(location, count, value);
@@ -14144,13 +15656,13 @@
 
 void GL_APIENTRY Uniform2fContextANGLE(GLeglContext ctx, GLint location, GLfloat v0, GLfloat v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f)", location, v0, v1);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2f, context, location, v0, v1);
         if (context->skipValidation() || ValidateUniform2f(context, location, v0, v1))
         {
             context->uniform2f(location, v0, v1);
@@ -14163,7 +15675,6 @@
                                         GLsizei count,
                                         const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLfloat *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14171,6 +15682,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2fv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform2fv(context, location, count, value))
         {
             context->uniform2fv(location, count, value);
@@ -14180,13 +15692,13 @@
 
 void GL_APIENTRY Uniform2iContextANGLE(GLeglContext ctx, GLint location, GLint v0, GLint v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLint v0 = %d, GLint v1 = %d)", location, v0, v1);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2i, context, location, v0, v1);
         if (context->skipValidation() || ValidateUniform2i(context, location, v0, v1))
         {
             context->uniform2i(location, v0, v1);
@@ -14199,7 +15711,6 @@
                                         GLsizei count,
                                         const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14207,6 +15718,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2iv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform2iv(context, location, count, value))
         {
             context->uniform2iv(location, count, value);
@@ -14216,13 +15728,13 @@
 
 void GL_APIENTRY Uniform2uiContextANGLE(GLeglContext ctx, GLint location, GLuint v0, GLuint v1)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLuint v0 = %u, GLuint v1 = %u)", location, v0, v1);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2ui, context, location, v0, v1);
         if (context->skipValidation() || ValidateUniform2ui(context, location, v0, v1))
         {
             context->uniform2ui(location, v0, v1);
@@ -14235,7 +15747,6 @@
                                          GLsizei count,
                                          const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLuint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14243,6 +15754,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform2uiv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform2uiv(context, location, count, value))
         {
             context->uniform2uiv(location, count, value);
@@ -14253,7 +15765,6 @@
 void GL_APIENTRY
 Uniform3fContextANGLE(GLeglContext ctx, GLint location, GLfloat v0, GLfloat v1, GLfloat v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f, GLfloat v2 = %f)", location, v0,
           v1, v2);
 
@@ -14261,6 +15772,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3f, context, location, v0, v1, v2);
         if (context->skipValidation() || ValidateUniform3f(context, location, v0, v1, v2))
         {
             context->uniform3f(location, v0, v1, v2);
@@ -14273,7 +15785,6 @@
                                         GLsizei count,
                                         const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLfloat *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14281,6 +15792,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3fv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform3fv(context, location, count, value))
         {
             context->uniform3fv(location, count, value);
@@ -14291,7 +15803,6 @@
 void GL_APIENTRY
 Uniform3iContextANGLE(GLeglContext ctx, GLint location, GLint v0, GLint v1, GLint v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLint v0 = %d, GLint v1 = %d, GLint v2 = %d)", location, v0, v1,
           v2);
 
@@ -14299,6 +15810,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3i, context, location, v0, v1, v2);
         if (context->skipValidation() || ValidateUniform3i(context, location, v0, v1, v2))
         {
             context->uniform3i(location, v0, v1, v2);
@@ -14311,7 +15823,6 @@
                                         GLsizei count,
                                         const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14319,6 +15830,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3iv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform3iv(context, location, count, value))
         {
             context->uniform3iv(location, count, value);
@@ -14329,7 +15841,6 @@
 void GL_APIENTRY
 Uniform3uiContextANGLE(GLeglContext ctx, GLint location, GLuint v0, GLuint v1, GLuint v2)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLuint v0 = %u, GLuint v1 = %u, GLuint v2 = %u)", location, v0, v1,
           v2);
 
@@ -14337,6 +15848,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3ui, context, location, v0, v1, v2);
         if (context->skipValidation() || ValidateUniform3ui(context, location, v0, v1, v2))
         {
             context->uniform3ui(location, v0, v1, v2);
@@ -14349,7 +15861,6 @@
                                          GLsizei count,
                                          const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLuint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14357,6 +15868,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform3uiv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform3uiv(context, location, count, value))
         {
             context->uniform3uiv(location, count, value);
@@ -14371,7 +15883,6 @@
                                        GLfloat v2,
                                        GLfloat v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLfloat v0 = %f, GLfloat v1 = %f, GLfloat v2 = %f, GLfloat v3 = %f)",
         location, v0, v1, v2, v3);
@@ -14380,6 +15891,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4f, context, location, v0, v1, v2, v3);
         if (context->skipValidation() || ValidateUniform4f(context, location, v0, v1, v2, v3))
         {
             context->uniform4f(location, v0, v1, v2, v3);
@@ -14392,7 +15904,6 @@
                                         GLsizei count,
                                         const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLfloat *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14400,6 +15911,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4fv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform4fv(context, location, count, value))
         {
             context->uniform4fv(location, count, value);
@@ -14410,7 +15922,6 @@
 void GL_APIENTRY
 Uniform4iContextANGLE(GLeglContext ctx, GLint location, GLint v0, GLint v1, GLint v2, GLint v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLint v0 = %d, GLint v1 = %d, GLint v2 = %d, GLint v3 = %d)",
           location, v0, v1, v2, v3);
 
@@ -14418,6 +15929,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4i, context, location, v0, v1, v2, v3);
         if (context->skipValidation() || ValidateUniform4i(context, location, v0, v1, v2, v3))
         {
             context->uniform4i(location, v0, v1, v2, v3);
@@ -14430,7 +15942,6 @@
                                         GLsizei count,
                                         const GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14438,6 +15949,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4iv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform4iv(context, location, count, value))
         {
             context->uniform4iv(location, count, value);
@@ -14448,7 +15960,6 @@
 void GL_APIENTRY
 Uniform4uiContextANGLE(GLeglContext ctx, GLint location, GLuint v0, GLuint v1, GLuint v2, GLuint v3)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLuint v0 = %u, GLuint v1 = %u, GLuint v2 = %u, GLuint v3 = %u)",
           location, v0, v1, v2, v3);
 
@@ -14456,6 +15967,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4ui, context, location, v0, v1, v2, v3);
         if (context->skipValidation() || ValidateUniform4ui(context, location, v0, v1, v2, v3))
         {
             context->uniform4ui(location, v0, v1, v2, v3);
@@ -14468,7 +15980,6 @@
                                          GLsizei count,
                                          const GLuint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint location = %d, GLsizei count = %d, const GLuint *value = 0x%016" PRIxPTR ")",
           location, count, (uintptr_t)value);
 
@@ -14476,6 +15987,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Uniform4uiv, context, location, count, value);
         if (context->skipValidation() || ValidateUniform4uiv(context, location, count, value))
         {
             context->uniform4uiv(location, count, value);
@@ -14488,7 +16000,6 @@
                                                  GLuint uniformBlockIndex,
                                                  GLuint uniformBlockBinding)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLuint uniformBlockIndex = %u, GLuint uniformBlockBinding = %u)",
           program, uniformBlockIndex, uniformBlockBinding);
 
@@ -14496,6 +16007,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformBlockBinding, context, program, uniformBlockIndex,
+                      uniformBlockBinding);
         if (context->skipValidation() ||
             ValidateUniformBlockBinding(context, program, uniformBlockIndex, uniformBlockBinding))
         {
@@ -14510,7 +16023,6 @@
                                               GLboolean transpose,
                                               const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14520,6 +16032,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix2fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix2fv(context, location, count, transpose, value))
         {
@@ -14534,7 +16047,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14544,6 +16056,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix2x3fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix2x3fv(context, location, count, transpose, value))
         {
@@ -14558,7 +16071,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14568,6 +16080,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix2x4fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix2x4fv(context, location, count, transpose, value))
         {
@@ -14582,7 +16095,6 @@
                                               GLboolean transpose,
                                               const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14592,6 +16104,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix3fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix3fv(context, location, count, transpose, value))
         {
@@ -14606,7 +16119,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14616,6 +16128,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix3x2fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix3x2fv(context, location, count, transpose, value))
         {
@@ -14630,7 +16143,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14640,6 +16152,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix3x4fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix3x4fv(context, location, count, transpose, value))
         {
@@ -14654,7 +16167,6 @@
                                               GLboolean transpose,
                                               const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14664,6 +16176,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix4fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix4fv(context, location, count, transpose, value))
         {
@@ -14678,7 +16191,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14688,6 +16200,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix4x2fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix4x2fv(context, location, count, transpose, value))
         {
@@ -14702,7 +16215,6 @@
                                                 GLboolean transpose,
                                                 const GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint location = %d, GLsizei count = %d, GLboolean transpose = %u, const GLfloat *value "
         "= 0x%016" PRIxPTR ")",
@@ -14712,6 +16224,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UniformMatrix4x3fv, context, location, count, transpose, value);
         if (context->skipValidation() ||
             ValidateUniformMatrix4x3fv(context, location, count, transpose, value))
         {
@@ -14722,7 +16235,6 @@
 
 GLboolean GL_APIENTRY UnmapBufferContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -14730,6 +16242,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(UnmapBuffer, context, targetPacked);
         if (context->skipValidation() || ValidateUnmapBuffer(context, targetPacked))
         {
             return context->unmapBuffer(targetPacked);
@@ -14741,7 +16254,6 @@
 
 GLboolean GL_APIENTRY UnmapBufferOESContextANGLE(GLeglContext ctx, GLenum target)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum target = 0x%X)", target);
 
     Context *context = static_cast<gl::Context *>(ctx);
@@ -14749,6 +16261,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(UnmapBufferOES, context, targetPacked);
         if (context->skipValidation() || ValidateUnmapBufferOES(context, targetPacked))
         {
             return context->unmapBuffer(targetPacked);
@@ -14760,13 +16273,13 @@
 
 void GL_APIENTRY UseProgramContextANGLE(GLeglContext ctx, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u)", program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UseProgram, context, program);
         if (context->skipValidation() || ValidateUseProgram(context, program))
         {
             context->useProgram(program);
@@ -14779,7 +16292,6 @@
                                               GLbitfield stages,
                                               GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u, GLbitfield stages = 0x%X, GLuint program = %u)", pipeline, stages,
           program);
 
@@ -14787,6 +16299,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(UseProgramStages, context, pipeline, stages, program);
         if (context->skipValidation() ||
             ValidateUseProgramStages(context, pipeline, stages, program))
         {
@@ -14797,13 +16310,13 @@
 
 void GL_APIENTRY ValidateProgramContextANGLE(GLeglContext ctx, GLuint program)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u)", program);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ValidateProgram, context, program);
         if (context->skipValidation() || ValidateValidateProgram(context, program))
         {
             context->validateProgram(program);
@@ -14813,13 +16326,13 @@
 
 void GL_APIENTRY ValidateProgramPipelineContextANGLE(GLeglContext ctx, GLuint pipeline)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint pipeline = %u)", pipeline);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ValidateProgramPipeline, context, pipeline);
         if (context->skipValidation() || ValidateValidateProgramPipeline(context, pipeline))
         {
             context->validateProgramPipeline(pipeline);
@@ -14829,13 +16342,13 @@
 
 void GL_APIENTRY VertexAttrib1fContextANGLE(GLeglContext ctx, GLuint index, GLfloat x)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLfloat x = %f)", index, x);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib1f, context, index, x);
         if (context->skipValidation() || ValidateVertexAttrib1f(context, index, x))
         {
             context->vertexAttrib1f(index, x);
@@ -14845,13 +16358,13 @@
 
 void GL_APIENTRY VertexAttrib1fvContextANGLE(GLeglContext ctx, GLuint index, const GLfloat *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLfloat *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib1fv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttrib1fv(context, index, v))
         {
             context->vertexAttrib1fv(index, v);
@@ -14861,13 +16374,13 @@
 
 void GL_APIENTRY VertexAttrib2fContextANGLE(GLeglContext ctx, GLuint index, GLfloat x, GLfloat y)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLfloat x = %f, GLfloat y = %f)", index, x, y);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib2f, context, index, x, y);
         if (context->skipValidation() || ValidateVertexAttrib2f(context, index, x, y))
         {
             context->vertexAttrib2f(index, x, y);
@@ -14877,13 +16390,13 @@
 
 void GL_APIENTRY VertexAttrib2fvContextANGLE(GLeglContext ctx, GLuint index, const GLfloat *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLfloat *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib2fv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttrib2fv(context, index, v))
         {
             context->vertexAttrib2fv(index, v);
@@ -14894,13 +16407,13 @@
 void GL_APIENTRY
 VertexAttrib3fContextANGLE(GLeglContext ctx, GLuint index, GLfloat x, GLfloat y, GLfloat z)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLfloat x = %f, GLfloat y = %f, GLfloat z = %f)", index, x, y, z);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib3f, context, index, x, y, z);
         if (context->skipValidation() || ValidateVertexAttrib3f(context, index, x, y, z))
         {
             context->vertexAttrib3f(index, x, y, z);
@@ -14910,13 +16423,13 @@
 
 void GL_APIENTRY VertexAttrib3fvContextANGLE(GLeglContext ctx, GLuint index, const GLfloat *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLfloat *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib3fv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttrib3fv(context, index, v))
         {
             context->vertexAttrib3fv(index, v);
@@ -14931,7 +16444,6 @@
                                             GLfloat z,
                                             GLfloat w)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLfloat x = %f, GLfloat y = %f, GLfloat z = %f, GLfloat w = %f)",
           index, x, y, z, w);
 
@@ -14939,6 +16451,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib4f, context, index, x, y, z, w);
         if (context->skipValidation() || ValidateVertexAttrib4f(context, index, x, y, z, w))
         {
             context->vertexAttrib4f(index, x, y, z, w);
@@ -14948,13 +16461,13 @@
 
 void GL_APIENTRY VertexAttrib4fvContextANGLE(GLeglContext ctx, GLuint index, const GLfloat *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLfloat *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttrib4fv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttrib4fv(context, index, v))
         {
             context->vertexAttrib4fv(index, v);
@@ -14966,13 +16479,13 @@
                                                  GLuint attribindex,
                                                  GLuint bindingindex)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint attribindex = %u, GLuint bindingindex = %u)", attribindex, bindingindex);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribBinding, context, attribindex, bindingindex);
         if (context->skipValidation() ||
             ValidateVertexAttribBinding(context, attribindex, bindingindex))
         {
@@ -14983,13 +16496,13 @@
 
 void GL_APIENTRY VertexAttribDivisorContextANGLE(GLeglContext ctx, GLuint index, GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint divisor = %u)", index, divisor);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribDivisor, context, index, divisor);
         if (context->skipValidation() || ValidateVertexAttribDivisor(context, index, divisor))
         {
             context->vertexAttribDivisor(index, divisor);
@@ -15001,13 +16514,13 @@
                                                       GLuint index,
                                                       GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint divisor = %u)", index, divisor);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribDivisorANGLE, context, index, divisor);
         if (context->skipValidation() || ValidateVertexAttribDivisorANGLE(context, index, divisor))
         {
             context->vertexAttribDivisor(index, divisor);
@@ -15017,13 +16530,13 @@
 
 void GL_APIENTRY VertexAttribDivisorEXTContextANGLE(GLeglContext ctx, GLuint index, GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint divisor = %u)", index, divisor);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribDivisorEXT, context, index, divisor);
         if (context->skipValidation() || ValidateVertexAttribDivisorEXT(context, index, divisor))
         {
             context->vertexAttribDivisor(index, divisor);
@@ -15038,7 +16551,6 @@
                                                 GLboolean normalized,
                                                 GLuint relativeoffset)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint attribindex = %u, GLint size = %d, GLenum type = 0x%X, GLboolean normalized = %u, "
         "GLuint relativeoffset = %u)",
@@ -15049,6 +16561,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(VertexAttribFormat, context, attribindex, size, typePacked, normalized,
+                      relativeoffset);
         if (context->skipValidation() ||
             ValidateVertexAttribFormat(context, attribindex, size, typePacked, normalized,
                                        relativeoffset))
@@ -15061,7 +16575,6 @@
 void GL_APIENTRY
 VertexAttribI4iContextANGLE(GLeglContext ctx, GLuint index, GLint x, GLint y, GLint z, GLint w)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLint x = %d, GLint y = %d, GLint z = %d, GLint w = %d)", index, x,
           y, z, w);
 
@@ -15069,6 +16582,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribI4i, context, index, x, y, z, w);
         if (context->skipValidation() || ValidateVertexAttribI4i(context, index, x, y, z, w))
         {
             context->vertexAttribI4i(index, x, y, z, w);
@@ -15078,13 +16592,13 @@
 
 void GL_APIENTRY VertexAttribI4ivContextANGLE(GLeglContext ctx, GLuint index, const GLint *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLint *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribI4iv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttribI4iv(context, index, v))
         {
             context->vertexAttribI4iv(index, v);
@@ -15095,7 +16609,6 @@
 void GL_APIENTRY
 VertexAttribI4uiContextANGLE(GLeglContext ctx, GLuint index, GLuint x, GLuint y, GLuint z, GLuint w)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, GLuint x = %u, GLuint y = %u, GLuint z = %u, GLuint w = %u)", index,
           x, y, z, w);
 
@@ -15103,6 +16616,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribI4ui, context, index, x, y, z, w);
         if (context->skipValidation() || ValidateVertexAttribI4ui(context, index, x, y, z, w))
         {
             context->vertexAttribI4ui(index, x, y, z, w);
@@ -15112,13 +16626,13 @@
 
 void GL_APIENTRY VertexAttribI4uivContextANGLE(GLeglContext ctx, GLuint index, const GLuint *v)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint index = %u, const GLuint *v = 0x%016" PRIxPTR ")", index, (uintptr_t)v);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexAttribI4uiv, context, index, v);
         if (context->skipValidation() || ValidateVertexAttribI4uiv(context, index, v))
         {
             context->vertexAttribI4uiv(index, v);
@@ -15132,7 +16646,6 @@
                                                  GLenum type,
                                                  GLuint relativeoffset)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint attribindex = %u, GLint size = %d, GLenum type = 0x%X, GLuint relativeoffset = "
         "%u)",
@@ -15143,6 +16656,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(VertexAttribIFormat, context, attribindex, size, typePacked, relativeoffset);
         if (context->skipValidation() ||
             ValidateVertexAttribIFormat(context, attribindex, size, typePacked, relativeoffset))
         {
@@ -15158,7 +16672,6 @@
                                                   GLsizei stride,
                                                   const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void "
         "*pointer = 0x%016" PRIxPTR ")",
@@ -15169,6 +16682,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(VertexAttribIPointer, context, index, size, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidateVertexAttribIPointer(context, index, size, typePacked, stride, pointer))
         {
@@ -15185,7 +16699,6 @@
                                                  GLsizei stride,
                                                  const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLint size = %d, GLenum type = 0x%X, GLboolean normalized = %u, "
         "GLsizei stride = %d, const void *pointer = 0x%016" PRIxPTR ")",
@@ -15196,6 +16709,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(VertexAttribPointer, context, index, size, typePacked, normalized, stride,
+                      pointer);
         if (context->skipValidation() ||
             ValidateVertexAttribPointer(context, index, size, typePacked, normalized, stride,
                                         pointer))
@@ -15209,13 +16724,13 @@
                                                   GLuint bindingindex,
                                                   GLuint divisor)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint bindingindex = %u, GLuint divisor = %u)", bindingindex, divisor);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(VertexBindingDivisor, context, bindingindex, divisor);
         if (context->skipValidation() ||
             ValidateVertexBindingDivisor(context, bindingindex, divisor))
         {
@@ -15230,7 +16745,6 @@
                                            GLsizei stride,
                                            const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -15241,6 +16755,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         VertexAttribType typePacked = FromGLenum<VertexAttribType>(type);
+        ANGLE_CAPTURE(VertexPointer, context, size, typePacked, stride, pointer);
         if (context->skipValidation() ||
             ValidateVertexPointer(context, size, typePacked, stride, pointer))
         {
@@ -15252,7 +16767,6 @@
 void GL_APIENTRY
 ViewportContextANGLE(GLeglContext ctx, GLint x, GLint y, GLsizei width, GLsizei height)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d)", x, y, width,
           height);
 
@@ -15260,6 +16774,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(Viewport, context, x, y, width, height);
         if (context->skipValidation() || ValidateViewport(context, x, y, width, height))
         {
             context->viewport(x, y, width, height);
@@ -15267,12 +16782,42 @@
     }
 }
 
+void GL_APIENTRY WaitSemaphoreEXTContextANGLE(GLeglContext ctx,
+                                              GLuint semaphore,
+                                              GLuint numBufferBarriers,
+                                              const GLuint *buffers,
+                                              GLuint numTextureBarriers,
+                                              const GLuint *textures,
+                                              const GLenum *srcLayouts)
+{
+    EVENT(
+        "(GLuint semaphore = %u, GLuint numBufferBarriers = %u, const GLuint *buffers = "
+        "0x%016" PRIxPTR ", GLuint numTextureBarriers = %u, const GLuint *textures = 0x%016" PRIxPTR
+        ", const GLenum *srcLayouts = 0x%016" PRIxPTR ")",
+        semaphore, numBufferBarriers, (uintptr_t)buffers, numTextureBarriers, (uintptr_t)textures,
+        (uintptr_t)srcLayouts);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(WaitSemaphoreEXT, context, semaphore, numBufferBarriers, buffers,
+                      numTextureBarriers, textures, srcLayouts);
+        if (context->skipValidation() ||
+            ValidateWaitSemaphoreEXT(context, semaphore, numBufferBarriers, buffers,
+                                     numTextureBarriers, textures, srcLayouts))
+        {
+            context->waitSemaphore(semaphore, numBufferBarriers, buffers, numTextureBarriers,
+                                   textures, srcLayouts);
+        }
+    }
+}
+
 void GL_APIENTRY WaitSyncContextANGLE(GLeglContext ctx,
                                       GLsync sync,
                                       GLbitfield flags,
                                       GLuint64 timeout)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsync sync = 0x%016" PRIxPTR ", GLbitfield flags = 0x%X, GLuint64 timeout = %llu)",
           (uintptr_t)sync, flags, static_cast<unsigned long long>(timeout));
 
@@ -15280,6 +16825,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(WaitSync, context, sync, flags, timeout);
         if (context->skipValidation() || ValidateWaitSync(context, sync, flags, timeout))
         {
             context->waitSync(sync, flags, timeout);
@@ -15293,7 +16839,6 @@
                                               GLsizei stride,
                                               const void *pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint size = %d, GLenum type = 0x%X, GLsizei stride = %d, const void *pointer = "
         "0x%016" PRIxPTR ")",
@@ -15303,6 +16848,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(WeightPointerOES, context, size, type, stride, pointer);
         if (context->skipValidation() ||
             ValidateWeightPointerOES(context, size, type, stride, pointer))
         {
@@ -15316,7 +16862,6 @@
                                                          GLint location,
                                                          const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint program = %u, GLint location = %d, const GLchar* name = 0x%016" PRIxPTR ")",
           program, location, (uintptr_t)name);
 
@@ -15324,6 +16869,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindUniformLocationCHROMIUM, context, program, location, name);
         if (context->skipValidation() ||
             ValidateBindUniformLocationCHROMIUM(context, program, location, name))
         {
@@ -15334,13 +16880,13 @@
 
 void GL_APIENTRY CoverageModulationCHROMIUMContextANGLE(GLeglContext ctx, GLenum components)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum components = 0x%X)", components);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CoverageModulationCHROMIUM, context, components);
         if (context->skipValidation() || ValidateCoverageModulationCHROMIUM(context, components))
         {
             context->coverageModulation(components);
@@ -15352,7 +16898,6 @@
                                                  GLenum matrixMode,
                                                  const GLfloat *matrix)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum matrixMode = 0x%X, const GLfloat * matrix = 0x%016" PRIxPTR ")", matrixMode,
           (uintptr_t)matrix);
 
@@ -15360,6 +16905,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MatrixLoadfCHROMIUM, context, matrixMode, matrix);
         if (context->skipValidation() || ValidateMatrixLoadfCHROMIUM(context, matrixMode, matrix))
         {
             context->matrixLoadf(matrixMode, matrix);
@@ -15369,13 +16915,13 @@
 
 void GL_APIENTRY MatrixLoadIdentityCHROMIUMContextANGLE(GLeglContext ctx, GLenum matrixMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum matrixMode = 0x%X)", matrixMode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(MatrixLoadIdentityCHROMIUM, context, matrixMode);
         if (context->skipValidation() || ValidateMatrixLoadIdentityCHROMIUM(context, matrixMode))
         {
             context->matrixLoadIdentity(matrixMode);
@@ -15385,13 +16931,13 @@
 
 GLuint GL_APIENTRY GenPathsCHROMIUMContextANGLE(GLeglContext ctx, GLsizei range)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei range = %d)", range);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GenPathsCHROMIUM, context, range);
         if (context->skipValidation() || ValidateGenPathsCHROMIUM(context, range))
         {
             return context->genPaths(range);
@@ -15403,13 +16949,13 @@
 
 void GL_APIENTRY DeletePathsCHROMIUMContextANGLE(GLeglContext ctx, GLuint first, GLsizei range)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint first = %u, GLsizei range = %d)", first, range);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(DeletePathsCHROMIUM, context, first, range);
         if (context->skipValidation() || ValidateDeletePathsCHROMIUM(context, first, range))
         {
             context->deletePaths(first, range);
@@ -15419,13 +16965,13 @@
 
 GLboolean GL_APIENTRY IsPathCHROMIUMContextANGLE(GLeglContext ctx, GLuint path)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u)", path);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(IsPathCHROMIUM, context, path);
         if (context->skipValidation() || ValidateIsPathCHROMIUM(context, path))
         {
             return context->isPath(path);
@@ -15443,7 +16989,6 @@
                                                   GLenum coordType,
                                                   const void *coords)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLsizei numCommands = %d, const GLubyte * commands = 0x%016" PRIxPTR
           ", GLsizei numCoords = %d, GLenum coordType = 0x%X, const void* coords = 0x%016" PRIxPTR
           ")",
@@ -15453,6 +16998,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PathCommandsCHROMIUM, context, path, numCommands, commands, numCoords,
+                      coordType, coords);
         if (context->skipValidation() ||
             ValidatePathCommandsCHROMIUM(context, path, numCommands, commands, numCoords, coordType,
                                          coords))
@@ -15467,13 +17014,13 @@
                                                     GLenum pname,
                                                     GLfloat value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLfloat value = %f)", path, pname, value);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PathParameterfCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidatePathParameterfCHROMIUM(context, path, pname, value))
         {
@@ -15487,13 +17034,13 @@
                                                     GLenum pname,
                                                     GLint value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLint value = %d)", path, pname, value);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PathParameteriCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidatePathParameteriCHROMIUM(context, path, pname, value))
         {
@@ -15507,7 +17054,6 @@
                                                         GLenum pname,
                                                         GLfloat *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLfloat * value = 0x%016" PRIxPTR ")", path,
           pname, (uintptr_t)value);
 
@@ -15515,6 +17061,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetPathParameterfvCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidateGetPathParameterfvCHROMIUM(context, path, pname, value))
         {
@@ -15528,7 +17075,6 @@
                                                         GLenum pname,
                                                         GLint *value)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum pname = 0x%X, GLint * value = 0x%016" PRIxPTR ")", path, pname,
           (uintptr_t)value);
 
@@ -15536,6 +17082,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetPathParameterivCHROMIUM, context, path, pname, value);
         if (context->skipValidation() ||
             ValidateGetPathParameterivCHROMIUM(context, path, pname, value))
         {
@@ -15549,13 +17096,13 @@
                                                      GLint ref,
                                                      GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum func = 0x%X, GLint ref = %d, GLuint mask = %u)", func, ref, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(PathStencilFuncCHROMIUM, context, func, ref, mask);
         if (context->skipValidation() || ValidatePathStencilFuncCHROMIUM(context, func, ref, mask))
         {
             context->pathStencilFunc(func, ref, mask);
@@ -15568,13 +17115,13 @@
                                                      GLenum fillMode,
                                                      GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum fillMode = 0x%X, GLuint mask = %u)", path, fillMode, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilFillPathCHROMIUM, context, path, fillMode, mask);
         if (context->skipValidation() ||
             ValidateStencilFillPathCHROMIUM(context, path, fillMode, mask))
         {
@@ -15588,13 +17135,13 @@
                                                        GLint reference,
                                                        GLuint mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLint reference = %d, GLuint mask = %u)", path, reference, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilStrokePathCHROMIUM, context, path, reference, mask);
         if (context->skipValidation() ||
             ValidateStencilStrokePathCHROMIUM(context, path, reference, mask))
         {
@@ -15605,13 +17152,13 @@
 
 void GL_APIENTRY CoverFillPathCHROMIUMContextANGLE(GLeglContext ctx, GLuint path, GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum coverMode = 0x%X)", path, coverMode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CoverFillPathCHROMIUM, context, path, coverMode);
         if (context->skipValidation() || ValidateCoverFillPathCHROMIUM(context, path, coverMode))
         {
             context->coverFillPath(path, coverMode);
@@ -15623,13 +17170,13 @@
                                                      GLuint path,
                                                      GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum coverMode = 0x%X)", path, coverMode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CoverStrokePathCHROMIUM, context, path, coverMode);
         if (context->skipValidation() || ValidateCoverStrokePathCHROMIUM(context, path, coverMode))
         {
             context->coverStrokePath(path, coverMode);
@@ -15643,7 +17190,6 @@
                                                               GLuint mask,
                                                               GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum coverMode = 0x%X)",
           path, fillMode, mask, coverMode);
 
@@ -15651,6 +17197,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilThenCoverFillPathCHROMIUM, context, path, fillMode, mask, coverMode);
         if (context->skipValidation() ||
             ValidateStencilThenCoverFillPathCHROMIUM(context, path, fillMode, mask, coverMode))
         {
@@ -15665,7 +17212,6 @@
                                                                 GLuint mask,
                                                                 GLenum coverMode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint path = %u, GLint reference = %d, GLuint mask = %u, GLenum coverMode = 0x%X)",
           path, reference, mask, coverMode);
 
@@ -15673,6 +17219,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilThenCoverStrokePathCHROMIUM, context, path, reference, mask,
+                      coverMode);
         if (context->skipValidation() ||
             ValidateStencilThenCoverStrokePathCHROMIUM(context, path, reference, mask, coverMode))
         {
@@ -15690,7 +17238,6 @@
                                                             GLenum transformType,
                                                             const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum coverMode = 0x%X, GLenum transformType = 0x%X, const "
           "GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15701,6 +17248,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CoverFillPathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateCoverFillPathInstancedCHROMIUM(context, numPath, pathNameType, paths, pathBase,
                                                    coverMode, transformType, transformValues))
@@ -15720,7 +17269,6 @@
                                                               GLenum transformType,
                                                               const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum coverMode = 0x%X, GLenum transformType = 0x%X, const "
           "GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15731,6 +17279,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CoverStrokePathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, coverMode, transformType, transformValues);
         if (context->skipValidation() || ValidateCoverStrokePathInstancedCHROMIUM(
                                              context, numPath, pathNameType, paths, pathBase,
                                              coverMode, transformType, transformValues))
@@ -15751,7 +17301,6 @@
                                                                 GLenum transformType,
                                                                 const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPath = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLint reference = %d, GLuint mask = %u, GLenum transformType = "
           "0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15762,6 +17311,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilStrokePathInstancedCHROMIUM, context, numPath, pathNameType, paths,
+                      pathBase, reference, mask, transformType, transformValues);
         if (context->skipValidation() || ValidateStencilStrokePathInstancedCHROMIUM(
                                              context, numPath, pathNameType, paths, pathBase,
                                              reference, mask, transformType, transformValues))
@@ -15782,7 +17333,6 @@
                                                               GLenum transformType,
                                                               const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum transformType "
           "= 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15793,6 +17343,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilFillPathInstancedCHROMIUM, context, numPaths, pathNameType, paths,
+                      pathBase, fillMode, mask, transformType, transformValues);
         if (context->skipValidation() || ValidateStencilFillPathInstancedCHROMIUM(
                                              context, numPaths, pathNameType, paths, pathBase,
                                              fillMode, mask, transformType, transformValues))
@@ -15815,7 +17367,6 @@
                                                       GLenum transformType,
                                                       const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLenum fillMode = 0x%X, GLuint mask = %u, GLenum coverMode = "
           "0x%X, GLenum transformType = 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15826,6 +17377,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilThenCoverFillPathInstancedCHROMIUM, context, numPaths, pathNameType,
+                      paths, pathBase, fillMode, mask, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateStencilThenCoverFillPathInstancedCHROMIUM(
                 context, numPaths, pathNameType, paths, pathBase, fillMode, mask, coverMode,
@@ -15850,7 +17403,6 @@
                                                         GLenum transformType,
                                                         const GLfloat *transformValues)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLsizei numPaths = %d, GLenum pathNameType = 0x%X, const void * paths = 0x%016" PRIxPTR
           ", GLuint pathBase = %u, GLint reference = %d, GLuint mask = %u, GLenum coverMode = "
           "0x%X, GLenum transformType = 0x%X, const GLfloat * transformValues = 0x%016" PRIxPTR ")",
@@ -15861,6 +17413,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(StencilThenCoverStrokePathInstancedCHROMIUM, context, numPaths, pathNameType,
+                      paths, pathBase, reference, mask, coverMode, transformType, transformValues);
         if (context->skipValidation() ||
             ValidateStencilThenCoverStrokePathInstancedCHROMIUM(
                 context, numPaths, pathNameType, paths, pathBase, reference, mask, coverMode,
@@ -15878,7 +17432,6 @@
                                                                GLint location,
                                                                const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint programs = %u, GLint location = %d, const GLchar * name = 0x%016" PRIxPTR ")",
           programs, location, (uintptr_t)name);
 
@@ -15886,6 +17439,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(BindFragmentInputLocationCHROMIUM, context, programs, location, name);
         if (context->skipValidation() ||
             ValidateBindFragmentInputLocationCHROMIUM(context, programs, location, name))
         {
@@ -15901,7 +17455,6 @@
                                                                  GLint components,
                                                                  const GLfloat *coeffs)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLenum genMode = 0x%X, GLint components = %d, "
         "const GLfloat * coeffs = 0x%016" PRIxPTR ")",
@@ -15911,6 +17464,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ProgramPathFragmentInputGenCHROMIUM, context, program, location, genMode,
+                      components, coeffs);
         if (context->skipValidation() ||
             ValidateProgramPathFragmentInputGenCHROMIUM(context, program, location, genMode,
                                                         components, coeffs))
@@ -15932,7 +17487,6 @@
                                                  GLboolean unpackPremultiplyAlpha,
                                                  GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint internalFormat = %d, GLenum destType = 0x%X, GLboolean "
@@ -15946,6 +17500,9 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopyTextureCHROMIUM, context, sourceId, sourceLevel, destTargetPacked, destId,
+                      destLevel, internalFormat, destType, unpackFlipY, unpackPremultiplyAlpha,
+                      unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopyTextureCHROMIUM(context, sourceId, sourceLevel, destTargetPacked, destId,
                                         destLevel, internalFormat, destType, unpackFlipY,
@@ -15974,7 +17531,6 @@
                                                     GLboolean unpackPremultiplyAlpha,
                                                     GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint xoffset = %d, GLint yoffset = %d, GLint x = %d, GLint y = "
@@ -15988,6 +17544,9 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopySubTextureCHROMIUM, context, sourceId, sourceLevel, destTargetPacked,
+                      destId, destLevel, xoffset, yoffset, x, y, width, height, unpackFlipY,
+                      unpackPremultiplyAlpha, unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopySubTextureCHROMIUM(context, sourceId, sourceLevel, destTargetPacked, destId,
                                            destLevel, xoffset, yoffset, x, y, width, height,
@@ -16005,13 +17564,13 @@
                                                            GLuint sourceId,
                                                            GLuint destId)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint sourceId = %u, GLuint destId = %u)", sourceId, destId);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(CompressedCopyTextureCHROMIUM, context, sourceId, destId);
         if (context->skipValidation() ||
             ValidateCompressedCopyTextureCHROMIUM(context, sourceId, destId))
         {
@@ -16022,13 +17581,13 @@
 
 void GL_APIENTRY RequestExtensionANGLEContextANGLE(GLeglContext ctx, const GLchar *name)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(const GLchar * name = 0x%016" PRIxPTR ")", (uintptr_t)name);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(RequestExtensionANGLE, context, name);
         if (context->skipValidation() || ValidateRequestExtensionANGLE(context, name))
         {
             context->requestExtension(name);
@@ -16042,7 +17601,6 @@
                                                     GLsizei *length,
                                                     GLboolean *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLboolean * params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -16051,6 +17609,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetBooleanvRobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetBooleanvRobustANGLE(context, pname, bufSize, length, params))
         {
@@ -16066,7 +17625,6 @@
                                                              GLsizei *length,
                                                              GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16077,6 +17635,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameterivRobustANGLE, context, targetPacked, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetBufferParameterivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -16091,7 +17651,6 @@
                                                   GLsizei *length,
                                                   GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLfloat * params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -16100,6 +17659,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFloatvRobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetFloatvRobustANGLE(context, pname, bufSize, length, params))
         {
@@ -16116,7 +17676,6 @@
                                                                             GLsizei *length,
                                                                             GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum attachment = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = "
         "%d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16126,6 +17685,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFramebufferAttachmentParameterivRobustANGLE, context, target, attachment,
+                      pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetFramebufferAttachmentParameterivRobustANGLE(context, target, attachment,
                                                                    pname, bufSize, length, params))
@@ -16142,7 +17703,6 @@
                                                     GLsizei *length,
                                                     GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLint * data = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)data);
@@ -16151,6 +17711,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetIntegervRobustANGLE, context, pname, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetIntegervRobustANGLE(context, pname, bufSize, length, data))
         {
@@ -16166,7 +17727,6 @@
                                                      GLsizei *length,
                                                      GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16176,6 +17736,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramivRobustANGLE, context, program, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetProgramivRobustANGLE(context, program, pname, bufSize, length, params))
         {
@@ -16191,7 +17752,6 @@
                                                                    GLsizei *length,
                                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16201,6 +17761,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetRenderbufferParameterivRobustANGLE, context, target, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetRenderbufferParameterivRobustANGLE(
                                              context, target, pname, bufSize, length, params))
         {
@@ -16216,7 +17778,6 @@
                                                     GLsizei *length,
                                                     GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint shader = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16226,6 +17787,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetShaderivRobustANGLE, context, shader, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetShaderivRobustANGLE(context, shader, pname, bufSize, length, params))
         {
@@ -16241,7 +17803,6 @@
                                                           GLsizei *length,
                                                           GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -16252,6 +17813,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterfvRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterfvRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -16267,7 +17830,6 @@
                                                           GLsizei *length,
                                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16278,6 +17840,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -16293,7 +17857,6 @@
                                                      GLsizei *length,
                                                      GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -16303,6 +17866,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformfvRobustANGLE, context, program, location, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetUniformfvRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -16318,7 +17882,6 @@
                                                      GLsizei *length,
                                                      GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16328,6 +17891,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformivRobustANGLE, context, program, location, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetUniformivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -16343,7 +17907,6 @@
                                                           GLsizei *length,
                                                           GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -16353,6 +17916,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribfvRobustANGLE, context, index, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribfvRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -16368,7 +17932,6 @@
                                                           GLsizei *length,
                                                           GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16378,6 +17941,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribivRobustANGLE, context, index, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -16393,7 +17957,6 @@
                                                                 GLsizei *length,
                                                                 void **pointer)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", void ** pointer = 0x%016" PRIxPTR ")",
@@ -16403,6 +17966,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribPointervRobustANGLE, context, index, pname, bufSize, length,
+                      pointer);
         if (context->skipValidation() || ValidateGetVertexAttribPointervRobustANGLE(
                                              context, index, pname, bufSize, length, pointer))
         {
@@ -16424,7 +17989,6 @@
                                                    GLsizei *rows,
                                                    void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
@@ -16437,6 +18001,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReadPixelsRobustANGLE, context, x, y, width, height, format, type, bufSize,
+                      length, columns, rows, pixels);
         if (context->skipValidation() ||
             ValidateReadPixelsRobustANGLE(context, x, y, width, height, format, type, bufSize,
                                           length, columns, rows, pixels))
@@ -16459,7 +18025,6 @@
                                                    GLsizei bufSize,
                                                    const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLint border = %d, GLenum format = 0x%X, GLenum type = 0x%X, GLsizei "
@@ -16472,6 +18037,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage2DRobustANGLE, context, targetPacked, level, internalformat, width,
+                      height, border, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexImage2DRobustANGLE(context, targetPacked, level, internalformat, width,
                                           height, border, format, type, bufSize, pixels))
@@ -16488,7 +18055,6 @@
                                                        GLsizei bufSize,
                                                        const GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLfloat * params "
         "= 0x%016" PRIxPTR ")",
@@ -16499,6 +18065,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterfvRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterfvRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -16513,7 +18080,6 @@
                                                        GLsizei bufSize,
                                                        const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -16524,6 +18090,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -16544,7 +18111,6 @@
                                                       GLsizei bufSize,
                                                       const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLsizei "
         "width = %d, GLsizei height = %d, GLenum format = 0x%X, GLenum type = 0x%X, GLsizei "
@@ -16556,6 +18122,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage2DRobustANGLE, context, targetPacked, level, xoffset, yoffset,
+                      width, height, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage2DRobustANGLE(context, targetPacked, level, xoffset, yoffset, width,
                                              height, format, type, bufSize, pixels))
@@ -16579,7 +18147,6 @@
                                                    GLsizei bufSize,
                                                    const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
         "GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLenum format = 0x%X, GLenum "
@@ -16591,7 +18158,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage3DRobustANGLE, context, targetPacked, level, internalformat, width,
+                      height, depth, border, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexImage3DRobustANGLE(context, targetPacked, level, internalformat, width,
                                           height, depth, border, format, type, bufSize, pixels))
@@ -16616,7 +18185,6 @@
                                                       GLsizei bufSize,
                                                       const void *pixels)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -16629,7 +18197,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexSubImage3DRobustANGLE, context, targetPacked, level, xoffset, yoffset,
+                      zoffset, width, height, depth, format, type, bufSize, pixels);
         if (context->skipValidation() ||
             ValidateTexSubImage3DRobustANGLE(context, targetPacked, level, xoffset, yoffset,
                                              zoffset, width, height, depth, format, type, bufSize,
@@ -16652,7 +18222,6 @@
                                                              GLsizei dataSize,
                                                              const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLint border = %d, GLsizei imageSize = %d, GLsizei dataSize = "
@@ -16664,6 +18233,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage2DRobustANGLE, context, targetPacked, level, internalformat,
+                      width, height, border, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexImage2DRobustANGLE(
                                              context, targetPacked, level, internalformat, width,
                                              height, border, imageSize, dataSize, data))
@@ -16686,7 +18257,6 @@
                                                                 GLsizei dataSize,
                                                                 const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLsizei xoffset = %d, GLsizei yoffset = %d, "
         "GLsizei width = %d, GLsizei height = %d, GLenum format = 0x%X, GLsizei imageSize = %d, "
@@ -16699,6 +18269,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage2DRobustANGLE, context, targetPacked, level, xoffset,
+                      yoffset, width, height, format, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexSubImage2DRobustANGLE(
                                              context, targetPacked, level, xoffset, yoffset, width,
                                              height, format, imageSize, dataSize, data))
@@ -16721,7 +18293,6 @@
                                                              GLsizei dataSize,
                                                              const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum internalformat = 0x%X, GLsizei width = "
         "%d, GLsizei height = %d, GLsizei depth = %d, GLint border = %d, GLsizei imageSize = %d, "
@@ -16733,7 +18304,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexImage3DRobustANGLE, context, targetPacked, level, internalformat,
+                      width, height, depth, border, imageSize, dataSize, data);
         if (context->skipValidation() || ValidateCompressedTexImage3DRobustANGLE(
                                              context, targetPacked, level, internalformat, width,
                                              height, depth, border, imageSize, dataSize, data))
@@ -16758,7 +18331,6 @@
                                                                 GLsizei dataSize,
                                                                 const GLvoid *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLint xoffset = %d, GLint yoffset = %d, GLint "
         "zoffset = %d, GLsizei width = %d, GLsizei height = %d, GLsizei depth = %d, GLenum format "
@@ -16771,7 +18343,9 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        TextureType targetPacked = FromGLenum<TextureType>(target);
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(CompressedTexSubImage3DRobustANGLE, context, targetPacked, level, xoffset,
+                      yoffset, zoffset, width, height, depth, format, imageSize, dataSize, data);
         if (context->skipValidation() ||
             ValidateCompressedTexSubImage3DRobustANGLE(context, targetPacked, level, xoffset,
                                                        yoffset, zoffset, width, height, depth,
@@ -16791,7 +18365,6 @@
                                                    GLsizei *length,
                                                    GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16802,6 +18375,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         QueryType targetPacked = FromGLenum<QueryType>(target);
+        ANGLE_CAPTURE(GetQueryivRobustANGLE, context, targetPacked, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryivRobustANGLE(context, targetPacked, pname, bufSize, length, params))
         {
@@ -16817,7 +18391,6 @@
                                                           GLsizei *length,
                                                           GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -16827,6 +18400,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectuivRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectuivRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -16842,7 +18416,6 @@
                                                           GLsizei *length,
                                                           void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", void ** params = 0x%016" PRIxPTR ")",
@@ -16853,6 +18426,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferPointervRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetBufferPointervRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -16868,7 +18443,6 @@
                                                       GLsizei *length,
                                                       GLint *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * data = 0x%016" PRIxPTR ")",
@@ -16878,6 +18452,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetIntegeri_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetIntegeri_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -16894,7 +18469,6 @@
                                                             GLsizei *length,
                                                             GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum internalformat = 0x%X, GLenum pname = 0x%X, GLsizei bufSize "
         "= %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16904,6 +18478,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInternalformativRobustANGLE, context, target, internalformat, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetInternalformativRobustANGLE(context, target, internalformat, pname, bufSize,
                                                    length, params))
@@ -16921,7 +18497,6 @@
                                                            GLsizei *length,
                                                            GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -16931,6 +18506,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribIivRobustANGLE, context, index, pname, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribIivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -16946,7 +18523,6 @@
                                                             GLsizei *length,
                                                             GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint index = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -16956,6 +18532,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetVertexAttribIuivRobustANGLE, context, index, pname, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetVertexAttribIuivRobustANGLE(context, index, pname, bufSize, length, params))
         {
@@ -16971,7 +18549,6 @@
                                                       GLsizei *length,
                                                       GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -16981,6 +18558,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetUniformuivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetUniformuivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -16997,7 +18576,6 @@
                                                                 GLsizei *length,
                                                                 GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLuint uniformBlockIndex = %u, GLenum pname = 0x%X, GLsizei bufSize "
         "= %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17007,6 +18585,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetActiveUniformBlockivRobustANGLE, context, program, uniformBlockIndex,
+                      pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetActiveUniformBlockivRobustANGLE(context, program, uniformBlockIndex, pname,
                                                        bufSize, length, params))
@@ -17023,7 +18603,6 @@
                                                       GLsizei *length,
                                                       GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", GLint64 * data = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)data);
@@ -17032,6 +18611,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInteger64vRobustANGLE, context, pname, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetInteger64vRobustANGLE(context, pname, bufSize, length, data))
         {
@@ -17047,7 +18627,6 @@
                                                         GLsizei *length,
                                                         GLint64 *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * data = 0x%016" PRIxPTR ")",
@@ -17057,6 +18636,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetInteger64i_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetInteger64i_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -17072,7 +18652,6 @@
                                                                GLsizei *length,
                                                                GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * params = 0x%016" PRIxPTR ")",
@@ -17083,6 +18662,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         BufferBinding targetPacked = FromGLenum<BufferBinding>(target);
+        ANGLE_CAPTURE(GetBufferParameteri64vRobustANGLE, context, targetPacked, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetBufferParameteri64vRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -17097,7 +18678,6 @@
                                                            GLsizei bufSize,
                                                            const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLuint pname = %u, GLsizei bufSize = %d, const GLint * param = "
         "0x%016" PRIxPTR ")",
@@ -17107,6 +18687,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -17121,7 +18702,6 @@
                                                            GLsizei bufSize,
                                                            const GLfloat *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLfloat * param = "
         "0x%016" PRIxPTR ")",
@@ -17131,6 +18711,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterfvRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterfvRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -17146,7 +18727,6 @@
                                                               GLsizei *length,
                                                               GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17156,6 +18736,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -17171,7 +18753,6 @@
                                                               GLsizei *length,
                                                               GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -17181,6 +18762,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterfvRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterfvRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -17196,7 +18779,6 @@
                                                                   GLsizei *length,
                                                                   GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17206,6 +18788,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetFramebufferParameterivRobustANGLE, context, sampler, pname, bufSize,
+                      length, params);
         if (context->skipValidation() || ValidateGetFramebufferParameterivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -17222,7 +18806,6 @@
                                                               GLsizei *length,
                                                               GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLenum programInterface = 0x%X, GLenum pname = 0x%X, GLsizei "
         "bufSize = %d, GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17232,6 +18815,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetProgramInterfaceivRobustANGLE, context, program, programInterface, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetProgramInterfaceivRobustANGLE(context, program, programInterface, pname,
                                                      bufSize, length, params))
@@ -17249,7 +18834,6 @@
                                                       GLsizei *length,
                                                       GLboolean *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLboolean * data = 0x%016" PRIxPTR ")",
@@ -17259,6 +18843,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetBooleani_vRobustANGLE, context, target, index, bufSize, length, data);
         if (context->skipValidation() ||
             ValidateGetBooleani_vRobustANGLE(context, target, index, bufSize, length, data))
         {
@@ -17274,7 +18859,6 @@
                                                          GLsizei *length,
                                                          GLfloat *val)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum pname = 0x%X, GLuint index = %u, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * val = 0x%016" PRIxPTR ")",
@@ -17284,6 +18868,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetMultisamplefvRobustANGLE, context, pname, index, bufSize, length, val);
         if (context->skipValidation() ||
             ValidateGetMultisamplefvRobustANGLE(context, pname, index, bufSize, length, val))
         {
@@ -17300,7 +18885,6 @@
                                                                GLsizei *length,
                                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLsizei bufSize = %d, "
         "GLsizei * length = 0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17311,6 +18895,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterivRobustANGLE, context, targetPacked, level, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterivRobustANGLE(context, targetPacked, level, pname, bufSize,
                                                       length, params))
@@ -17329,7 +18915,6 @@
                                                                GLsizei *length,
                                                                GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLsizei bufSize = %d, "
         "GLsizei * length = 0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -17340,6 +18925,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterfvRobustANGLE, context, targetPacked, level, pname,
+                      bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterfvRobustANGLE(context, targetPacked, level, pname, bufSize,
                                                       length, params))
@@ -17356,7 +18943,6 @@
                                                                GLsizei *length,
                                                                void **params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
           ", void ** params = 0x%016" PRIxPTR ")",
           pname, bufSize, (uintptr_t)length, (uintptr_t)params);
@@ -17365,6 +18951,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetPointervRobustANGLERobustANGLE, context, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetPointervRobustANGLERobustANGLE(context, pname, bufSize, length, params))
         {
@@ -17386,7 +18973,6 @@
                                                     GLsizei *rows,
                                                     void *data)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLint x = %d, GLint y = %d, GLsizei width = %d, GLsizei height = %d, GLenum format = "
         "0x%X, GLenum type = 0x%X, GLsizei bufSize = %d, GLsizei * length = 0x%016" PRIxPTR
@@ -17399,6 +18985,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(ReadnPixelsRobustANGLE, context, x, y, width, height, format, type, bufSize,
+                      length, columns, rows, data);
         if (context->skipValidation() ||
             ValidateReadnPixelsRobustANGLE(context, x, y, width, height, format, type, bufSize,
                                            length, columns, rows, data))
@@ -17416,7 +19004,6 @@
                                                       GLsizei *length,
                                                       GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLfloat * params = 0x%016" PRIxPTR ")",
@@ -17426,6 +19013,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetnUniformfvRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformfvRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -17441,7 +19030,6 @@
                                                       GLsizei *length,
                                                       GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17451,6 +19039,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetnUniformivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -17466,7 +19056,6 @@
                                                        GLsizei *length,
                                                        GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint program = %u, GLint location = %d, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -17476,6 +19065,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetnUniformuivRobustANGLE, context, program, location, bufSize, length,
+                      params);
         if (context->skipValidation() ||
             ValidateGetnUniformuivRobustANGLE(context, program, location, bufSize, length, params))
         {
@@ -17490,7 +19081,6 @@
                                                         GLsizei bufSize,
                                                         const GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -17501,6 +19091,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterIivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -17515,7 +19106,6 @@
                                                          GLsizei bufSize,
                                                          const GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLuint * params = "
         "0x%016" PRIxPTR ")",
@@ -17526,6 +19116,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexParameterIuivRobustANGLE, context, targetPacked, pname, bufSize, params);
         if (context->skipValidation() ||
             ValidateTexParameterIuivRobustANGLE(context, targetPacked, pname, bufSize, params))
         {
@@ -17541,7 +19132,6 @@
                                                            GLsizei *length,
                                                            GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17552,6 +19142,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterIivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -17567,7 +19159,6 @@
                                                             GLsizei *length,
                                                             GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -17578,6 +19169,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(GetTexParameterIuivRobustANGLE, context, targetPacked, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetTexParameterIuivRobustANGLE(
                                              context, targetPacked, pname, bufSize, length, params))
         {
@@ -17592,7 +19185,6 @@
                                                             GLsizei bufSize,
                                                             const GLint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLint * param = "
         "0x%016" PRIxPTR ")",
@@ -17602,6 +19194,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterIivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -17616,7 +19209,6 @@
                                                              GLsizei bufSize,
                                                              const GLuint *param)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, const GLuint * param = "
         "0x%016" PRIxPTR ")",
@@ -17626,6 +19218,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SamplerParameterIuivRobustANGLE, context, sampler, pname, bufSize, param);
         if (context->skipValidation() ||
             ValidateSamplerParameterIuivRobustANGLE(context, sampler, pname, bufSize, param))
         {
@@ -17641,7 +19234,6 @@
                                                                GLsizei *length,
                                                                GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17651,6 +19243,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterIivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterIivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -17666,7 +19260,6 @@
                                                                 GLsizei *length,
                                                                 GLuint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sampler = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint * params = 0x%016" PRIxPTR ")",
@@ -17676,6 +19269,8 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetSamplerParameterIuivRobustANGLE, context, sampler, pname, bufSize, length,
+                      params);
         if (context->skipValidation() || ValidateGetSamplerParameterIuivRobustANGLE(
                                              context, sampler, pname, bufSize, length, params))
         {
@@ -17691,7 +19286,6 @@
                                                          GLsizei *length,
                                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint * params = 0x%016" PRIxPTR ")",
@@ -17701,6 +19295,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectivRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectivRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -17716,7 +19311,6 @@
                                                            GLsizei *length,
                                                            GLint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLint64 * params = 0x%016" PRIxPTR ")",
@@ -17726,6 +19320,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjecti64vRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjecti64vRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -17741,7 +19336,6 @@
                                                             GLsizei *length,
                                                             GLuint64 *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint id = %u, GLenum pname = 0x%X, GLsizei bufSize = %d, GLsizei * length = "
         "0x%016" PRIxPTR ", GLuint64 * params = 0x%016" PRIxPTR ")",
@@ -17751,6 +19345,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetQueryObjectui64vRobustANGLE, context, id, pname, bufSize, length, params);
         if (context->skipValidation() ||
             ValidateGetQueryObjectui64vRobustANGLE(context, id, pname, bufSize, length, params))
         {
@@ -17771,7 +19366,6 @@
                                                 GLboolean unpackPremultiplyAlpha,
                                                 GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint internalFormat = %d, GLenum destType = 0x%X, GLboolean "
@@ -17785,6 +19379,9 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopyTexture3DANGLE, context, sourceId, sourceLevel, destTargetPacked, destId,
+                      destLevel, internalFormat, destType, unpackFlipY, unpackPremultiplyAlpha,
+                      unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopyTexture3DANGLE(context, sourceId, sourceLevel, destTargetPacked, destId,
                                        destLevel, internalFormat, destType, unpackFlipY,
@@ -17816,7 +19413,6 @@
                                                    GLboolean unpackPremultiplyAlpha,
                                                    GLboolean unpackUnmultiplyAlpha)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLuint sourceId = %u, GLint sourceLevel = %d, GLenum destTarget = 0x%X, GLuint destId = "
         "%u, GLint destLevel = %d, GLint xoffset = %d, GLint yoffset = %d, GLint zoffset = %d, "
@@ -17831,6 +19427,9 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget destTargetPacked = FromGLenum<TextureTarget>(destTarget);
+        ANGLE_CAPTURE(CopySubTexture3DANGLE, context, sourceId, sourceLevel, destTargetPacked,
+                      destId, destLevel, xoffset, yoffset, zoffset, x, y, z, width, height, depth,
+                      unpackFlipY, unpackPremultiplyAlpha, unpackUnmultiplyAlpha);
         if (context->skipValidation() ||
             ValidateCopySubTexture3DANGLE(context, sourceId, sourceLevel, destTargetPacked, destId,
                                           destLevel, xoffset, yoffset, zoffset, x, y, z, width,
@@ -17852,7 +19451,6 @@
                                                           GLsizei height,
                                                           GLboolean fixedsamplelocations)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLsizei samples = %d, GLenum internalformat = 0x%X, GLsizei width "
         "= %d, GLsizei height = %d, GLboolean fixedsamplelocations = %u)",
@@ -17863,6 +19461,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(TexStorage2DMultisampleANGLE, context, targetPacked, samples, internalformat,
+                      width, height, fixedsamplelocations);
         if (context->skipValidation() ||
             ValidateTexStorage2DMultisampleANGLE(context, targetPacked, samples, internalformat,
                                                  width, height, fixedsamplelocations))
@@ -17879,7 +19479,6 @@
                                                          GLenum pname,
                                                          GLint *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLint * params = "
         "0x%016" PRIxPTR ")",
@@ -17890,6 +19489,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterivANGLE, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterivANGLE(context, targetPacked, level, pname, params))
         {
@@ -17904,7 +19504,6 @@
                                                          GLenum pname,
                                                          GLfloat *params)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT(
         "(GLenum target = 0x%X, GLint level = %d, GLenum pname = 0x%X, GLfloat * params = "
         "0x%016" PRIxPTR ")",
@@ -17915,6 +19514,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(GetTexLevelParameterfvANGLE, context, targetPacked, level, pname, params);
         if (context->skipValidation() ||
             ValidateGetTexLevelParameterfvANGLE(context, targetPacked, level, pname, params))
         {
@@ -17929,7 +19529,6 @@
                                                   const GLsizei *counts,
                                                   GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLint *firsts = 0x%016" PRIxPTR
           ", const GLsizei *counts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
           mode, (uintptr_t)firsts, (uintptr_t)counts, drawcount);
@@ -17939,6 +19538,7 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(MultiDrawArraysANGLE, context, modePacked, firsts, counts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawArraysANGLE(context, modePacked, firsts, counts, drawcount))
         {
@@ -17954,7 +19554,6 @@
                                                            const GLsizei *instanceCounts,
                                                            GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLint *firsts = 0x%016" PRIxPTR
           ", const GLsizei *counts = 0x%016" PRIxPTR
           ", const GLsizei *instanceCounts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
@@ -17965,6 +19564,8 @@
     {
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked = FromGLenum<PrimitiveMode>(mode);
+        ANGLE_CAPTURE(MultiDrawArraysInstancedANGLE, context, modePacked, firsts, counts,
+                      instanceCounts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawArraysInstancedANGLE(context, modePacked, firsts, counts,
                                                   instanceCounts, drawcount))
@@ -17982,7 +19583,6 @@
                                                     const GLvoid *const *indices,
                                                     GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLsizei *counts = 0x%016" PRIxPTR
           ", GLenum type = 0x%X, const GLvoid *const*indices = 0x%016" PRIxPTR
           ", GLsizei drawcount = %d)",
@@ -17994,6 +19594,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(MultiDrawElementsANGLE, context, modePacked, counts, typePacked, indices,
+                      drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawElementsANGLE(context, modePacked, counts, typePacked, indices,
                                            drawcount))
@@ -18011,7 +19613,6 @@
                                                              const GLsizei *instanceCounts,
                                                              GLsizei drawcount)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X, const GLsizei *counts = 0x%016" PRIxPTR
           ", GLenum type = 0x%X, const GLvoid *const*indices = 0x%016" PRIxPTR
           ", const GLsizei*instanceCounts = 0x%016" PRIxPTR ", GLsizei drawcount = %d)",
@@ -18023,6 +19624,8 @@
         ASSERT(context == GetValidGlobalContext());
         PrimitiveMode modePacked    = FromGLenum<PrimitiveMode>(mode);
         DrawElementsType typePacked = FromGLenum<DrawElementsType>(type);
+        ANGLE_CAPTURE(MultiDrawElementsInstancedANGLE, context, modePacked, counts, typePacked,
+                      indices, instanceCounts, drawcount);
         if (context->skipValidation() ||
             ValidateMultiDrawElementsInstancedANGLE(context, modePacked, counts, typePacked,
                                                     indices, instanceCounts, drawcount))
@@ -18038,7 +19641,6 @@
                                                    GLuint index,
                                                    GLfloat *val)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum pname = 0x%X, GLuint index = %u, GLfloat * val = 0x%016" PRIxPTR ")", pname,
           index, (uintptr_t)val);
 
@@ -18046,6 +19648,7 @@
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(GetMultisamplefvANGLE, context, pname, index, val);
         if (context->skipValidation() || ValidateGetMultisamplefvANGLE(context, pname, index, val))
         {
             context->getMultisamplefv(pname, index, val);
@@ -18055,13 +19658,13 @@
 
 void GL_APIENTRY SampleMaskiANGLEContextANGLE(GLeglContext ctx, GLuint maskNumber, GLbitfield mask)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLuint maskNumber = %u, GLbitfield mask = 0x%X)", maskNumber, mask);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
+        ANGLE_CAPTURE(SampleMaskiANGLE, context, maskNumber, mask);
         if (context->skipValidation() || ValidateSampleMaskiANGLE(context, maskNumber, mask))
         {
             context->sampleMaski(maskNumber, mask);
@@ -18071,18 +19674,86 @@
 
 void GL_APIENTRY ProvokingVertexANGLEContextANGLE(GLeglContext ctx, GLenum mode)
 {
-    ANGLE_SCOPED_GLOBAL_LOCK();
     EVENT("(GLenum mode = 0x%X)", mode);
 
     Context *context = static_cast<gl::Context *>(ctx);
     if (context)
     {
         ASSERT(context == GetValidGlobalContext());
-        ProvokingVertex modePacked = FromGLenum<ProvokingVertex>(mode);
+        ProvokingVertexConvention modePacked = FromGLenum<ProvokingVertexConvention>(mode);
+        ANGLE_CAPTURE(ProvokingVertexANGLE, context, modePacked);
         if (context->skipValidation() || ValidateProvokingVertexANGLE(context, modePacked))
         {
             context->provokingVertex(modePacked);
         }
     }
 }
+
+void GL_APIENTRY LoseContextCHROMIUMContextANGLE(GLeglContext ctx, GLenum current, GLenum other)
+{
+    EVENT("(GLenum current = 0x%X, GLenum other = 0x%X)", current, other);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        GraphicsResetStatus currentPacked = FromGLenum<GraphicsResetStatus>(current);
+        GraphicsResetStatus otherPacked   = FromGLenum<GraphicsResetStatus>(other);
+        ANGLE_CAPTURE(LoseContextCHROMIUM, context, currentPacked, otherPacked);
+        if (context->skipValidation() ||
+            ValidateLoseContextCHROMIUM(context, currentPacked, otherPacked))
+        {
+            context->loseContext(currentPacked, otherPacked);
+        }
+    }
+}
+
+void GL_APIENTRY TexImage2DExternalANGLEContextANGLE(GLeglContext ctx,
+                                                     GLenum target,
+                                                     GLint level,
+                                                     GLint internalformat,
+                                                     GLsizei width,
+                                                     GLsizei height,
+                                                     GLint border,
+                                                     GLenum format,
+                                                     GLenum type)
+{
+    EVENT(
+        "(GLenum target = 0x%X, GLint level = %d, GLint internalformat = %d, GLsizei width = %d, "
+        "GLsizei height = %d, GLint border = %d, GLenum format = 0x%X, GLenum type = 0x%X)",
+        target, level, internalformat, width, height, border, format, type);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureTarget targetPacked = FromGLenum<TextureTarget>(target);
+        ANGLE_CAPTURE(TexImage2DExternalANGLE, context, targetPacked, level, internalformat, width,
+                      height, border, format, type);
+        if (context->skipValidation() ||
+            ValidateTexImage2DExternalANGLE(context, targetPacked, level, internalformat, width,
+                                            height, border, format, type))
+        {
+            context->texImage2DExternal(targetPacked, level, internalformat, width, height, border,
+                                        format, type);
+        }
+    }
+}
+
+void GL_APIENTRY InvalidateTextureANGLEContextANGLE(GLeglContext ctx, GLenum target)
+{
+    EVENT("(GLenum target = 0x%X)", target);
+
+    Context *context = static_cast<gl::Context *>(ctx);
+    if (context)
+    {
+        ASSERT(context == GetValidGlobalContext());
+        TextureType targetPacked = FromGLenum<TextureType>(target);
+        ANGLE_CAPTURE(InvalidateTextureANGLE, context, targetPacked);
+        if (context->skipValidation() || ValidateInvalidateTextureANGLE(context, targetPacked))
+        {
+            context->invalidateTexture(targetPacked);
+        }
+    }
+}
 }  // namespace gl