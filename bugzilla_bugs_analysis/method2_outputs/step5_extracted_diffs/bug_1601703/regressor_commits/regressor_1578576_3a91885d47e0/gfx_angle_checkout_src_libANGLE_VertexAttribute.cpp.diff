# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/angle/checkout/src/libANGLE/VertexAttribute.cpp
# Commit: 3a91885d47e0
# Full Hash: 3a91885d47e0ef7fba9749562d52300eea67c651
# Author: Miko Mynttinen <mikokm@gmail.com>
# Date: 2019-11-11 21:52:52
# Regressor Bug: 1578576
# File Overlap Count: 4
# Description:
#   Bug 1578576 - Part 2: Update to ANGLE 3865 r=jgilbert
#   
#   Depends on D44561
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D44579
# ==============================================================================

diff -r 77cee77c0307 -r 3a91885d47e0 gfx/angle/checkout/src/libANGLE/VertexAttribute.cpp
--- a/gfx/angle/checkout/src/libANGLE/VertexAttribute.cpp	Fri Nov 08 16:41:42 2019 +0000
+++ b/gfx/angle/checkout/src/libANGLE/VertexAttribute.cpp	Fri Nov 08 17:06:00 2019 +0000
@@ -48,10 +48,7 @@
 
 VertexAttribute::VertexAttribute(GLuint bindingIndex)
     : enabled(false),
-      type(VertexAttribType::Float),
-      size(4u),
-      normalized(false),
-      pureInteger(false),
+      format(&angle::Format::Get(angle::FormatID::R32G32B32A32_FLOAT)),
       pointer(nullptr),
       relativeOffset(0),
       vertexAttribArrayStride(0),
@@ -61,10 +58,7 @@
 
 VertexAttribute::VertexAttribute(VertexAttribute &&attrib)
     : enabled(attrib.enabled),
-      type(attrib.type),
-      size(attrib.size),
-      normalized(attrib.normalized),
-      pureInteger(attrib.pureInteger),
+      format(attrib.format),
       pointer(attrib.pointer),
       relativeOffset(attrib.relativeOffset),
       vertexAttribArrayStride(attrib.vertexAttribArrayStride),
@@ -77,10 +71,7 @@
     if (this != &attrib)
     {
         enabled                 = attrib.enabled;
-        type                    = attrib.type;
-        size                    = attrib.size;
-        normalized              = attrib.normalized;
-        pureInteger             = attrib.pureInteger;
+        format                  = attrib.format;
         pointer                 = attrib.pointer;
         relativeOffset          = attrib.relativeOffset;
         vertexAttribArrayStride = attrib.vertexAttribArrayStride;