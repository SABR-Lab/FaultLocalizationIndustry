# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/interfaces/base/nsIBrowserDOMWindow.idl
# Commit: e650c0acb702
# Full Hash: e650c0acb7027d22d04aeb6525834e5f89eedd92
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2020-08-19 21:28:29
# Regressor Bug: 1602410
# File Overlap Count: 1
# Description:
#   Bug 1602410 - Make window.print() work with tab-modal printing. r=nika,geckoview-reviewers,agi
#   
#   Do this by spinning the event loop until we've done the clone for
#   preview as appropriate.
#   
# ==============================================================================

diff -r 1f9187fefcb6 -r e650c0acb702 dom/interfaces/base/nsIBrowserDOMWindow.idl
--- a/dom/interfaces/base/nsIBrowserDOMWindow.idl	Tue Aug 18 21:33:15 2020 +0000
+++ b/dom/interfaces/base/nsIBrowserDOMWindow.idl	Wed Aug 19 09:27:18 2020 +0000
@@ -138,9 +138,22 @@
                              in short aWhere, in long aFlags,
                              in AString aName);
 
+
+  /**
+   * Requests printing of a given browsing context. Note that the browsing
+   * context may not directly correspond to a tab, it could be from a nested
+   * frame instead.
+   *
+   * @param aSourceBrowsingContext the browsing context that we're interested
+   *        in printing.
+   *
+   * @return void, but note that you MUST set `aSourceBrowsingContext.isAwaitingPrint`
+   *         to `false` as a result of this operation.
+   */
+  void print(in BrowsingContext aSourceBrowsingContext);
+
   /**
    * Load a URI.
-
    * @param aURI the URI to open. null is not allowed. To create the window
    *        without loading the URI, use createContentWindow instead.
    * @param aWhere see possible values described above.