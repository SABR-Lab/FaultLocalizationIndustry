# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/bindings/Bindings.conf
# Commit: 71c122ac0ca7
# Full Hash: 71c122ac0ca73391866b1ef19f4f82bc2d28568b
# Author: David Parks <davidp99@gmail.com>
# Date: 2020-01-09 03:40:18
# Regressor Bug: 1477756
# File Overlap Count: 1
# Description:
#   Bug 1477756 - Initial out-of-process WebGL implementation. r=mccr8,handyman
#   
#   Splits WebGLContext into ClientWebGLContext and HostWebGLContext.  The Client enables the JS-control of a WebGL context in a content procecss while the Host executes the WebGL graphics operations (via a WebGLContext that maintains much of the existing code) in the compositor process.  At this point, the cross-process behavior is disabled -- this series of patches is an incremental step toward that final goal.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D54018
# ==============================================================================

diff -r 5cbf5bb11c58 -r 71c122ac0ca7 dom/bindings/Bindings.conf
--- a/dom/bindings/Bindings.conf	Wed Jan 08 21:52:03 2020 +0000
+++ b/dom/bindings/Bindings.conf	Wed Jan 08 22:19:14 2020 +0000
@@ -1045,33 +1045,33 @@
 },
 
 'WebGLActiveInfo': {
-    'nativeType': 'mozilla::WebGLActiveInfo',
+    'nativeType': 'mozilla::ClientWebGLActiveInfo',
     'headerFile': 'WebGLActiveInfo.h'
 },
 
 'WebGLBuffer': {
-    'nativeType': 'mozilla::WebGLBuffer',
-    'headerFile': 'WebGLBuffer.h'
+    'nativeType': 'mozilla::ClientWebGLBuffer',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'EXT_float_blend': {
-    'nativeType': 'mozilla::WebGLExtensionFloatBlend',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionFloatBlend',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_texture_compression_bptc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureBPTC',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureBPTC',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_texture_compression_rgtc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureRGTC',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureRGTC',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_fbo_render_mipmap': {
-    'nativeType': 'mozilla::WebGLExtensionFBORenderMipmap',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionFBORenderMipmap',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OVR_multiview2': {
@@ -1080,48 +1080,48 @@
 },
 
 'WEBGL_compressed_texture_astc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureASTC',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureASTC',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_compressed_texture_etc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureES3',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureES3',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_compressed_texture_etc1': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureETC1',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureETC1',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_compressed_texture_pvrtc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTexturePVRTC',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTexturePVRTC',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_compressed_texture_s3tc': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureS3TC',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureS3TC',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_compressed_texture_s3tc_srgb': {
-    'nativeType': 'mozilla::WebGLExtensionCompressedTextureS3TC_SRGB',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionCompressedTextureS3TC_SRGB',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_depth_texture': {
-    'nativeType': 'mozilla::WebGLExtensionDepthTexture',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionDepthTexture',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_debug_renderer_info': {
-    'nativeType': 'mozilla::WebGLExtensionDebugRendererInfo',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionDebugRendererInfo',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_debug_shaders': {
-    'nativeType': 'mozilla::WebGLExtensionDebugShaders',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionDebugShaders',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_explicit_present': {
@@ -1130,174 +1130,174 @@
 },
 
 'OES_element_index_uint': {
-    'nativeType': 'mozilla::WebGLExtensionElementIndexUint',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionElementIndexUint',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_frag_depth': {
-    'nativeType': 'mozilla::WebGLExtensionFragDepth',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionFragDepth',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_lose_context': {
-    'nativeType': 'mozilla::WebGLExtensionLoseContext',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionLoseContext',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_sRGB': {
-    'nativeType': 'mozilla::WebGLExtensionSRGB',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionSRGB',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_standard_derivatives': {
-    'nativeType': 'mozilla::WebGLExtensionStandardDerivatives',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionStandardDerivatives',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_shader_texture_lod': {
-    'nativeType': 'mozilla::WebGLExtensionShaderTextureLod',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionShaderTextureLod',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_texture_filter_anisotropic': {
-    'nativeType': 'mozilla::WebGLExtensionTextureFilterAnisotropic',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionTextureFilterAnisotropic',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_texture_float': {
-    'nativeType': 'mozilla::WebGLExtensionTextureFloat',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionTextureFloat',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_texture_float_linear': {
-    'nativeType': 'mozilla::WebGLExtensionTextureFloatLinear',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionTextureFloatLinear',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_texture_half_float': {
-   'nativeType': 'mozilla::WebGLExtensionTextureHalfFloat',
-   'headerFile': 'WebGLExtensions.h'
+   'nativeType': 'mozilla::ClientWebGLExtensionTextureHalfFloat',
+   'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_texture_half_float_linear': {
-   'nativeType': 'mozilla::WebGLExtensionTextureHalfFloatLinear',
-   'headerFile': 'WebGLExtensions.h'
+   'nativeType': 'mozilla::ClientWebGLExtensionTextureHalfFloatLinear',
+   'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_color_buffer_float': {
-   'nativeType': 'mozilla::WebGLExtensionColorBufferFloat',
-   'headerFile': 'WebGLExtensions.h'
+   'nativeType': 'mozilla::ClientWebGLExtensionColorBufferFloat',
+   'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_color_buffer_half_float': {
-   'nativeType': 'mozilla::WebGLExtensionColorBufferHalfFloat',
-   'headerFile': 'WebGLExtensions.h'
+   'nativeType': 'mozilla::ClientWebGLExtensionColorBufferHalfFloat',
+   'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_color_buffer_float': {
-   'nativeType': 'mozilla::WebGLExtensionEXTColorBufferFloat',
-   'headerFile': 'WebGLExtensions.h'
+   'nativeType': 'mozilla::ClientWebGLExtensionEXTColorBufferFloat',
+   'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WEBGL_draw_buffers': {
-    'nativeType': 'mozilla::WebGLExtensionDrawBuffers',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionDrawBuffers',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'OES_vertex_array_object': {
-    'nativeType': 'mozilla::WebGLExtensionVertexArray',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionVertexArray',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'ANGLE_instanced_arrays': {
-    'nativeType': 'mozilla::WebGLExtensionInstancedArrays',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionInstancedArrays',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_blend_minmax': {
-    'nativeType': 'mozilla::WebGLExtensionBlendMinMax',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionBlendMinMax',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'EXT_disjoint_timer_query': {
-    'nativeType': 'mozilla::WebGLExtensionDisjointTimerQuery',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionDisjointTimerQuery',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'MOZ_debug': {
-    'nativeType': 'mozilla::WebGLExtensionMOZDebug',
-    'headerFile': 'WebGLExtensions.h'
+    'nativeType': 'mozilla::ClientWebGLExtensionMOZDebug',
+    'headerFile': 'ClientWebGLExtensions.h'
 },
 
 'WebGLFramebuffer': {
-    'nativeType': 'mozilla::WebGLFramebuffer',
-    'headerFile': 'WebGLFramebuffer.h'
+    'nativeType': 'mozilla::ClientWebGLFramebuffer',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLProgram': {
-    'nativeType': 'mozilla::WebGLProgram',
-    'headerFile': 'WebGLProgram.h'
+    'nativeType': 'mozilla::ClientWebGLProgram',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLQuery': {
-    'nativeType': 'mozilla::WebGLQuery',
-    'headerFile': 'WebGLQuery.h'
+    'nativeType': 'mozilla::ClientWebGLQuery',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLRenderbuffer': {
-    'nativeType': 'mozilla::WebGLRenderbuffer',
-    'headerFile': 'WebGLRenderbuffer.h'
+    'nativeType': 'mozilla::ClientWebGLRenderbuffer',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLRenderingContext': {
-    'nativeType': 'mozilla::WebGLContext',
-    'headerFile': 'WebGLContext.h',
+    'nativeType': 'mozilla::ClientWebGLContext',
+    'headerFile': 'ClientWebGLContext.h',
 },
 
 'WebGL2RenderingContext': {
-    'nativeType': 'mozilla::WebGL2Context',
-    'headerFile': 'WebGL2Context.h',
+    'nativeType': 'mozilla::ClientWebGLContext',
+    'headerFile': 'ClientWebGLContext.h',
 },
 
 'WebGLSampler': {
-    'nativeType': 'mozilla::WebGLSampler',
-    'headerFile': 'WebGLSampler.h'
+    'nativeType': 'mozilla::ClientWebGLSampler',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLShader': {
-    'nativeType': 'mozilla::WebGLShader',
-    'headerFile': 'WebGLShader.h'
+    'nativeType': 'mozilla::ClientWebGLShader',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLShaderPrecisionFormat': {
-    'nativeType': 'mozilla::WebGLShaderPrecisionFormat',
+    'nativeType': 'mozilla::ClientWebGLShaderPrecisionFormat',
     'headerFile': 'WebGLShaderPrecisionFormat.h',
     'wrapperCache': False
 },
 
 'WebGLSync': {
-    'nativeType': 'mozilla::WebGLSync',
-    'headerFile': 'WebGLSync.h'
+    'nativeType': 'mozilla::ClientWebGLSync',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLTexture': {
-    'nativeType': 'mozilla::WebGLTexture',
-    'headerFile': 'WebGLTexture.h'
+    'nativeType': 'mozilla::ClientWebGLTexture',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLTransformFeedback': {
-    'nativeType': 'mozilla::WebGLTransformFeedback',
-    'headerFile': 'WebGLTransformFeedback.h'
+    'nativeType': 'mozilla::ClientWebGLTransformFeedback',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLUniformLocation': {
-    'nativeType': 'mozilla::WebGLUniformLocation',
-    'headerFile': 'WebGLUniformLocation.h'
+    'nativeType': 'mozilla::ClientWebGLUniformLocation',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 'WebGLVertexArrayObject': {
-    'nativeType': 'mozilla::WebGLVertexArray',
-    'headerFile': 'WebGLVertexArray.h'
+    'nativeType': 'mozilla::ClientWebGLVertexArray',
+    'headerFile': 'ClientWebGLContext.h'
 },
 
 # WebGPU