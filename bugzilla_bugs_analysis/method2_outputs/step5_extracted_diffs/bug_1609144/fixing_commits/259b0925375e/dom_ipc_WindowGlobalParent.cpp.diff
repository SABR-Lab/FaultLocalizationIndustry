# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/ipc/WindowGlobalParent.cpp
# Commit: 259b0925375e
# Full Hash: 259b0925375efedccee0c478ac90bf6c78ff3618
# Author: Dimi Lee <dlee@mozilla.com>
# Date: 2020-01-16 09:46:51
# Description:
#   Bug 1609144 - Remove IsInProcess assertion in NotifyContentBlockingEvent r=timhuang
#   
#   The assertion is added to diagnose whether NotifyContentBlockingEvent
#   will be called from an in-process document. We have already seen crashes
#   because of the assertion, so temporarily remove this to avoid people
# ==============================================================================

diff -r f41766fb9407 -r 259b0925375e dom/ipc/WindowGlobalParent.cpp
--- a/dom/ipc/WindowGlobalParent.cpp	Thu Jan 16 07:44:40 2020 +0200
+++ b/dom/ipc/WindowGlobalParent.cpp	Thu Jan 16 05:30:44 2020 +0000
@@ -316,7 +316,8 @@
   MOZ_ASSERT_IF(!isCookiesBlockedTracker, aReason.isNothing());
   MOZ_ASSERT_IF(isCookiesBlockedTracker && !aBlocked, aReason.isSome());
   MOZ_DIAGNOSTIC_ASSERT(XRE_IsParentProcess());
-  MOZ_DIAGNOSTIC_ASSERT_IF(XRE_IsE10sParentProcess(), !IsInProcess());
+  // TODO: temporarily remove this until we find the root case of Bug 1609144
+  //MOZ_DIAGNOSTIC_ASSERT_IF(XRE_IsE10sParentProcess(), !IsInProcess());
 
   // Return early if this WindowGlobalParent is in process.
   if (IsInProcess()) {
