# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: third_party/rust/cubeb-coreaudio/src/backend/tests/manual.rs
# Commit: eaa23cb3b396
# Full Hash: eaa23cb3b39686e114b1e78a78c2f8e5c91bcb29
# Author: Chun-Min Chang <chun.m.chang@gmail.com>
# Date: 2019-12-28 04:06:02
# Regressor Bug: 1605471
# File Overlap Count: 5
# Description:
#   Bug 1605471 - Update cubeb-coreaudio to acb90e9. r=alwu
#   
#   Pick commits:
#   acb90e9 - Add license for mixer crate
#   82e7ff9 - Move criterion crate to [dev-dependencies]
# ==============================================================================

diff -r 509cd3b3ec22 -r eaa23cb3b396 third_party/rust/cubeb-coreaudio/src/backend/tests/manual.rs
--- a/third_party/rust/cubeb-coreaudio/src/backend/tests/manual.rs	Fri Dec 27 16:05:26 2019 +0000
+++ b/third_party/rust/cubeb-coreaudio/src/backend/tests/manual.rs	Fri Dec 27 16:58:18 2019 +0000
@@ -19,7 +19,7 @@
         return;
     }
 
-    let output_device_switcher = TestDeviceSwitcher::new(Scope::Output);
+    let mut output_device_switcher = TestDeviceSwitcher::new(Scope::Output);
 
     // Make sure the parameters meet the requirements of AudioUnitContext::stream_init
     // (in the comments).
@@ -52,7 +52,7 @@
                 assert_eq!(input.pop().unwrap(), '\n');
                 match input.as_str() {
                     "s" => {
-                        assert!(output_device_switcher.next().unwrap());
+                        output_device_switcher.next();
                     }
                     "q" => {
                         println!("Quit.");