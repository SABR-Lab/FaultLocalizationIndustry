# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: netwerk/protocol/http/QuicSocketControl.cpp
# Commit: c5c8bfabe239
# Full Hash: c5c8bfabe23927a193df1440f2d1459705c71e66
# Author: Dragana Damjanovic <dd.mozilla@gmail.com>
# Date: 2020-04-01 09:51:34
# Description:
#   Bug 1625841 - Check refPtr not weakPtr. r=valentin
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D69056
# ==============================================================================

diff -r 67c48f5aea11 -r c5c8bfabe239 netwerk/protocol/http/QuicSocketControl.cpp
--- a/netwerk/protocol/http/QuicSocketControl.cpp	Mon Mar 30 22:32:43 2020 +0000
+++ b/netwerk/protocol/http/QuicSocketControl.cpp	Tue Mar 31 18:48:57 2020 +0000
@@ -48,8 +48,8 @@
 }
 
 void QuicSocketControl::CallAuthenticated() {
-  if (mHttp3Session) {
-    RefPtr<Http3Session> http3Session = do_QueryReferent(mHttp3Session);
+  RefPtr<Http3Session> http3Session = do_QueryReferent(mHttp3Session);
+  if (http3Session) {
     http3Session->Authenticated(GetErrorCode());
   }
   mHttp3Session = nullptr;
