# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: accessible/xul/XULTreeAccessible.cpp
# Commit: 5626ca788e5c
# Full Hash: 5626ca788e5ca41919945cedabff8685ffb99957
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2020-04-15 09:25:24
# Description:
#   Bug 1629838 - Don't flush reentrantly from XUL a11y construction. r=Jamie
#   
#   This code has pretty much always been broken, we've started to flush
#   more because we fixed a bug that was not looking at XUL trees inside
#   shadow DOM in bug 1625991.
# ==============================================================================

diff -r 0f37ad2fc083 -r 5626ca788e5c accessible/xul/XULTreeAccessible.cpp
--- a/accessible/xul/XULTreeAccessible.cpp	Tue Apr 14 23:35:35 2020 +0000
+++ b/accessible/xul/XULTreeAccessible.cpp	Wed Apr 15 01:01:12 2020 +0000
@@ -904,7 +904,7 @@
     : XULTreeItemAccessibleBase(aContent, aDoc, aParent, aTree, aTreeView,
                                 aRow) {
   mStateFlags |= eNoKidsFromDOM;
-  mColumn = nsCoreUtils::GetFirstSensibleColumn(mTree);
+  mColumn = nsCoreUtils::GetFirstSensibleColumn(mTree, FlushType::None);
   GetCellName(mColumn, mCachedName);
 }
 