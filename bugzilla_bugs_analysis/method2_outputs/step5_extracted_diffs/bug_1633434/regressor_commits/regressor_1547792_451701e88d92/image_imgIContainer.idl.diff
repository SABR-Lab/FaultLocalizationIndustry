# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: image/imgIContainer.idl
# Commit: 451701e88d92
# Full Hash: 451701e88d92935b77385235832865dabe8c2942
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2019-05-03 12:59:14
# Regressor Bug: 1547792
# File Overlap Count: 1
# Description:
#   Bug 1547792 - AspectRatio should be a single ratio, not a size. r=dholbert
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D29244
# ==============================================================================

diff -r 020e530d49b3 -r 451701e88d92 image/imgIContainer.idl
--- a/image/imgIContainer.idl	Wed Apr 24 19:36:17 2019 +0000
+++ b/image/imgIContainer.idl	Thu May 02 23:28:21 2019 +0000
@@ -14,6 +14,7 @@
 #include "gfxMatrix.h"
 #include "gfxRect.h"
 #include "mozilla/gfx/2D.h"
+#include "mozilla/AspectRatio.h"
 #include "mozilla/Maybe.h"
 #include "mozilla/RefPtr.h"
 #include "nsRect.h"
@@ -45,6 +46,7 @@
 
 %}
 
+native MaybeAspectRatio(mozilla::Maybe<mozilla::AspectRatio>);
 native ImgDrawResult(mozilla::image::ImgDrawResult);
 [ptr] native gfxContext(gfxContext);
 [ref] native gfxMatrix(gfxMatrix);
@@ -99,9 +101,9 @@
 
   /**
    * The (dimensionless) intrinsic ratio of this image. In the case of any
-   * error, an exception will be thrown.
+   * error, Nothing() will be returned.
    */
-  [noscript] readonly attribute nsSize intrinsicRatio;
+  [notxpcom, nostdcall] readonly attribute MaybeAspectRatio intrinsicRatio;
 
   /**
    * Given a size at which this image will be displayed, and the drawing