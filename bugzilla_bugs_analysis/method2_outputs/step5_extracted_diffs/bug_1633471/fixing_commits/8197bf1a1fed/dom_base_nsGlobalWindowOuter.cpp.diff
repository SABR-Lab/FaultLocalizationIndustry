# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/base/nsGlobalWindowOuter.cpp
# Commit: 8197bf1a1fed
# Full Hash: 8197bf1a1fed1f34234bdef3eaacd2e1d6a873d2
# Author: Anny Gakhokidze <agakhokidze@mozilla.com>
# Date: 2020-05-09 09:14:23
# Description:
#   Bug 1633471 - Do not reuse inner window when printing, r=nika
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D74261
# ==============================================================================

diff -r 220a0d9666fe -r 8197bf1a1fed dom/base/nsGlobalWindowOuter.cpp
--- a/dom/base/nsGlobalWindowOuter.cpp	Fri May 08 20:31:46 2020 +0000
+++ b/dom/base/nsGlobalWindowOuter.cpp	Fri May 08 20:13:16 2020 +0000
@@ -1734,6 +1734,10 @@
     return true;
   }
 
+  if (aNewDocument->IsStaticDocument()) {
+    return false;
+  }
+
   if (BasePrincipal::Cast(mDoc->NodePrincipal())
           ->FastEqualsConsideringDomain(aNewDocument->NodePrincipal())) {
     // The origin is the same.
