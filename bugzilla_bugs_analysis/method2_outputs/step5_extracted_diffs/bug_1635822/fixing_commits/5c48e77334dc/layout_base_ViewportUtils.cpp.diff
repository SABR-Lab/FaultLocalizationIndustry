# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: layout/base/ViewportUtils.cpp
# Commit: 5c48e77334dc
# Full Hash: 5c48e77334dcc2f974aa3e35eef1554047380aa1
# Author: Botond Ballo <botond@mozilla.com>
# Date: 2020-05-06 21:51:14
# Description:
#   Bug 1635822 - Early-exit in GetVisualToLayoutTransform() if the content element has no frame. r=kats
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D74071
# ==============================================================================

diff -r 2614110ee9fe -r 5c48e77334dc layout/base/ViewportUtils.cpp
--- a/layout/base/ViewportUtils.cpp	Wed May 06 16:36:05 2020 +0000
+++ b/layout/base/ViewportUtils.cpp	Wed May 06 17:20:59 2020 +0000
@@ -33,7 +33,7 @@
     return {};
   }
   nsCOMPtr<nsIContent> content = nsLayoutUtils::FindContentFor(aScrollId);
-  if (!content) {
+  if (!content || !content->GetPrimaryFrame()) {
     return {};
   }
 
