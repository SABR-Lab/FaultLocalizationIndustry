# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/builtin/intl/CommonFunctions.js
# Commit: 93aa11dd931b
# Full Hash: 93aa11dd931b57852c0242e39889feaf873fd53f
# Author: Andr√© Bargull <andre.bargull@gmail.com>
# Date: 2020-05-20 03:39:31
# Regressor Bug: 1557727
# File Overlap Count: 1
# Description:
#   Bug 1557727 - Part 2: Add Intl.DisplayNames boilerplate. r=jwalden
#   
#   Adds the standard boilerplate for a new Intl object.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D52164
# ==============================================================================

diff -r b71ce4f9bca7 -r 93aa11dd931b js/src/builtin/intl/CommonFunctions.js
--- a/js/src/builtin/intl/CommonFunctions.js	Tue May 19 11:17:21 2020 +0000
+++ b/js/src/builtin/intl/CommonFunctions.js	Tue May 19 11:17:48 2020 +0000
@@ -706,6 +706,7 @@
     assert(IsObject(obj), "Non-object passed to initializeIntlObject");
     assert((type === "Collator" && GuardToCollator(obj) !== null) ||
            (type === "DateTimeFormat" && GuardToDateTimeFormat(obj) !== null) ||
+           (type === "DisplayNames" && GuardToDisplayNames(obj) !== null) ||
            (type === "ListFormat" && GuardToListFormat(obj) !== null) ||
            (type === "NumberFormat" && GuardToNumberFormat(obj) !== null) ||
            (type === "PluralRules" && GuardToPluralRules(obj) !== null) ||
@@ -715,9 +716,15 @@
 
     // The meaning of an internals object for an object |obj| is as follows.
     //
-    // The .type property indicates the type of Intl object that |obj| is:
-    // "Collator", "DateTimeFormat", "NumberFormat", or "PluralRules" (likely
-    // with more coming in future Intl specs).
+    // The .type property indicates the type of Intl object that |obj| is. It
+    // must be one of:
+    // - Collator
+    // - DateTimeFormat
+    // - DisplayNames
+    // - ListFormat
+    // - NumberFormat
+    // - PluralRules
+    // - RelativeTimeFormat
     //
     // The .lazyData property stores information needed to compute -- without
     // observable side effects -- the actual internal Intl properties of
@@ -775,6 +782,7 @@
     assert(IsObject(obj), "getIntlObjectInternals called with non-Object");
     assert(GuardToCollator(obj) !== null ||
            GuardToDateTimeFormat(obj) !== null ||
+           GuardToDisplayNames(obj) !== null ||
            GuardToListFormat(obj) !== null ||
            GuardToNumberFormat(obj) !== null ||
            GuardToPluralRules(obj) !== null ||
@@ -787,6 +795,7 @@
     assert(hasOwn("type", internals), "missing type");
     assert((internals.type === "Collator" && GuardToCollator(obj) !== null) ||
            (internals.type === "DateTimeFormat" && GuardToDateTimeFormat(obj) !== null) ||
+           (internals.type === "DisplayNames" && GuardToDisplayNames(obj) !== null) ||
            (internals.type === "ListFormat" && GuardToListFormat(obj) !== null) ||
            (internals.type === "NumberFormat" && GuardToNumberFormat(obj) !== null) ||
            (internals.type === "PluralRules" && GuardToPluralRules(obj) !== null) ||
@@ -816,6 +825,8 @@
         internalProps = resolveCollatorInternals(internals.lazyData);
     else if (type === "DateTimeFormat")
         internalProps = resolveDateTimeFormatInternals(internals.lazyData);
+    else if (type === "DisplayNames")
+      internalProps = resolveDisplayNamesInternals(internals.lazyData);
     else if (type === "ListFormat")
         internalProps = resolveListFormatInternals(internals.lazyData);
     else if (type === "NumberFormat")