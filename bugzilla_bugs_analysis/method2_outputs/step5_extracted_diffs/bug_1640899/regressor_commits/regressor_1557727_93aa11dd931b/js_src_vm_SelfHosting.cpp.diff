# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/vm/SelfHosting.cpp
# Commit: 93aa11dd931b
# Full Hash: 93aa11dd931b57852c0242e39889feaf873fd53f
# Author: Andr√© Bargull <andre.bargull@gmail.com>
# Date: 2020-05-20 03:39:31
# Regressor Bug: 1557727
# File Overlap Count: 1
# Description:
#   Bug 1557727 - Part 2: Add Intl.DisplayNames boilerplate. r=jwalden
#   
#   Adds the standard boilerplate for a new Intl object.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D52164
# ==============================================================================

diff -r b71ce4f9bca7 -r 93aa11dd931b js/src/vm/SelfHosting.cpp
--- a/js/src/vm/SelfHosting.cpp	Tue May 19 11:17:21 2020 +0000
+++ b/js/src/vm/SelfHosting.cpp	Tue May 19 11:17:48 2020 +0000
@@ -24,6 +24,7 @@
 #ifdef JS_HAS_INTL_API
 #  include "builtin/intl/Collator.h"
 #  include "builtin/intl/DateTimeFormat.h"
+#  include "builtin/intl/DisplayNames.h"
 #  include "builtin/intl/IntlObject.h"
 #  include "builtin/intl/ListFormat.h"
 #  include "builtin/intl/Locale.h"
@@ -2412,6 +2413,9 @@
     JS_INLINABLE_FN("GuardToDateTimeFormat",
                     intrinsic_GuardToBuiltin<DateTimeFormatObject>, 1, 0,
                     IntlGuardToDateTimeFormat),
+    JS_INLINABLE_FN("GuardToDisplayNames",
+                    intrinsic_GuardToBuiltin<DisplayNamesObject>, 1, 0,
+                    IntlGuardToDisplayNames),
     JS_INLINABLE_FN("GuardToListFormat",
                     intrinsic_GuardToBuiltin<ListFormatObject>, 1, 0,
                     IntlGuardToListFormat),
@@ -2434,6 +2438,8 @@
           CallNonGenericSelfhostedMethod<Is<CollatorObject>>, 2, 0),
     JS_FN("CallDateTimeFormatMethodIfWrapped",
           CallNonGenericSelfhostedMethod<Is<DateTimeFormatObject>>, 2, 0),
+    JS_FN("CallDisplayNamesMethodIfWrapped",
+          CallNonGenericSelfhostedMethod<Is<DisplayNamesObject>>, 2, 0),
     JS_FN("CallListFormatMethodIfWrapped",
           CallNonGenericSelfhostedMethod<Is<ListFormatObject>>, 2, 0),
     JS_FN("CallNumberFormatMethodIfWrapped",
