# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/moz.build
# Commit: b3f28494f0e7
# Full Hash: b3f28494f0e7736db4b9d0f078147641857b064f
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2020-06-12 03:05:25
# Regressor Bug: 1599160
# File Overlap Count: 1
# Description:
#   Bug 1599160 - Allow caching stylesheets across documents. r=heycam
#   
#   This patch implements a per-process cache of parsed stylesheets for
#   non-inline sheets. The entries are evicted when the document gets
#   destroyed and there's no other document with the same principal around.
# ==============================================================================

diff -r f4f14bc9ba47 -r b3f28494f0e7 layout/style/moz.build
--- a/layout/style/moz.build	Thu Jun 11 10:02:47 2020 +0000
+++ b/layout/style/moz.build	Thu Jun 11 11:42:46 2020 +0000
@@ -107,6 +107,7 @@
     'ServoTypes.h',
     'ServoUtils.h',
     'ShadowParts.h',
+    'SharedStyleSheetCache.h',
     'StyleAnimationValue.h',
     'StyleColorInlines.h',
     'StyleSheet.h',
@@ -222,6 +223,7 @@
     'ServoElementSnapshot.cpp',
     'ServoStyleSet.cpp',
     'ShadowParts.cpp',
+    'SharedStyleSheetCache.cpp',
     'StreamLoader.cpp',
     'StyleAnimationValue.cpp',
     'StyleColor.cpp',