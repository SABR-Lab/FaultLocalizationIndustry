# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: docshell/base/CanonicalBrowsingContext.h
# Commit: 1a4de0e50652
# Full Hash: 1a4de0e50652bc0f8e9411b04fb73d82d22cac47
# Author: Nika Layzell <nika@thelayzells.com>
# Date: 2020-06-22 21:47:58
# Regressor Bug: 1646088
# File Overlap Count: 2
# Description:
#   Bug 1646088 - Part 1: Keep processes alive during process switches, r=kmag
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D79888
# ==============================================================================

diff -r 0a814322a3e6 -r 1a4de0e50652 docshell/base/CanonicalBrowsingContext.h
--- a/docshell/base/CanonicalBrowsingContext.h	Mon Jun 22 14:24:16 2020 +0000
+++ b/docshell/base/CanonicalBrowsingContext.h	Thu Jun 18 18:51:54 2020 +0000
@@ -205,13 +205,14 @@
     friend class CanonicalBrowsingContext;
 
     ~PendingRemotenessChange();
-    void ProcessReady(ContentParent* aContentParent);
-    void Finish(ContentParent* aContentParent);
+    void ProcessReady();
+    void Finish();
     void Clear();
 
     RefPtr<CanonicalBrowsingContext> mTarget;
     RefPtr<RemotenessPromise::Private> mPromise;
     RefPtr<GenericPromise> mPrepareToChangePromise;
+    RefPtr<ContentParent> mContentParent;
 
     uint64_t mPendingSwitchId;
     bool mReplaceBrowsingContext;