# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/url/tests/test_url.html
# Commit: d9e19325c7c7
# Full Hash: d9e19325c7c7065822a0bed016d05c556f93fbb3
# Author: Valentin Gosu <valentin.gosu@gmail.com>
# Date: 2020-11-18 16:05:35
# Description:
#   Bug 1648493 - tests r=necko-reviewers,kershaw
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D88299
# ==============================================================================

diff -r aa0b71302d8a -r d9e19325c7c7 dom/url/tests/test_url.html
--- a/dom/url/tests/test_url.html	Wed Nov 18 09:20:56 2020 +0000
+++ b/dom/url/tests/test_url.html	Wed Nov 18 09:29:56 2020 +0000
@@ -487,5 +487,15 @@
     is(u.toJSON(), "http://www.example.org/", "URL.toJSON()");
     is(JSON.stringify(u), "\"http://www.example.org/\"", "JSON.stringify(u) works");
   </script>
+
+  <script>
+    // bug 1648493
+    var url = new URL("http://example.com/");
+    url.protocol = 'file'
+    url.protocol = 'resource'
+    url.password = 'Ãª'
+    url.username = 'Ã§'
+    url.protocol = 't'
+  </script>
 </body>
 </html>