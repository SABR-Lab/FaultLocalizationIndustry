# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: netwerk/cookie/CookieServiceChild.h
# Commit: c8bfef0a3dd3
# Full Hash: c8bfef0a3dd356d4ed84089b179684aa42d687ff
# Author: Andrea Marchesini <amarchesini@mozilla.com>
# Date: 2020-04-06 21:47:50
# Regressor Bug: 1562868
# File Overlap Count: 1
# Description:
#   Bug 1562868 - Limit the amount of data shared between processes when document.cookie is set, r=smaug
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D68179
# ==============================================================================

diff -r 68475f12d4f1 -r c8bfef0a3dd3 netwerk/cookie/CookieServiceChild.h
--- a/netwerk/cookie/CookieServiceChild.h	Mon Apr 06 13:09:19 2020 +0000
+++ b/netwerk/cookie/CookieServiceChild.h	Mon Apr 06 14:03:59 2020 +0000
@@ -73,9 +73,6 @@
 
   void RecordDocumentCookie(Cookie* aCookie, const OriginAttributes& aAttrs);
 
-  void SetCookieInternal(const CookieStruct& aCookieData,
-                         const OriginAttributes& aAttrs);
-
   uint32_t CountCookiesFromHashTable(const nsCString& aBaseDomain,
                                      const OriginAttributes& aOriginAttrs);
 
@@ -100,6 +97,7 @@
 
   CookiesMap mCookiesMap;
   nsCOMPtr<nsITimer> mCookieTimer;
+  nsCOMPtr<nsICookiePermission> mPermissionService;
   nsCOMPtr<mozIThirdPartyUtil> mThirdPartyUtil;
   nsCOMPtr<nsIEffectiveTLDService> mTLDService;
 };