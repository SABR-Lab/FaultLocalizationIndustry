# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: modules/libpref/init/all.js
# Commit: 66478ccf2daa
# Full Hash: 66478ccf2daa652836845896665357d0a1ff9421
# Author: Dana Keeler <dkeeler@mozilla.com>
# Date: 2020-07-09 04:03:58
# Description:
#   Bug 1651155 - disable intermediate preloading healer in late beta and release r=jcj
#   
#   While we figure out the crashes we're seeing on beta (bug 1650654), this will
#   disable the intermediate preloading healer in late beta and release.
#   
# ==============================================================================

diff -r d8feb7a4c181 -r 66478ccf2daa modules/libpref/init/all.js
--- a/modules/libpref/init/all.js	Wed Jul 08 21:30:30 2020 +0000
+++ b/modules/libpref/init/all.js	Wed Jul 08 22:41:06 2020 +0000
@@ -198,9 +198,12 @@
 // Intermediate CA Preloading settings
 #if defined(MOZ_NEW_CERT_STORAGE) && !defined(MOZ_WIDGET_ANDROID)
   pref("security.remote_settings.intermediates.enabled", true);
+#else
+  pref("security.remote_settings.intermediates.enabled", false);
+#endif
+#if defined(MOZ_NEW_CERT_STORAGE) && !defined(MOZ_WIDGET_ANDROID) && defined(EARLY_BETA_OR_EARLIER)
   pref("security.intermediate_preloading_healer.enabled", true);
 #else
-  pref("security.remote_settings.intermediates.enabled", false);
   pref("security.intermediate_preloading_healer.enabled", false);
 #endif
 pref("security.intermediate_preloading_healer.timer_interval_ms", 300000);
