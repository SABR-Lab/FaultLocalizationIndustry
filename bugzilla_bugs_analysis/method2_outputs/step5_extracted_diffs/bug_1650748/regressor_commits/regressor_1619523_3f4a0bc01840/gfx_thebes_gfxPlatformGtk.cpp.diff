# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/thebes/gfxPlatformGtk.cpp
# Commit: 3f4a0bc01840
# Full Hash: 3f4a0bc01840d70cf0241d410f135e80875b375a
# Author: Martin Stransky <stransky@redhat.com>
# Date: 2020-07-03 21:50:22
# Regressor Bug: 1619523
# File Overlap Count: 1
# Description:
#   Bug 1619523 [Linux] Remove Wayland check at gfxPlatformGtk::UseDMABufVideoTextures(), make VA-API decoding possible on X11 r=jhorak
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D82183
# ==============================================================================

diff -r 4f044c37af6f -r 3f4a0bc01840 gfx/thebes/gfxPlatformGtk.cpp
--- a/gfx/thebes/gfxPlatformGtk.cpp	Fri Jul 03 12:59:53 2020 +0000
+++ b/gfx/thebes/gfxPlatformGtk.cpp	Fri Jul 03 12:23:43 2020 +0000
@@ -727,8 +727,7 @@
   return IsWaylandDisplay() && GetDMABufDevice()->IsDMABufTexturesEnabled();
 }
 bool gfxPlatformGtk::UseDMABufVideoTextures() {
-  return IsWaylandDisplay() &&
-         (GetDMABufDevice()->IsDMABufVideoTexturesEnabled() ||
+  return (GetDMABufDevice()->IsDMABufVideoTexturesEnabled() ||
           StaticPrefs::media_ffmpeg_vaapi_enabled());
 }
 bool gfxPlatformGtk::UseHardwareVideoDecoding() {
