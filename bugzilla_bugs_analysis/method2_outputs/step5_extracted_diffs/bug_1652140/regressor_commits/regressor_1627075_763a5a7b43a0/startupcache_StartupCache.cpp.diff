# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: startupcache/StartupCache.cpp
# Commit: 763a5a7b43a0
# Full Hash: 763a5a7b43a0125ecba3f22a5ef8928aa7eecfe4
# Author: Doug Thayer <dothayer@mozilla.com>
# Date: 2020-07-02 03:58:28
# Regressor Bug: 1627075
# File Overlap Count: 1
# Description:
#   Bug 1627075 - Build Omnijar file list from startup cache r=froydnj
#   
#   We would like to be able to defer opening the omnijar files until after startup
#   if the StartupCache has already been populated. Opening the omnijar files takes
#   a nontrivial time, at least on Windows, and almost everything in the omnijar
# ==============================================================================

diff -r 16ab6f47724d -r 763a5a7b43a0 startupcache/StartupCache.cpp
--- a/startupcache/StartupCache.cpp	Wed Jul 01 18:00:35 2020 +0000
+++ b/startupcache/StartupCache.cpp	Wed Jul 01 17:07:17 2020 +0000
@@ -439,7 +439,7 @@
   return NS_OK;
 }
 
-// Makes a copy of the buffer, client retains ownership of inbuf.
+// Takes ownership of the input buffer
 nsresult StartupCache::PutBuffer(const char* id, UniquePtr<char[]>&& inbuf,
                                  uint32_t len) {
   NS_ASSERTION(NS_IsMainThread(),