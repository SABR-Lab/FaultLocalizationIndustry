# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/vm/JSContext.cpp
# Commit: d2b01a1ad0a9
# Full Hash: d2b01a1ad0a966ea1cbd871d33ecdad59a7eee68
# Author: Andr√© Bargull <andre.bargull@gmail.com>
# Date: 2019-11-15 21:44:05
# Regressor Bug: 1568903
# File Overlap Count: 1
# Description:
#   Bug 1568903 - Part 2: Move ErrorObject parts from jsexn.cpp to ErrorObject.cpp. r=jorendorff
#   
#   The ErrorObject classes are already declared in ErrorObject.h, so it seems
#   useful to also move their definitions into the corresponding cpp file.
#   
# ==============================================================================

diff -r 58c002a9cb78 -r d2b01a1ad0a9 js/src/vm/JSContext.cpp
--- a/js/src/vm/JSContext.cpp	Tue Nov 12 11:12:02 2019 +0000
+++ b/js/src/vm/JSContext.cpp	Tue Nov 12 11:12:23 2019 +0000
@@ -1403,13 +1403,9 @@
   check(v);
 }
 
-static const size_t MAX_REPORTED_STACK_DEPTH = 1u << 7;
-
 void JSContext::setPendingExceptionAndCaptureStack(HandleValue value) {
   RootedObject stack(this);
-  if (!CaptureCurrentStack(
-          this, &stack,
-          JS::StackCapture(JS::MaxFrames(MAX_REPORTED_STACK_DEPTH)))) {
+  if (!CaptureStack(this, &stack)) {
     clearPendingException();
   }
 
