# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/xul/XULFrameElement.cpp
# Commit: 109313fafcb6
# Full Hash: 109313fafcb6ce5bffe41be0b4f984278ad397a0
# Author: Kashav Madan <kmadan@mozilla.com>
# Date: 2020-07-14 03:18:58
# Description:
#   Bug 1652397 - Null check mFrameLoader in XULFrameElement::BrowserId, r=kmag
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D83384
# ==============================================================================

diff -r b24625796fef -r 109313fafcb6 dom/xul/XULFrameElement.cpp
--- a/dom/xul/XULFrameElement.cpp	Mon Jul 13 18:39:52 2020 +0000
+++ b/dom/xul/XULFrameElement.cpp	Mon Jul 13 20:10:24 2020 +0000
@@ -70,8 +70,10 @@
 }
 
 uint64_t XULFrameElement::BrowserId() {
-  if (auto* bc = mFrameLoader->GetExtantBrowsingContext()) {
-    return bc->GetBrowserId();
+  if (mFrameLoader) {
+    if (auto* bc = mFrameLoader->GetExtantBrowsingContext()) {
+      return bc->GetBrowserId();
+    }
   }
   return 0;
 }
