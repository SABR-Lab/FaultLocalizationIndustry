# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/indexedDB/test/gtest/TestFileInfo.cpp
# Commit: 7c9ee023c8cc
# Full Hash: 7c9ee023c8cc72aab0269cebeb7a2f02c5281cd1
# Author: Simon Giesecke <sgiesecke@mozilla.com>
# Date: 2020-04-01 21:26:59
# Regressor Bug: 1623278
# File Overlap Count: 1
# Description:
#   Bug 1623278 - Use SafeRefPtr for FileInfo. r=dom-workers-and-storage-reviewers,asuth
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D65550
# ==============================================================================

diff -r 7e9d56eb485e -r 7c9ee023c8cc dom/indexedDB/test/gtest/TestFileInfo.cpp
--- a/dom/indexedDB/test/gtest/TestFileInfo.cpp	Wed Apr 01 09:52:54 2020 +0000
+++ b/dom/indexedDB/test/gtest/TestFileInfo.cpp	Wed Apr 01 09:53:01 2020 +0000
@@ -153,7 +153,7 @@
     const auto fileManager = MakeRefPtr<TestFileManager>(&stats);
     fileManager->CreateDBOnlyFileInfos();
 
-    auto fileInfos = nsTArray<RefPtr<TestFileInfo>>{};
+    auto fileInfos = nsTArray<SafeRefPtr<TestFileInfo>>{};
     for (const auto id : TestFileManager::kDBOnlyFileInfoIds) {
       fileInfos.EmplaceBack(fileManager->GetFileInfo(id));
     }
