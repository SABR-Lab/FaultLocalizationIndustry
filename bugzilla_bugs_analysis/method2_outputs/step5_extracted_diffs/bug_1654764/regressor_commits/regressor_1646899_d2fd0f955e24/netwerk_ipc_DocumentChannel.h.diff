# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: netwerk/ipc/DocumentChannel.h
# Commit: d2fd0f955e24
# Full Hash: d2fd0f955e2462852c0a37ca73267b20ac0be9df
# Author: Dan Glastonbury <dan.glastonbury@gmail.com>
# Date: 2020-07-13 09:51:22
# Regressor Bug: 1646899
# File Overlap Count: 1
# Description:
#   Bug 1646899 - P3: Modify CanUseDocumentChannel to take necessary vars. r=mattwoodrow
#   
#   Allows checking if DocumentChannel can be used with out creating an
#   nsDocShellLoadState object.
#   
# ==============================================================================

diff -r 7a7194146fe1 -r d2fd0f955e24 netwerk/ipc/DocumentChannel.h
--- a/netwerk/ipc/DocumentChannel.h	Mon Jul 13 00:48:52 2020 +0000
+++ b/netwerk/ipc/DocumentChannel.h	Mon Jul 13 00:48:54 2020 +0000
@@ -64,7 +64,7 @@
       nsLoadFlags aLoadFlags, nsIInterfaceRequestor* aNotificationCallbacks,
       uint32_t aCacheKey, bool aUriModified, bool aIsXFOError);
 
-  static bool CanUseDocumentChannel(nsDocShellLoadState* aLoadState);
+  static bool CanUseDocumentChannel(nsIURI* aURI, uint32_t aLoadFlags);
 
  protected:
   DocumentChannel(nsDocShellLoadState* aLoadState, class LoadInfo* aLoadInfo,
