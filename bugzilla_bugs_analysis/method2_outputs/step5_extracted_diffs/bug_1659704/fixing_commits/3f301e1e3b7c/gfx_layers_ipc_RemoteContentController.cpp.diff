# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: gfx/layers/ipc/RemoteContentController.cpp
# Commit: 3f301e1e3b7c
# Full Hash: 3f301e1e3b7ccc38018abe962cb43a927d7a95a1
# Author: Kartikaya Gupta <kgupta@mozilla.com>
# Date: 2020-08-19 10:01:16
# Description:
#   Bug 1659704 - Add some release assertions to find out why assumptions are breaking. r=snorp
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D87472
# ==============================================================================

diff -r 603ca1324860 -r 3f301e1e3b7c gfx/layers/ipc/RemoteContentController.cpp
--- a/gfx/layers/ipc/RemoteContentController.cpp	Tue Aug 18 04:14:19 2020 +0000
+++ b/gfx/layers/ipc/RemoteContentController.cpp	Tue Aug 18 18:10:23 2020 +0000
@@ -243,7 +243,7 @@
     }
 #endif
 
-    MOZ_ASSERT(NS_IsMainThread());
+    MOZ_RELEASE_ASSERT(NS_IsMainThread());
     RefPtr<GeckoContentController> rootController =
         CompositorBridgeParent::GetGeckoContentControllerForRoot(
             aGuid.mLayersId);
@@ -268,7 +268,7 @@
     }
 #endif
 
-    MOZ_ASSERT(NS_IsMainThread());
+    MOZ_RELEASE_ASSERT(NS_IsMainThread());
     RefPtr<GeckoContentController> rootController =
         CompositorBridgeParent::GetGeckoContentControllerForRoot(
             aGuid.mLayersId);
