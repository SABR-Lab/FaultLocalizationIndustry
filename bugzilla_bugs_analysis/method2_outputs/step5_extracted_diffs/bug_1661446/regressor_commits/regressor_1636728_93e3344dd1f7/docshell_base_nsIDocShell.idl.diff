# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: docshell/base/nsIDocShell.idl
# Commit: 93e3344dd1f7
# Full Hash: 93e3344dd1f7454dc46c1553dd05e5e3bc78c349
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2020-08-26 03:24:37
# Regressor Bug: 1636728
# File Overlap Count: 1
# Description:
#   Bug 1636728 - Centralize printing entry points in nsGlobalWindowOuter, and move cloning out of nsPrintJob. r=jwatt,geckoview-reviewers,smaug,agi
#   
#   This centralizes our print and preview setup in nsGlobalWindowOuter so
#   that we never re-clone a clone, and so that we reuse the window.open()
#   codepath to create the browsing context to clone into.
# ==============================================================================

diff -r 2969f3de028f -r 93e3344dd1f7 docshell/base/nsIDocShell.idl
--- a/docshell/base/nsIDocShell.idl	Tue Aug 25 02:58:57 2020 +0000
+++ b/docshell/base/nsIDocShell.idl	Tue Aug 25 17:45:12 2020 +0000
@@ -483,24 +483,6 @@
   [noscript, notxpcom] void setIsPrinting(in boolean aIsPrinting);
 
   /**
-   * This method should only be called on a docShell that has been specifically
-   * created to display a print preview document.  If the current document
-   * viewer isn't initialized for print preview when this method is called, it
-   * is replaced with a new viewer with an about:blank document (with the URL
-   * about:printpreview).  The viewer is then returned, ready for the print
-   * preview document to be constructed when viewer.printPreview() is called.
-   *
-   * The same viewer will be returned on subsequent calls since various bits of
-   * code assume that, once created, the viewer is never replaced.  Note,
-   * however, that the viewer's document will be replaced with a new document
-   * each time printPreview() is called on it (which is what we do to take
-   * account of print preview settings changes).  Replacing the document
-   * viewer's document breaks the normally unchanging 1:1 relationship between
-   * a document and its viewer, but that seems to be okay.
-   */
-  nsIWebBrowserPrint initOrReusePrintPreviewViewer();
-
-  /**
    * Propagated to the print preview document viewer.  Must only be called on
    * a document viewer that has been initialized for print preview.
    */