# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/interfaces/base/nsIBrowserDOMWindow.idl
# Commit: 93e3344dd1f7
# Full Hash: 93e3344dd1f7454dc46c1553dd05e5e3bc78c349
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2020-08-26 03:24:37
# Regressor Bug: 1636728
# File Overlap Count: 1
# Description:
#   Bug 1636728 - Centralize printing entry points in nsGlobalWindowOuter, and move cloning out of nsPrintJob. r=jwatt,geckoview-reviewers,smaug,agi
#   
#   This centralizes our print and preview setup in nsGlobalWindowOuter so
#   that we never re-clone a clone, and so that we reuse the window.open()
#   codepath to create the browsing context to clone into.
# ==============================================================================

diff -r 2969f3de028f -r 93e3344dd1f7 dom/interfaces/base/nsIBrowserDOMWindow.idl
--- a/dom/interfaces/base/nsIBrowserDOMWindow.idl	Tue Aug 25 02:58:57 2020 +0000
+++ b/dom/interfaces/base/nsIBrowserDOMWindow.idl	Tue Aug 25 17:45:12 2020 +0000
@@ -72,6 +72,10 @@
    * found, revert to OPEN_NEWTAB behavior.
    */
   const short OPEN_SWITCHTAB     = 4;
+  /**
+   * Open in a hidden browser. Used for printing.
+   */
+  const short OPEN_PRINT_BROWSER = 4;
 
   /**
    * Values for createContentWindow's and openURI's aFlags parameter.
@@ -138,20 +142,6 @@
                              in short aWhere, in long aFlags,
                              in AString aName);
 
-
-  /**
-   * Requests printing of a given browsing context. Note that the browsing
-   * context may not directly correspond to a tab, it could be from a nested
-   * frame instead.
-   *
-   * @param aSourceBrowsingContext the browsing context that we're interested
-   *        in printing.
-   *
-   * @return void, but note that you MUST set `aSourceBrowsingContext.isAwaitingPrint`
-   *         to `false` as a result of this operation.
-   */
-  void print(in BrowsingContext aSourceBrowsingContext);
-
   /**
    * Load a URI.
    * @param aURI the URI to open. null is not allowed. To create the window