# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/events/EventStateManager.cpp
# Commit: 936591fa4a69
# Full Hash: 936591fa4a69557098f1ac1892211f78c005c9c6
# Author: Edgar Chen <echen@mozilla.com>
# Date: 2021-01-05 21:56:58
# Regressor Bug: 1653949
# File Overlap Count: 1
# Description:
#   Bug 1662363 - Rename eTopLevel/eChild to ePlatformTopLevel/ePlatformChild; r=smaug
#   
#   This is a follow-up of bug 1653949.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D100729
# ==============================================================================

diff -r ff581d36e640 -r 936591fa4a69 dom/events/EventStateManager.cpp
--- a/dom/events/EventStateManager.cpp	Tue Jan 05 09:47:53 2021 +0000
+++ b/dom/events/EventStateManager.cpp	Tue Jan 05 09:48:24 2021 +0000
@@ -653,7 +653,8 @@
       // If the event is not a top-level window or puppet widget exit, then it's
       // not really an exit --- we may have traversed widget boundaries but
       // we're still in our toplevel window or puppet widget.
-      if (mouseEvent->mExitFrom.value() != WidgetMouseEvent::eTopLevel &&
+      if (mouseEvent->mExitFrom.value() !=
+              WidgetMouseEvent::ePlatformTopLevel &&
           mouseEvent->mExitFrom.value() != WidgetMouseEvent::ePuppet) {
         // Treat it as a synthetic move so we don't generate spurious
         // "exit" or "move" events.  Any necessary "out" or "over" events
@@ -662,8 +663,9 @@
         mouseEvent->mReason = WidgetMouseEvent::eSynthesized;
         // then fall through...
       } else {
-        MOZ_ASSERT_IF(XRE_IsParentProcess(), mouseEvent->mExitFrom.value() ==
-                                                 WidgetMouseEvent::eTopLevel);
+        MOZ_ASSERT_IF(XRE_IsParentProcess(),
+                      mouseEvent->mExitFrom.value() ==
+                          WidgetMouseEvent::ePlatformTopLevel);
         MOZ_ASSERT_IF(XRE_IsContentProcess(), mouseEvent->mExitFrom.value() ==
                                                   WidgetMouseEvent::ePuppet);
         // We should synthetize corresponding pointer events