# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: gfx/layers/wr/WebRenderBridgeParent.cpp
# Commit: b4f193126871
# Full Hash: b4f193126871028c81a5a18f148ecda0583c2675
# Author: Jamie Nicol <jnicol@mozilla.com>
# Date: 2020-10-13 03:29:28
# Description:
#   Bug 1670313 - Avoid crash in CompositorVsyncScheduler::CompositeToTarget() r=mattwoodrow
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D93220
# ==============================================================================

diff -r c220bfb74ee3 -r b4f193126871 gfx/layers/wr/WebRenderBridgeParent.cpp
--- a/gfx/layers/wr/WebRenderBridgeParent.cpp	Mon Oct 12 22:41:43 2020 +0300
+++ b/gfx/layers/wr/WebRenderBridgeParent.cpp	Mon Oct 12 19:30:54 2020 +0000
@@ -1971,7 +1971,9 @@
 void WebRenderBridgeParent::CompositeIfNeeded() {
   if (mSkippedComposite) {
     mSkippedComposite = false;
-    mCompositorScheduler->ScheduleComposition();
+    if (mCompositorScheduler) {
+      mCompositorScheduler->ScheduleComposition();
+    }
   }
 }
 
