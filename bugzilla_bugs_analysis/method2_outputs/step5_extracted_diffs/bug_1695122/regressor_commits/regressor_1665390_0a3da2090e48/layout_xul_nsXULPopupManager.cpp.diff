# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/xul/nsXULPopupManager.cpp
# Commit: 0a3da2090e48
# Full Hash: 0a3da2090e4859473f52b585bcb39baae2876b28
# Author: Jared Wein <jwein@mozilla.com>
# Date: 2021-02-26 03:55:47
# Regressor Bug: 1665390
# File Overlap Count: 1
# Description:
#   Bug 1665390 - Style bookmarks toolbar and tabs toolbar tooltips. r=NeilDeakin,ntim
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D104257
# ==============================================================================

diff -r 176b788753e8 -r 0a3da2090e48 layout/xul/nsXULPopupManager.cpp
--- a/layout/xul/nsXULPopupManager.cpp	Thu Feb 25 20:47:15 2021 +0000
+++ b/layout/xul/nsXULPopupManager.cpp	Thu Feb 25 20:47:54 2021 +0000
@@ -737,6 +737,22 @@
   FirePopupShowingEvent(aPopup, aIsContextMenu, false, aTriggerEvent);
 }
 
+void nsXULPopupManager::ShowTooltipAtPosition(nsIContent* aPopup,
+                                              nsIContent* aTriggerContent,
+                                              const nsAString& aPosition) {
+  nsMenuPopupFrame* popupFrame = GetPopupFrameForContent(aPopup, true);
+  if (!popupFrame || !MayShowPopup(popupFrame)) {
+    return;
+  }
+
+  InitTriggerEvent(nullptr, nullptr, nullptr);
+
+  popupFrame->InitializePopup(aTriggerContent, aTriggerContent, aPosition, 0, 0,
+                              MenuPopupAnchorType_Node, false);
+
+  FirePopupShowingEvent(aPopup, false, false, nullptr);
+}
+
 void nsXULPopupManager::ShowTooltipAtScreen(nsIContent* aPopup,
                                             nsIContent* aTriggerContent,
                                             int32_t aXPos, int32_t aYPos) {