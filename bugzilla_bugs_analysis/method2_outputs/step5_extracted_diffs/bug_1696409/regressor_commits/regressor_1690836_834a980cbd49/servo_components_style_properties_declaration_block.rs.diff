# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: servo/components/style/properties/declaration_block.rs
# Commit: 834a980cbd49
# Full Hash: 834a980cbd49b0634e98e0a00441bb20ad4ceb40
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2021-02-16 21:51:29
# Regressor Bug: 1690836
# File Overlap Count: 1
# Description:
#   Bug 1690836 - Cache substituted values from shorthand properties during the cascade. r=xidorn
#   
#   This brings the time down to 1.6ms from 4.8ms on the test-case in the
#   bug. This should be improvable too, but I think this is a nice
#   improvement for regular styling as well.
# ==============================================================================

diff -r 9455553189d2 -r 834a980cbd49 servo/components/style/properties/declaration_block.rs
--- a/servo/components/style/properties/declaration_block.rs	Tue Feb 16 13:38:08 2021 +0000
+++ b/servo/components/style/properties/declaration_block.rs	Tue Feb 16 13:38:08 2021 +0000
@@ -837,6 +837,7 @@
                         custom_properties.as_ref(),
                         QuirksMode::NoQuirks,
                         device,
+                        &mut Default::default()
                     )
                     .to_css(dest)
             },