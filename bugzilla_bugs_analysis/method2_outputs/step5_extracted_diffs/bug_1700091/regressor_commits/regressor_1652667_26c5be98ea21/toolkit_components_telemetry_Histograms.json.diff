# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: toolkit/components/telemetry/Histograms.json
# Commit: 26c5be98ea21
# Full Hash: 26c5be98ea21c8c331cefe9649e3eb53197cd821
# Author: Kershaw Chang <kershaw@mozilla.com>
# Date: 2020-08-26 03:24:37
# Regressor Bug: 1652667
# File Overlap Count: 1
# Description:
#   Bug 1652667 - P2: Telemetry for whether a connection is succeeded by using an HTTPSSVC record r=valentin
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D87857
# ==============================================================================

diff -r 96bd98319c62 -r 26c5be98ea21 toolkit/components/telemetry/Histograms.json
--- a/toolkit/components/telemetry/Histograms.json	Tue Aug 25 17:29:32 2020 +0000
+++ b/toolkit/components/telemetry/Histograms.json	Tue Aug 25 17:29:31 2020 +0000
@@ -4134,6 +4134,16 @@
     "kind": "enumerated",
     "description": "Record at which stage an HTTPSSVC record is received"
   },
+  "DNS_HTTPSSVC_CONNECTION_FAILED_REASON": {
+    "record_in_processes": ["main"],
+    "products": ["firefox", "fennec"],
+    "expires_in_version": "never",
+    "n_values": 50,
+    "bug_numbers": [1652667],
+    "alert_emails": ["necko@mozilla.com", "kershaw@mozilla.com"],
+    "kind": "enumerated",
+    "description": "The reason why we failed to connect with an HTTPSSVC record"
+  },
   "REFRESH_DRIVER_TICK" : {
     "record_in_processes": ["main", "content"],
     "products": ["firefox", "fennec"],
