# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: ipc/chromium/src/chrome/common/ipc_channel_posix.cc
# Commit: 092bc4ac84dc
# Full Hash: 092bc4ac84dce8e4b5cd6e23377652596cf74204
# Author: Nika Layzell <nika@thelayzells.com>
# Date: 2021-06-23 09:53:24
# Regressor Bug: 1706374
# File Overlap Count: 1
# Description:
#   Bug 1706374 - Part 9: Allow reading OtherPid() from an opened IPC::Channel, r=handyman
#   
#   This will be used to handle pre-opened channels more reliably in ports code.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D112774
# ==============================================================================

diff -r 3b2722d8636b -r 092bc4ac84dc ipc/chromium/src/chrome/common/ipc_channel_posix.cc
--- a/ipc/chromium/src/chrome/common/ipc_channel_posix.cc	Tue Jun 22 18:17:20 2021 +0000
+++ b/ipc/chromium/src/chrome/common/ipc_channel_posix.cc	Tue Jun 22 18:17:21 2021 +0000
@@ -965,6 +965,8 @@
   channel_impl_->CloseClientFileDescriptor();
 }
 
+int32_t Channel::OtherPid() const { return channel_impl_->OtherPid(); }
+
 bool Channel::Unsound_IsClosed() const {
   return channel_impl_->Unsound_IsClosed();
 }