# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: ipc/chromium/src/chrome/common/ipc_channel_posix.h
# Commit: 092bc4ac84dc
# Full Hash: 092bc4ac84dce8e4b5cd6e23377652596cf74204
# Author: Nika Layzell <nika@thelayzells.com>
# Date: 2021-06-23 09:53:24
# Regressor Bug: 1706374
# File Overlap Count: 1
# Description:
#   Bug 1706374 - Part 9: Allow reading OtherPid() from an opened IPC::Channel, r=handyman
#   
#   This will be used to handle pre-opened channels more reliably in ports code.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D112774
# ==============================================================================

diff -r 3b2722d8636b -r 092bc4ac84dc ipc/chromium/src/chrome/common/ipc_channel_posix.h
--- a/ipc/chromium/src/chrome/common/ipc_channel_posix.h	Tue Jun 22 18:17:20 2021 +0000
+++ b/ipc/chromium/src/chrome/common/ipc_channel_posix.h	Tue Jun 22 18:17:21 2021 +0000
@@ -51,6 +51,8 @@
   int GetFileDescriptor() const { return pipe_; }
   void CloseClientFileDescriptor();
 
+  int32_t OtherPid() const { return other_pid_; }
+
   // See the comment in ipc_channel.h for info on Unsound_IsClosed() and
   // Unsound_NumQueuedMessages().
   bool Unsound_IsClosed() const;