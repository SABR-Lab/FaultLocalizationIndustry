# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: editor/libeditor/EditorBase.h
# Commit: 42ed78fa08b2
# Full Hash: 42ed78fa08b226f3de66ce279740432bcd393a84
# Author: Masayuki Nakano <masayuki@d-toybox.com>
# Date: 2021-08-27 09:43:40
# Regressor Bug: 1727185
# File Overlap Count: 1
# Description:
#   Bug 1727185 - part 2: Add removable node checks for more callers of `DeleteNodeTransaction::MaybeCreate()` r=m_kato
#   
#   I just missed some callers of it.  And I also make
#   `EditorBase::DeleteNodeTransaction()` a virtual method and `HTMLEditor` override
#   it.  Then, even if it's called by helper classes, the `HTMLEditor` version is
# ==============================================================================

diff -r f79cc68cd2fe -r 42ed78fa08b2 editor/libeditor/EditorBase.h
--- a/editor/libeditor/EditorBase.h	Fri Aug 27 00:26:30 2021 +0000
+++ b/editor/libeditor/EditorBase.h	Fri Aug 27 00:49:35 2021 +0000
@@ -1723,7 +1723,8 @@
    *
    * @param aContent    The node which will be removed form the DOM tree.
    */
-  MOZ_CAN_RUN_SCRIPT nsresult DeleteNodeWithTransaction(nsIContent& aContent);
+  virtual MOZ_CAN_RUN_SCRIPT nsresult
+  DeleteNodeWithTransaction(nsIContent& aContent);
 
   /**
    * InsertNodeWithTransaction() inserts aContentToInsert before the child