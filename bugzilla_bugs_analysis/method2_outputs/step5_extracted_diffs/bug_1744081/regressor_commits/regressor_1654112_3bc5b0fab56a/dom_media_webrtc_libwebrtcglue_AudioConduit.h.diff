# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/webrtc/libwebrtcglue/AudioConduit.h
# Commit: 3bc5b0fab56a
# Full Hash: 3bc5b0fab56a8813870cb51e1ad7b7063d8fc8fb
# Author: Andreas Pehrson <apehrson@mozilla.com>
# Date: 2021-11-01 18:17:33
# Regressor Bug: 1654112
# File Overlap Count: 3
# Description:
#   Bug 1654112 - Rework AudioConduit DTMF API to be closer to the upstream API. r=ng
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D112860
# ==============================================================================

diff -r 0991ebfeb365 -r 3bc5b0fab56a dom/media/webrtc/libwebrtcglue/AudioConduit.h
--- a/dom/media/webrtc/libwebrtcglue/AudioConduit.h	Sun Apr 18 21:06:49 2021 +0200
+++ b/dom/media/webrtc/libwebrtcglue/AudioConduit.h	Mon Apr 19 23:58:47 2021 +0200
@@ -168,10 +168,8 @@
   Maybe<webrtc::AudioSendStream::Stats> GetSenderStats() const override;
   webrtc::Call::Stats GetCallStats() const override;
 
-  bool SetDtmfPayloadType(unsigned char type, int freq) override;
-
-  bool InsertDTMFTone(int channel, int eventCode, bool outOfBand, int lengthMs,
-                      int attenuationDb) override;
+  bool InsertDTMFTone(unsigned char payloadType, int payloadFrequency,
+                      int eventCode, int lengthMs) override;
 
   bool IsSamplingFreqSupported(int freq) const override;
 
@@ -241,8 +239,6 @@
 
   // Accessed only on the Call thread.
   bool mDtmfEnabled;
-  int mDtmfPayloadType = -1;
-  int mDtmfPayloadFrequency = -1;
 
   Mutex mMutex;
 