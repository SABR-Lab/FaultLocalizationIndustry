# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/webrtc/libwebrtcglue/WebrtcCallWrapper.h
# Commit: 400d8a0f1a7d
# Full Hash: 400d8a0f1a7d5f7df39f159d4cdb3c86d9eea23b
# Author: Andreas Pehrson <apehrson@mozilla.com>
# Date: 2021-11-01 18:17:33
# Regressor Bug: 1654112
# File Overlap Count: 2
# Description:
#   Bug 1654112 - Update conduit unittests to work with the Call worker thread. r=ng
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D112845
# ==============================================================================

diff -r 8d80a4ba914c -r 400d8a0f1a7d dom/media/webrtc/libwebrtcglue/WebrtcCallWrapper.h
--- a/dom/media/webrtc/libwebrtcglue/WebrtcCallWrapper.h	Mon Apr 12 14:49:20 2021 +0200
+++ b/dom/media/webrtc/libwebrtcglue/WebrtcCallWrapper.h	Tue Apr 06 17:45:07 2021 +0200
@@ -39,8 +39,6 @@
       webrtc::AudioDecoderFactory* aAudioDecoderFactory,
       webrtc::WebRtcKeyValueConfig* aTrials);
 
-  static RefPtr<WebrtcCallWrapper> Create(UniquePtr<webrtc::Call> aCall);
-
   NS_INLINE_DECL_THREADSAFE_REFCOUNTING(WebrtcCallWrapper)
 
   // Don't allow copying/assigning.
@@ -85,7 +83,6 @@
  protected:
   virtual ~WebrtcCallWrapper();
 
- private:
   WebrtcCallWrapper(RefPtr<AbstractThread> aCallThread,
                     RefPtr<webrtc::AudioDecoderFactory> aAudioDecoderFactory,
                     UniquePtr<webrtc::VideoBitrateAllocatorFactory>
@@ -111,7 +108,7 @@
   const UniquePtr<webrtc::RtcEventLog> mEventLog;
   const UniquePtr<webrtc::TaskQueueFactory> mTaskQueueFactory;
 
- private:
+ protected:
   // Call worker thread only.
   UniquePtr<webrtc::Call> mCall;
 };