# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/webrtc/libwebrtcglue/VideoConduit.cpp
# Commit: 8d60ee1f7cd7
# Full Hash: 8d60ee1f7cd7cc655c34d66e070feea356634997
# Author: Andreas Pehrson <apehrson@mozilla.com>
# Date: 2021-11-01 18:17:33
# Regressor Bug: 1654112
# File Overlap Count: 4
# Description:
#   Bug 1654112 - Remove CODEC_PLNAME_SIZE as CodecInst no longer exists upstream. r=ng
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D102277
# ==============================================================================

diff -r f16cf2573a4d -r 8d60ee1f7cd7 dom/media/webrtc/libwebrtcglue/VideoConduit.cpp
--- a/dom/media/webrtc/libwebrtcglue/VideoConduit.cpp	Mon Jan 18 11:16:22 2021 +0100
+++ b/dom/media/webrtc/libwebrtcglue/VideoConduit.cpp	Fri Jan 29 17:03:42 2021 +0100
@@ -93,8 +93,6 @@
 // is active and one or more layers are being scaled.
 #define SIMULCAST_RESOLUTION_ALIGNMENT 16
 
-// 32 bytes is what WebRTC CodecInst expects
-const unsigned int WebrtcVideoConduit::CODEC_PLNAME_SIZE = 32;
 
 template <class t>
 static void ConstrainPreservingAspectRatioExact(uint32_t max_fs, t* width,
@@ -174,9 +172,8 @@
     return kMediaConduitMalformedArgument;
   }
 
-  if ((codecInfo->mName.empty()) ||
-      (codecInfo->mName.length() >= WebrtcVideoConduit::CODEC_PLNAME_SIZE)) {
-    CSFLogError(LOGTAG, "%s Invalid Payload Name Length ", __FUNCTION__);
+  if (codecInfo->mName.empty()) {
+    CSFLogError(LOGTAG, "%s Empty Payload Name ", __FUNCTION__);
     return kMediaConduitMalformedArgument;
   }
 