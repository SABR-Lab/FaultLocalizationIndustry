# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/wgpu_bindings/src/lib.rs
# Commit: ef5dc3e04e5f
# Full Hash: ef5dc3e04e5f271eea0636ab3a495e95cc912f1d
# Author: Dzmitry Malyshau <dmalyshau@mozilla.com>
# Date: 2021-09-04 09:40:24
# Regressor Bug: 1726626
# File Overlap Count: 3
# Description:
#   Bug 1726626 - Move gfx/wgpu into a 3rd party dependency r=jgilbert,bholley
#   
#   This update makes wgpu a vendored dependency instead of having it in gfx/wgpu.
#   
#   ## Notes
# ==============================================================================

diff --git a/gfx/wgpu_bindings/src/lib.rs b/gfx/wgpu_bindings/src/lib.rs
--- a/gfx/wgpu_bindings/src/lib.rs
+++ b/gfx/wgpu_bindings/src/lib.rs
@@ -63,22 +63,16 @@ impl ByteBuf {
 pub struct AdapterInformation {
     id: id::AdapterId,
     ty: wgt::DeviceType,
     limits: wgt::Limits,
     features: wgt::Features,
 }
 
 #[derive(serde::Serialize, serde::Deserialize)]
-enum ShaderModuleSource<'a> {
-    SpirV(Cow<'a, [u32]>),
-    Wgsl(Cow<'a, str>),
-}
-
-#[derive(serde::Serialize, serde::Deserialize)]
 struct ImplicitLayout<'a> {
     pipeline: id::PipelineLayoutId,
     bind_groups: Cow<'a, [id::BindGroupLayoutId]>,
 }
 
 #[derive(serde::Serialize, serde::Deserialize)]
 enum DeviceAction<'a> {
     CreateBuffer(id::BufferId, wgc::resource::BufferDescriptor<'a>),
@@ -91,17 +85,17 @@ enum DeviceAction<'a> {
     CreatePipelineLayout(
         id::PipelineLayoutId,
         wgc::binding_model::PipelineLayoutDescriptor<'a>,
     ),
     CreateBindGroup(id::BindGroupId, wgc::binding_model::BindGroupDescriptor<'a>),
     CreateShaderModule(
         id::ShaderModuleId,
         wgc::pipeline::ShaderModuleDescriptor<'a>,
-        ShaderModuleSource<'a>,
+        Cow<'a, str>,
     ),
     CreateComputePipeline(
         id::ComputePipelineId,
         wgc::pipeline::ComputePipelineDescriptor<'a>,
         Option<ImplicitLayout<'a>>,
     ),
     CreateRenderPipeline(
         id::RenderPipelineId,