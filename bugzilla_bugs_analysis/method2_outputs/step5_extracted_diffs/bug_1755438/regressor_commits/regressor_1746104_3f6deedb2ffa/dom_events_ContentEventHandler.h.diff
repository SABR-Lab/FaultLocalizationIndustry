# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/events/ContentEventHandler.h
# Commit: 3f6deedb2ffa
# Full Hash: 3f6deedb2ffae2a52c130f68cc7c0bda882bedfd
# Author: Masayuki Nakano <masayuki@d-toybox.com>
# Date: 2022-02-08 17:32:27
# Regressor Bug: 1746104
# File Overlap Count: 1
# Description:
#   Bug 1746104 - part 7: Make `eQuerySelectedText` event and `ContentEventHandler` work with no selection ranges r=m_kato
#   
#   Finally, making `WidgetQueryContentEvent::Succeeded` return `true` when there
#   is no selection when its message is `eQuerySelectedText`, and making
#   `ContentEventHandler::OnQuerySelectedText` set the no selection range data even
# ==============================================================================

diff -r 989ad9507a0c -r 3f6deedb2ffa dom/events/ContentEventHandler.h
--- a/dom/events/ContentEventHandler.h	Mon Feb 07 22:33:41 2022 +0000
+++ b/dom/events/ContentEventHandler.h	Mon Feb 07 22:33:41 2022 +0000
@@ -157,7 +157,8 @@
 
   nsresult InitBasic(bool aRequireFlush = true);
   MOZ_CAN_RUN_SCRIPT nsresult
-  InitCommon(SelectionType aSelectionType = SelectionType::eNormal,
+  InitCommon(EventMessage aEventMessage,
+             SelectionType aSelectionType = SelectionType::eNormal,
              bool aRequireFlush = true);
   /**
    * InitRootContent() computes the root content of current focused editor.