# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/loader/ModuleLoadRequest.h
# Commit: 7d5683180ac3
# Full Hash: 7d5683180ac3f9e7cc96d68dde27b8b48642a7ac
# Author: Yulia Startsev <ystartsev@mozilla.com>
# Date: 2022-02-18 09:08:22
# Regressor Bug: 1742437
# File Overlap Count: 5
# Description:
#   Bug 1742437 - re-scope all generic module/script loader files under js/loader; r=jonco
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D138133
# ==============================================================================

diff -r a48aff5f2555 -r 7d5683180ac3 js/loader/ModuleLoadRequest.h
--- a/js/loader/ModuleLoadRequest.h	Thu Feb 17 15:57:52 2022 +0000
+++ b/js/loader/ModuleLoadRequest.h	Thu Feb 17 15:57:52 2022 +0000
@@ -4,8 +4,8 @@
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
-#ifndef mozilla_dom_ModuleLoadRequest_h
-#define mozilla_dom_ModuleLoadRequest_h
+#ifndef js_loader_ModuleLoadRequest_h
+#define js_loader_ModuleLoadRequest_h
 
 #include "ScriptLoadRequest.h"
 #include "mozilla/MozPromise.h"
@@ -14,8 +14,7 @@
 #include "nsURIHashKey.h"
 #include "nsTHashtable.h"
 
-namespace mozilla {
-namespace dom {
+namespace JS::loader {
 
 class ModuleScript;
 class ModuleLoaderBase;
@@ -43,10 +42,15 @@
   NS_DECL_ISUPPORTS_INHERITED
   NS_DECL_CYCLE_COLLECTION_SCRIPT_HOLDER_CLASS_INHERITED(ModuleLoadRequest,
                                                          ScriptLoadRequest)
+  using SRIMetadata = mozilla::dom::SRIMetadata;
+
+  template <typename T>
+  using MozPromiseHolder = mozilla::MozPromiseHolder<T>;
+  using GenericPromise = mozilla::GenericPromise;
 
   ModuleLoadRequest(nsIURI* aURI, ScriptFetchOptions* aFetchOptions,
                     const SRIMetadata& aIntegrity, nsIURI* aReferrer,
-                    ScriptLoadContext* aContext, bool aIsTopLevel,
+                    mozilla::dom::ScriptLoadContext* aContext, bool aIsTopLevel,
                     bool aIsDynamicImport, ModuleLoaderBase* aLoader,
                     VisitedURLSet* aVisitedSet, ModuleLoadRequest* aRootModule);
 
@@ -114,7 +118,6 @@
   JS::Heap<JSObject*> mDynamicPromise;
 };
 
-}  // namespace dom
-}  // namespace mozilla
+}  // namespace JS::loader
 
-#endif  // mozilla_dom_ModuleLoadRequest_h
+#endif  // js_loader_ModuleLoadRequest_h