# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/loader/ScriptLoadRequest.cpp
# Commit: b8ecf23519c9
# Full Hash: b8ecf23519c9ab5180d08f00c712674bfe968dac
# Author: Yulia Startsev <ystartsev@mozilla.com>
# Date: 2022-02-21 21:39:46
# Regressor Bug: 1742437
# File Overlap Count: 5
# Description:
#   Bug 1742437 - re-scope all generic module/script loader files under js/loader; r=jonco
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D138133
# ==============================================================================

diff -r 85fd9fc9cffa -r b8ecf23519c9 js/loader/ScriptLoadRequest.cpp
--- a/js/loader/ScriptLoadRequest.cpp	Mon Feb 21 15:39:08 2022 +0000
+++ b/js/loader/ScriptLoadRequest.cpp	Mon Feb 21 15:39:09 2022 +0000
@@ -5,10 +5,11 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "ScriptLoadRequest.h"
-#include "mozilla/dom/ScriptLoadContext.h"
 #include "GeckoProfiler.h"
 
 #include "mozilla/dom/Document.h"
+#include "mozilla/dom/ScriptLoadContext.h"
+#include "mozilla/dom/ScriptSettings.h"
 #include "mozilla/HoldDropJSObjects.h"
 #include "mozilla/StaticPrefs_dom.h"
 #include "mozilla/Unused.h"
@@ -22,13 +23,10 @@
 #include "nsICacheInfoChannel.h"
 #include "nsIClassOfService.h"
 #include "nsISupportsPriority.h"
-#include "ScriptLoadRequest.h"
-#include "mozilla/dom/ScriptSettings.h"
 
 using JS::SourceText;
 
-namespace mozilla {
-namespace dom {
+namespace JS::loader {
 
 //////////////////////////////////////////////////////////////
 // ScriptFetchOptions
@@ -39,9 +37,9 @@
 NS_IMPL_CYCLE_COLLECTION_ROOT_NATIVE(ScriptFetchOptions, AddRef)
 NS_IMPL_CYCLE_COLLECTION_UNROOT_NATIVE(ScriptFetchOptions, Release)
 
-ScriptFetchOptions::ScriptFetchOptions(mozilla::CORSMode aCORSMode,
-                                       ReferrerPolicy aReferrerPolicy,
-                                       nsIPrincipal* aTriggeringPrincipal)
+ScriptFetchOptions::ScriptFetchOptions(
+    mozilla::CORSMode aCORSMode, mozilla::dom::ReferrerPolicy aReferrerPolicy,
+    nsIPrincipal* aTriggeringPrincipal)
     : mCORSMode(aCORSMode),
       mReferrerPolicy(aReferrerPolicy),
       mTriggeringPrincipal(aTriggeringPrincipal) {
@@ -80,7 +78,7 @@
                                      ScriptFetchOptions* aFetchOptions,
                                      const SRIMetadata& aIntegrity,
                                      nsIURI* aReferrer,
-                                     ScriptLoadContext* aContext)
+                                     mozilla::dom::ScriptLoadContext* aContext)
     : mKind(aKind),
       mIsCanceled(false),
       mProgress(Progress::eLoading),
@@ -232,5 +230,4 @@
 }
 #endif  // DEBUG
 
-}  // namespace dom
-}  // namespace mozilla
+}  // namespace JS::loader