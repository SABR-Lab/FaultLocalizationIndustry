# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: modules/libpref/init/StaticPrefList.yaml
# Commit: 078521a5c82b
# Full Hash: 078521a5c82b9af962e6da4cc4afda0d2b10eb28
# Author: Paul Adenot <paul@paul.cx>
# Date: 2022-02-08 21:51:08
# Regressor Bug: 1754006
# File Overlap Count: 1
# Description:
#   Bug 1754006 - Increase the processed media queue size and threshold in AudioSink. r=alwu
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D138028
# ==============================================================================

diff -r 51c6ec31fb1c -r 078521a5c82b modules/libpref/init/StaticPrefList.yaml
--- a/modules/libpref/init/StaticPrefList.yaml	Tue Feb 08 15:57:49 2022 +0000
+++ b/modules/libpref/init/StaticPrefList.yaml	Tue Feb 08 16:07:43 2022 +0000
@@ -9512,6 +9512,14 @@
   value: 8
   mirror: always
 
+# The duration, in milliseconds, of decoded audio to keep around in the
+# AudioSink ring-buffer. New decoding operations are started when this limit is
+# reached. The total size of the ring-buffer is slightly bigger than this.
+- name: media.audio.audiosink.threshold_ms
+  type: AtomicFloat
+  value: 1000.0
+  mirror: always
+
 
 #---------------------------------------------------------------------------
 # Prefs starting with "midi."
