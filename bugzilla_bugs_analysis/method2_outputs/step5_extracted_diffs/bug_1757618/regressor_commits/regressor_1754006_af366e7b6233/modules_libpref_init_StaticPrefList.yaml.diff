# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: modules/libpref/init/StaticPrefList.yaml
# Commit: af366e7b6233
# Full Hash: af366e7b62333a382d506ba103fc414c451c5fd3
# Author: Paul Adenot <paul@paul.cx>
# Date: 2022-02-12 09:47:43
# Regressor Bug: 1754006
# File Overlap Count: 1
# Description:
#   Bug 1754006 - Increase the processed media queue size and threshold in AudioSink. r=alwu
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D138028
# ==============================================================================

diff -r b4ab5515b401 -r af366e7b6233 modules/libpref/init/StaticPrefList.yaml
--- a/modules/libpref/init/StaticPrefList.yaml	Fri Feb 11 16:34:24 2022 +0000
+++ b/modules/libpref/init/StaticPrefList.yaml	Fri Feb 11 16:58:51 2022 +0000
@@ -9517,6 +9517,14 @@
   value: 8
   mirror: always
 
+# The duration, in milliseconds, of decoded audio to keep around in the
+# AudioSink ring-buffer. New decoding operations are started when this limit is
+# reached. The total size of the ring-buffer is slightly bigger than this.
+- name: media.audio.audiosink.threshold_ms
+  type: AtomicFloat
+  value: 1000.0
+  mirror: always
+
 
 #---------------------------------------------------------------------------
 # Prefs starting with "midi."
