# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/quota/QuotaManager.h
# Commit: 971e1a26ebfe
# Full Hash: 971e1a26ebfe88443eb04bf735e3de9f6d121c7e
# Author: Jens Stutte <jstutte@mozilla.com>
# Date: 2022-04-08 09:45:06
# Regressor Bug: 1757186
# File Overlap Count: 1
# Description:
#   Bug 1757186: Unnest QM shutdown timers and extend crash timer scope. r=dom-storage-reviewers,janv
#   
#   Depends on D139616
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D139795
# ==============================================================================

diff -r ca05c0655eb8 -r 971e1a26ebfe dom/quota/QuotaManager.h
--- a/dom/quota/QuotaManager.h	Thu Apr 07 17:01:55 2022 +0000
+++ b/dom/quota/QuotaManager.h	Thu Apr 07 17:01:56 2022 +0000
@@ -590,9 +590,6 @@
 
   nsCOMPtr<mozIStorageConnection> mStorageConnection;
 
-  // A timer that gets activated at shutdown to ensure we close all storages.
-  LazyInitializedOnceNotNull<const nsCOMPtr<nsITimer>> mShutdownTimer;
-
   EnumeratedArray<Client::Type, Client::TYPE_MAX, nsCString> mShutdownSteps;
   LazyInitializedOnce<const TimeStamp> mShutdownStartedAt;
   Atomic<bool> mShutdownStarted;
