# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/windows/TSFTextStore.h
# Commit: 60724af309c9
# Full Hash: 60724af309c94cfa3161b4533b00f11b9b5c73c0
# Author: Masayuki Nakano <masayuki@d-toybox.com>
# Date: 2022-02-08 17:32:27
# Regressor Bug: 1746104
# File Overlap Count: 1
# Description:
#   Bug 1746104 - part 1-5: Make `TSFTextStore::Selection` return const reference of `WritingMode` rather than a copy r=m_kato
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D137408
# ==============================================================================

diff -r 1dc1117af560 -r 60724af309c9 widget/windows/TSFTextStore.h
--- a/widget/windows/TSFTextStore.h	Mon Feb 07 22:33:32 2022 +0000
+++ b/widget/windows/TSFTextStore.h	Mon Feb 07 22:33:32 2022 +0000
@@ -698,7 +698,7 @@
       return mACP.isSome() && mACP->style.fInterimChar != FALSE;
     }
 
-    WritingMode GetWritingMode() const { return mWritingMode; }
+    const WritingMode& WritingModeRef() const { return mWritingMode; }
 
     bool EqualsExceptDirection(const TS_SELECTION_ACP& aACP) const {
       if (mACP.isNothing()) {
