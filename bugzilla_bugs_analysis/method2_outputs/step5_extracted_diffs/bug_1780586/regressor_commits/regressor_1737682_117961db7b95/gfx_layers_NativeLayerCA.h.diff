# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/layers/NativeLayerCA.h
# Commit: 117961db7b95
# Full Hash: 117961db7b95e5e979cab956358b79c9a32caa24
# Author: Brad Werth <bwerth@mozilla.com>
# Date: 2021-11-17 03:41:08
# Regressor Bug: 1737682
# File Overlap Count: 1
# Description:
#   Bug 1737682 Part 1: Cache calls to NativeLayerCA::ShouldSpecializeVideo in a state bit. r=gfx-reviewers,mstange
#   
#   This guarantees that any time mMutatedSpecializeVideo is set to true, the next
#   call to ApplyChanges will receive the value that actually triggered the
#   mutation. This was *probably* already true, but this change makes it explicit
# ==============================================================================

diff -r e3e65eadcc8f -r 117961db7b95 gfx/layers/NativeLayerCA.h
--- a/gfx/layers/NativeLayerCA.h	Tue Nov 16 20:41:24 2021 +0000
+++ b/gfx/layers/NativeLayerCA.h	Tue Nov 16 20:55:44 2021 +0000
@@ -435,6 +435,7 @@
   bool mSurfaceIsFlipped = false;
   const bool mIsOpaque = false;
   bool mRootWindowIsFullscreen = false;
+  bool mSpecializeVideo = false;
 };
 
 }  // namespace layers