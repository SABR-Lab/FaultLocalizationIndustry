# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: accessible/mac/mozAccessible.mm
# Commit: 86da8f2a28ea
# Full Hash: 86da8f2a28ea1992671d08dfb56c881a1a82daa5
# Author: James Teh <jteh@mozilla.com>
# Date: 2022-08-04 04:34:13
# Regressor Bug: 1781536
# File Overlap Count: 1
# Description:
#   Bug 1781536 part 3: Move RelationByType to base Accessible. r=morgan
#   
#   This required changing the RemoteAccessible implementations to return Relation instead of an array of RemoteAccessible.
#   Platform implementations have been updated to use the unified method where appropriate.
#   
# ==============================================================================

diff -r 95ae96802dbe -r 86da8f2a28ea accessible/mac/mozAccessible.mm
--- a/accessible/mac/mozAccessible.mm	Wed Aug 03 23:58:51 2022 +0000
+++ b/accessible/mac/mozAccessible.mm	Wed Aug 03 23:58:51 2022 +0000
@@ -991,22 +991,16 @@
 }
 
 - (NSArray<mozAccessible*>*)getRelationsByType:(RelationType)relationType {
-  if (LocalAccessible* acc = mGeckoAccessible->AsLocal()) {
-    NSMutableArray<mozAccessible*>* relations =
-        [[[NSMutableArray alloc] init] autorelease];
-    Relation rel = acc->RelationByType(relationType);
-    while (Accessible* relAcc = rel.Next()) {
-      if (mozAccessible* relNative = GetNativeFromGeckoAccessible(relAcc)) {
-        [relations addObject:relNative];
-      }
+  NSMutableArray<mozAccessible*>* relations =
+      [[[NSMutableArray alloc] init] autorelease];
+  Relation rel = mGeckoAccessible->RelationByType(relationType);
+  while (Accessible* relAcc = rel.Next()) {
+    if (mozAccessible* relNative = GetNativeFromGeckoAccessible(relAcc)) {
+      [relations addObject:relNative];
     }
-
-    return relations;
   }
 
-  RemoteAccessible* proxy = mGeckoAccessible->AsRemote();
-  nsTArray<RemoteAccessible*> rel = proxy->RelationByType(relationType);
-  return utils::ConvertToNSArray(rel);
+  return relations;
 }
 
 - (void)handleAccessibleTextChangeEvent:(NSString*)change