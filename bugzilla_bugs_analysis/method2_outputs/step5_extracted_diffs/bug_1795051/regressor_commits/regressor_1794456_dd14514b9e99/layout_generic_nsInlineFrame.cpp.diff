# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/generic/nsInlineFrame.cpp
# Commit: dd14514b9e99
# Full Hash: dd14514b9e992d986c6802c434e59d67a172f828
# Author: Ting-Yu Lin <tlin@mozilla.com>
# Date: 2022-10-12 09:45:09
# Regressor Bug: 1794456
# File Overlap Count: 1
# Description:
#   Bug 1794456 Part 3 - Support range-based for loop for nsFrameList::Slice. r=emilio
#   
#   Since Slice::mEnd is the first frame that is NOT in the slice, so we only
#   support forward iteration, and it's sufficient to replace existing usages of
#   nsFrameList::Enumerator.
# ==============================================================================

diff -r 58733fee05e0 -r dd14514b9e99 layout/generic/nsInlineFrame.cpp
--- a/layout/generic/nsInlineFrame.cpp	Tue Oct 11 21:01:27 2022 +0000
+++ b/layout/generic/nsInlineFrame.cpp	Tue Oct 11 21:01:28 2022 +0000
@@ -260,10 +260,10 @@
                                    nsIFrame* aParentFrame) {
   RestyleManager* restyleManager = aPresContext->RestyleManager();
 
-  for (nsFrameList::Enumerator e(aFrames); !e.AtEnd(); e.Next()) {
-    NS_ASSERTION(e.get()->GetParent() == aParentFrame, "Bogus parentage");
-    restyleManager->ReparentComputedStyleForFirstLine(e.get());
-    nsLayoutUtils::MarkDescendantsDirty(e.get());
+  for (nsIFrame* f : aFrames) {
+    NS_ASSERTION(f->GetParent() == aParentFrame, "Bogus parentage");
+    restyleManager->ReparentComputedStyleForFirstLine(f);
+    nsLayoutUtils::MarkDescendantsDirty(f);
   }
 }
 