# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/ServoStyleSet.cpp
# Commit: 0347d8673dee
# Full Hash: 0347d8673deea522ae15120fe89e2552bf822a6d
# Author: Emily McDonough <emcdonough@mozilla.com>
# Date: 2022-12-03 09:24:59
# Regressor Bug: 1800546
# File Overlap Count: 1
# Description:
#   Bug 1800546 Part 1 - Use the style given the first page name for setting default orientation when printing r=emilio
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D162058
# ==============================================================================

diff -r 0cda34ba7391 -r 0347d8673dee layout/style/ServoStyleSet.cpp
--- a/layout/style/ServoStyleSet.cpp	Sat Dec 03 01:15:55 2022 +0200
+++ b/layout/style/ServoStyleSet.cpp	Fri Dec 02 23:22:50 2022 +0000
@@ -653,9 +653,9 @@
       Servo_StyleSet_GetSheetAt(mRawSet.get(), aOrigin, aIndex));
 }
 
-Maybe<StylePageSizeOrientation> ServoStyleSet::GetDefaultPageSizeOrientation() {
-  const RefPtr<ComputedStyle> style =
-      ResolveNonInheritingAnonymousBoxStyle(PseudoStyleType::pageContent);
+Maybe<StylePageSizeOrientation> ServoStyleSet::GetDefaultPageSizeOrientation(
+    const nsAtom* aFirstPageName) {
+  const RefPtr<ComputedStyle> style = ResolvePageContentStyle(aFirstPageName);
   const StylePageSize& pageSize = style->StylePage()->mSize;
   if (pageSize.IsOrientation()) {
     return Some(pageSize.AsOrientation());