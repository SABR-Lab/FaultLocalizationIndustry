# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: testing/web-platform/tests/webaudio/the-audio-api/the-audiocontext-interface/crashtests/currentTime-after-discard.html
# Commit: 60e0588ec62c
# Full Hash: 60e0588ec62cebb375ffd30b25b5b22167f50b11
# Author: Karl Tomlinson <karlt+@karlt.net>
# Date: 2022-12-14 16:24:11
# Description:
#   Bug 1804963 get RTPCallerType in AudioContext constructor where window is known non-null r=padenot
#   
#   This is a similar approach to that used in PerformanceMainThread.
#   https://searchfox.org/mozilla-central/rev/2d24d893669ad0fe8d76b0427b25369d35fcc19b/dom/performance/PerformanceMainThread.cpp#99
#   
# ==============================================================================

diff -r 87aff7e550cf -r 60e0588ec62c testing/web-platform/tests/webaudio/the-audio-api/the-audiocontext-interface/crashtests/currentTime-after-discard.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/testing/web-platform/tests/webaudio/the-audio-api/the-audiocontext-interface/crashtests/currentTime-after-discard.html	Wed Dec 14 01:35:31 2022 +0000
@@ -0,0 +1,14 @@
+<html>
+<head>
+  <title>
+    Test currentTime after browsing context discard
+  </title>
+</head>
+<script>
+  const frame = document.createElement('frame');
+  document.documentElement.appendChild(frame);
+  const ctx = new frame.contentWindow.AudioContext();
+  frame.remove();
+  ctx.currentTime;
+</script>
+</html>
