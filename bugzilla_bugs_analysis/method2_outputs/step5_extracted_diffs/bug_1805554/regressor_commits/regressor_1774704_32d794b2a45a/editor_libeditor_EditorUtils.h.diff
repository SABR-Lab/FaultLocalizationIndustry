# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: editor/libeditor/EditorUtils.h
# Commit: 32d794b2a45a
# Full Hash: 32d794b2a45a300cd0f5b07dcac5ab5a8a89fb23
# Author: Masayuki Nakano <masayuki@d-toybox.com>
# Date: 2022-08-04 09:46:07
# Regressor Bug: 1774704
# File Overlap Count: 1
# Description:
#   Bug 1774704 - part 4-4: Make `HTMLEditor::ChangeSelectedHardLinesToList` stop setting `TopLevelEditSubActionData::mNewBlockElement` r=m_kato
#   
#   With taking an `AutoRangeArray` which is initialized with `Selection`, it can
#   restore selection and check if it's collapsed and if collapsed in the expected
#   list element.  Then, its caller can apply the returned range to `Selection`
# ==============================================================================

diff -r 23d50b5617de -r 32d794b2a45a editor/libeditor/EditorUtils.h
--- a/editor/libeditor/EditorUtils.h	Thu Aug 04 02:12:03 2022 +0000
+++ b/editor/libeditor/EditorUtils.h	Thu Aug 04 02:28:11 2022 +0000
@@ -345,6 +345,8 @@
   explicit AutoRangeArray(const EditorDOMRangeBase<PointType>& aRange);
   template <typename PT, typename CT>
   explicit AutoRangeArray(const EditorDOMPointBase<PT, CT>& aPoint);
+  // The copy constructor copies everything except saved ranges.
+  explicit AutoRangeArray(const AutoRangeArray& aOther);
 
   ~AutoRangeArray();
 