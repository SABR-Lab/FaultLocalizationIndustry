# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: accessible/tests/mochitest/events/test_focus_menu.xhtml
# Commit: f11c529b2407
# Full Hash: f11c529b240799df93c4dd8c17ecd8636f9b10de
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2023-01-04 09:43:05
# Regressor Bug: 1805414
# File Overlap Count: 2
# Description:
#   Bug 1805414 - Remove nsMenuFrame and nsMenuParent. r=smaug,Jamie,desktop-theme-reviewers,settings-reviewers,dao
#   
#   Move most the event handling stuff to the DOM. I've left nsMenuBarFrame
#   for now, but I will be removing that in the future.
#   
# ==============================================================================

diff -r 11d72eaa9cd9 -r f11c529b2407 accessible/tests/mochitest/events/test_focus_menu.xhtml
--- a/accessible/tests/mochitest/events/test_focus_menu.xhtml	Tue Jan 03 21:55:14 2023 +0000
+++ b/accessible/tests/mochitest/events/test_focus_menu.xhtml	Tue Jan 03 22:06:01 2023 +0000
@@ -19,7 +19,7 @@
           src="../events.js" />
 
   <script type="application/javascript">
-    //gA11yEventDumpToConsole = true; // debug stuff
+    // gA11yEventDumpToConsole = true; // debug stuff
 
     var gQueue = null;
     function doTests()
@@ -54,8 +54,8 @@
       //gQueue.push(new synthRightKey("apple",
       //                              [ new focusChecker("vehicle"),
       //                                new focusChecker("cycle")]));
-      gQueue.push(new synthClick("vehicle", new focusChecker("vehicle")));
-      gQueue.push(new synthDownKey("cycle", new focusChecker("cycle")));
+      gQueue.push(new synthMouseMove("vehicle", [ new focusChecker("vehicle"), new invokerChecker("popupshown", "vehiclePopup") ]));
+      gQueue.push(new synthDownKey("vehicle", new focusChecker("cycle")));
 
       // open submenu
       gQueue.push(new synthRightKey("cycle", new focusChecker("tricycle")));
@@ -100,7 +100,7 @@
           </menupopup>
         </menu>
         <menu id="vehicle" label="Vehicle">
-          <menupopup>
+          <menupopup id="vehiclePopup">
             <menu id="cycle" label="cycle">
               <menupopup>
                 <menuitem id="tricycle" label="tricycle"/>