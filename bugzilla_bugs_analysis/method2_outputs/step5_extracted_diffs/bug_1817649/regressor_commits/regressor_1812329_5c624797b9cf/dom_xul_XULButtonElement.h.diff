# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/xul/XULButtonElement.h
# Commit: 5c624797b9cf
# Full Hash: 5c624797b9cfc9a130d143a7d018c7c0d4a60b60
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2023-02-08 21:41:44
# Regressor Bug: 1812329
# File Overlap Count: 1
# Description:
#   Bug 1812329 - Remove nsMenuBarFrame. r=smaug
#   
#   This ended up being a lot more straight-forward than the menu changes.
#   
#   TLDR:
# ==============================================================================

diff -r 59c4e9d17bfc -r 5c624797b9cf dom/xul/XULButtonElement.h
--- a/dom/xul/XULButtonElement.h	Wed Feb 08 13:06:36 2023 +0000
+++ b/dom/xul/XULButtonElement.h	Wed Feb 08 13:12:23 2023 +0000
@@ -19,6 +19,7 @@
 
 class KeyboardEvent;
 class XULPopupElement;
+class XULMenuBarElement;
 class XULMenuParentElement;
 
 class XULButtonElement : public nsXULElement {
@@ -57,7 +58,7 @@
   void UnbindFromTree(bool aNullParent) override;
 
   MOZ_CAN_RUN_SCRIPT bool HandleKeyPress(KeyboardEvent& keyEvent);
-  MOZ_CAN_RUN_SCRIPT bool OpenedWithKey();
+  bool OpenedWithKey() const;
   // Called to execute our command handler.
   MOZ_CAN_RUN_SCRIPT void ExecuteMenu(WidgetEvent&);
   MOZ_CAN_RUN_SCRIPT void ExecuteMenu(Modifiers, int16_t aButton,
@@ -93,8 +94,8 @@
   bool IsDisabled() const { return GetXULBoolAttr(nsGkAtoms::disabled); }
 
  private:
+  XULMenuBarElement* GetMenuBar() const;
   void Blurred();
-  nsMenuBarFrame* GetMenuBar(FlushType aFlushType);
   enum class MenuType {
     Checkbox,
     Radio,