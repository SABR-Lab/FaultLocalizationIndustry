# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: netwerk/ipc/NeckoCommon.h
# Commit: 35dde62c945a
# Full Hash: 35dde62c945ab7f66f6fd48a8b4cf706c3f78fb2
# Author: Manuel Bucher <manuel@mozilla.com>
# Date: 2022-12-03 09:24:59
# Regressor Bug: 1771867
# File Overlap Count: 1
# Description:
#   Bug 1771867 - Early Hints Phase 2 - Part 12: Redirect EarlyHint preload channel to content process r=necko-reviewers,kershaw,valentin
#   
#   Similar to how DocumentLoadListener redirects the document to the content process.
#   
#   This fixes the race conditions in early hint architecture fixing intermittent
# ==============================================================================

diff -r ca2681b0f792 -r 35dde62c945a netwerk/ipc/NeckoCommon.h
--- a/netwerk/ipc/NeckoCommon.h	Fri Dec 02 16:15:57 2022 +0000
+++ b/netwerk/ipc/NeckoCommon.h	Fri Dec 02 16:15:57 2022 +0000
@@ -15,6 +15,8 @@
 #include "nsXULAppAPI.h"
 #include "prenv.h"
 
+class nsIStreamListener;
+
 namespace mozilla {
 namespace dom {
 class BrowserChild;
@@ -132,6 +134,9 @@
     mozilla::Variant<OnStartRequestParams, OnDataAvailableParams,
                      OnStopRequestParams, OnAfterLastPartParams>;
 
+nsresult ForwardStreamListenerFunctions(
+    nsTArray<StreamListenerFunction>& aCalls, nsIStreamListener* aParent);
+
 }  // namespace net
 }  // namespace mozilla
 