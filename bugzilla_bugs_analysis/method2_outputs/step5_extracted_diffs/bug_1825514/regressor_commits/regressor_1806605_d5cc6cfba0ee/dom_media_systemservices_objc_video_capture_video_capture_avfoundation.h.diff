# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/systemservices/objc_video_capture/video_capture_avfoundation.h
# Commit: d5cc6cfba0ee
# Full Hash: d5cc6cfba0eecc9e67d70f54865cd4f3220cfce4
# Author: Andreas Pehrson <apehrson@mozilla.com>
# Date: 2023-01-11 21:56:57
# Regressor Bug: 1806605
# File Overlap Count: 1
# Description:
#   Bug 1806605 - In VideoCaptureAvFoundation track conversions to I420 with a marker. r=padenot
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D165825
# ==============================================================================

diff -r e85b278387fc -r d5cc6cfba0ee dom/media/systemservices/objc_video_capture/video_capture_avfoundation.h
--- a/dom/media/systemservices/objc_video_capture/video_capture_avfoundation.h	Wed Jan 11 11:47:45 2023 +0000
+++ b/dom/media/systemservices/objc_video_capture/video_capture_avfoundation.h	Wed Jan 11 11:47:45 2023 +0000
@@ -62,7 +62,8 @@
   // Id string uniquely identifying this capture source. Written on the mChecker thread only.
   mozilla::Maybe<mozilla::TrackingId> mTrackingId MOZ_GUARDED_BY(api_lock_);
   // Adds frame specific markers to the profiler while mTrackingId is set.
-  mozilla::PerformanceRecorderMulti<mozilla::CaptureStage> mPerformanceRecorder;
+  mozilla::PerformanceRecorderMulti<mozilla::CaptureStage> mCaptureRecorder;
+  mozilla::PerformanceRecorderMulti<mozilla::CopyVideoStage> mConversionRecorder;
   std::atomic<ProfilerThreadId> mCallbackThreadId;
 };
 