# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/html/HTMLTextAreaElement.cpp
# Commit: a61403f68bc9
# Full Hash: a61403f68bc9d6d2eb7e6cea1c36ce1100fcfe56
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2023-05-16 04:24:30
# Regressor Bug: 1833181
# File Overlap Count: 2
# Description:
#   Bug 1833181 - Make SetValueChanged return void. r=smaug
#   
#   Just a drive-by clean-up.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D178077
# ==============================================================================

diff -r 6e305430dd74 -r a61403f68bc9 dom/html/HTMLTextAreaElement.cpp
--- a/dom/html/HTMLTextAreaElement.cpp	Mon May 15 15:56:45 2023 +0000
+++ b/dom/html/HTMLTextAreaElement.cpp	Mon May 15 16:07:30 2023 +0000
@@ -308,25 +308,22 @@
                             ValueSetterOption::MoveCursorToEndIfValueChanged});
 }
 
-nsresult HTMLTextAreaElement::SetValueChanged(bool aValueChanged) {
+void HTMLTextAreaElement::SetValueChanged(bool aValueChanged) {
   MOZ_ASSERT(mState);
 
   bool previousValue = mValueChanged;
-
   mValueChanged = aValueChanged;
   if (!aValueChanged && !mState->IsEmpty()) {
     mState->EmptyValue();
   }
-
-  if (mValueChanged != previousValue) {
-    UpdateTooLongValidityState();
-    UpdateTooShortValidityState();
-    // We need to do this unconditionally because the validity ui bits depend on
-    // this.
-    UpdateState(true);
+  if (mValueChanged == previousValue) {
+    return;
   }
-
-  return NS_OK;
+  UpdateTooLongValidityState();
+  UpdateTooShortValidityState();
+  // We need to do this unconditionally because the validity ui bits depend on
+  // this.
+  UpdateState(true);
 }
 
 void HTMLTextAreaElement::SetLastValueChangeWasInteractive(