# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/mediasource/MediaSourceDemuxer.cpp
# Commit: cffe107089aa
# Full Hash: cffe107089aa5adcf2191e2edd4bd6b477997cb1
# Author: Paul Adenot <paul@paul.cx>
# Date: 2023-07-07 09:28:00
# Regressor Bug: 1838828
# File Overlap Count: 1
# Description:
#   Bug 1838828 - Downgrade assertions to only crash in Nigthly. r=chunmin
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D182914
# ==============================================================================

diff -r 909fc50c54a1 -r cffe107089aa dom/media/mediasource/MediaSourceDemuxer.cpp
--- a/dom/media/mediasource/MediaSourceDemuxer.cpp	Fri Jul 07 00:43:34 2023 +0000
+++ b/dom/media/mediasource/MediaSourceDemuxer.cpp	Fri Jul 07 00:51:27 2023 +0000
@@ -395,7 +395,7 @@
   MediaResult result = NS_OK;
   RefPtr<MediaRawData> sample =
       mManager->GetSample(mType, TimeUnit::Zero(), result);
-  MOZ_RELEASE_ASSERT(NS_SUCCEEDED(result) && sample);
+  MOZ_ASSERT(NS_SUCCEEDED(result) && sample);
   mNextSample = Some(sample);
   mReset = false;
   {