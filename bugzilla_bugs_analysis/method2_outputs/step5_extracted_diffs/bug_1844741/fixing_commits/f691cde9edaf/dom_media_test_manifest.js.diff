# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/media/test/manifest.js
# Commit: f691cde9edaf
# Full Hash: f691cde9edaf7a11fc554bbda5aaf30893d80170
# Author: Paul Adenot <paul@paul.cx>
# Date: 2023-07-21 19:39:17
# Description:
#   Bug 1844741 - Consistently use remaining padding when trimming mp3. r=alwu
#   
#   Creating the file was made in the following way:
#   - Create a VBR file
#   - Modify the padding field so that it spans multiple packets (greater than 1152
# ==============================================================================

diff -r 3c7aa15fc461 -r f691cde9edaf dom/media/test/manifest.js
--- a/dom/media/test/manifest.js	Fri Jul 21 17:28:03 2023 +0000
+++ b/dom/media/test/manifest.js	Fri Jul 21 17:55:32 2023 +0000
@@ -531,6 +531,13 @@
   // tag. The ID3v1 tags should be at the end of the file, but software usually
   // play it anyway.
   { name: "id3v1afterlongid3v2.mp3", type: "audio/mpeg", duration: 0.5 },
+  // An VBR file with a padding value that is greater than an mp3 packet, and
+  // also subsequent packets after the theoretical EOF computed from metadata,
+  // to test padding trimming edge cases.
+  {
+    name: "padding-spanning-multiple-packets.mp3",
+    type: "audio/mpeg",
+  },
   // A truncated VBR MP3 with just enough frames to keep most decoders happy.
   // The Xing header reports the length of the file to be around 10 seconds, but
   // there is really only one second worth of data. We want MP3FrameParser to