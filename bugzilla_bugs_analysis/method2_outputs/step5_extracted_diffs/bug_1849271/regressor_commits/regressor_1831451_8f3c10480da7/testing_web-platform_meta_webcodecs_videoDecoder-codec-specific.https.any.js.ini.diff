# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: testing/web-platform/meta/webcodecs/videoDecoder-codec-specific.https.any.js.ini
# Commit: 8f3c10480da7
# Full Hash: 8f3c10480da797e1ece28c96bad288d98a02e2df
# Author: Chun-Min Chang <chun.m.chang@gmail.com>
# Date: 2023-06-29 15:31:45
# Regressor Bug: 1831451
# File Overlap Count: 1
# Description:
#   Bug 1831451 - Implement VideoDecoder::IsConfigSupported r=padenot
#   
#   This patch implements the isConfigSupported method for WebCodecs'
#   VideoDecoder.
#   
# ==============================================================================

diff -r eb17a0f3efdf -r 8f3c10480da7 testing/web-platform/meta/webcodecs/videoDecoder-codec-specific.https.any.js.ini
--- a/testing/web-platform/meta/webcodecs/videoDecoder-codec-specific.https.any.js.ini	Thu Jun 29 04:15:00 2023 +0000
+++ b/testing/web-platform/meta/webcodecs/videoDecoder-codec-specific.https.any.js.ini	Thu Jun 29 04:15:01 2023 +0000
@@ -1,14 +1,7 @@
 [videoDecoder-codec-specific.https.any.worker.html?vp8]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -57,16 +50,9 @@
 
 
 [videoDecoder-codec-specific.https.any.worker.html?h264_avc]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -115,16 +101,9 @@
 
 
 [videoDecoder-codec-specific.https.any.worker.html?vp9]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -173,16 +152,9 @@
 
 
 [videoDecoder-codec-specific.https.any.worker.html?h264_annexb]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -231,16 +203,9 @@
 
 
 [videoDecoder-codec-specific.https.any.html?vp8]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -289,16 +254,9 @@
 
 
 [videoDecoder-codec-specific.https.any.html?av1]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -347,16 +305,9 @@
 
 
 [videoDecoder-codec-specific.https.any.worker.html?av1]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -405,16 +356,9 @@
 
 
 [videoDecoder-codec-specific.https.any.html?vp9]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -463,16 +407,9 @@
 
 
 [videoDecoder-codec-specific.https.any.html?h264_avc]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
@@ -521,16 +458,9 @@
 
 
 [videoDecoder-codec-specific.https.any.html?h264_annexb]
+  prefs: [dom.media.webcodecs.enabled:true]
   expected:
     if (os == "android") and fission: [ERROR, TIMEOUT]
-  [Test isConfigSupported()]
-    expected: FAIL
-
-  [Test isConfigSupported() with 1080p crop]
-    expected: FAIL
-
-  [Test that isConfigSupported() returns a parsed configuration]
-    expected: FAIL
 
   [Test invalid configs]
     expected: FAIL
