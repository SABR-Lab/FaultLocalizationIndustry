# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h
# Commit: 087b27593538
# Full Hash: 087b27593538ac10d0c69e41100423f430ad8c89
# Author: Paul Zuehlcke <pbz@mozilla.com>
# Date: 2023-09-07 21:34:02
# Regressor Bug: 1839918
# File Overlap Count: 1
# Description:
#   Bug 1839918 - Add BounceTrackingStorageObserver to observe cookie changes. r=bvandersloot,anti-tracking-reviewers
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D185304
# ==============================================================================

diff -r 302d12c12083 -r 087b27593538 toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h
--- a/toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h	Thu Sep 07 08:25:55 2023 +0000
+++ b/toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h	Thu Sep 07 08:25:56 2023 +0000
@@ -61,6 +61,10 @@
   nsresult OnStartNavigation(nsIPrincipal* aTriggeringPrincipal,
                              const bool aHasValidUserGestureActivation);
 
+  // Record sites which have written cookies in the current extended
+  // navigation.
+  nsresult OnCookieWrite(const nsACString& aSiteHost);
+
   // Whether the given BrowsingContext should hold a BounceTrackingState
   // instance to monitor bounce tracking navigations.
   static bool ShouldCreateBounceTrackingStateForBC(
@@ -124,10 +128,6 @@
   // Record sites which have activated service workers in the current
   // extended navigation.
   nsresult OnServiceWorkerActivation();
-
-  // Record sites which have written cookies in the current extended
-  // navigation.
-  nsresult OnNetworkCookieWrite();
 };
 
 }  // namespace mozilla