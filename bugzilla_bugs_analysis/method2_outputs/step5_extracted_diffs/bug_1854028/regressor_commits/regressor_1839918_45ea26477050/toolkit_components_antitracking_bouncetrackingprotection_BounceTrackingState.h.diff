# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h
# Commit: 45ea26477050
# Full Hash: 45ea26477050c8d3e4c6565ad182892159323e1c
# Author: Paul Zuehlcke <pbz@mozilla.com>
# Date: 2023-09-19 03:53:26
# Regressor Bug: 1839918
# File Overlap Count: 1
# Description:
#   Bug 1839918 - Add BounceTrackingStorageObserver to observe cookie changes. r=bvandersloot,anti-tracking-reviewers
#   
#   Depends on D186340
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D185304
# ==============================================================================

diff -r c7862a00e6e7 -r 45ea26477050 toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h
--- a/toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h	Mon Sep 18 11:55:10 2023 +0000
+++ b/toolkit/components/antitracking/bouncetrackingprotection/BounceTrackingState.h	Mon Sep 18 11:55:10 2023 +0000
@@ -61,6 +61,10 @@
   nsresult OnStartNavigation(nsIPrincipal* aTriggeringPrincipal,
                              const bool aHasValidUserGestureActivation);
 
+  // Record sites which have written cookies in the current extended
+  // navigation.
+  nsresult OnCookieWrite(const nsACString& aSiteHost);
+
   // Whether the given BrowsingContext should hold a BounceTrackingState
   // instance to monitor bounce tracking navigations.
   static bool ShouldCreateBounceTrackingStateForBC(
@@ -124,10 +128,6 @@
   // Record sites which have activated service workers in the current
   // extended navigation.
   nsresult OnServiceWorkerActivation();
-
-  // Record sites which have written cookies in the current extended
-  // navigation.
-  nsresult OnNetworkCookieWrite();
 };
 
 }  // namespace mozilla