# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/svg/SVGAnimatedLength.h
# Commit: 9525c5d9a710
# Full Hash: 9525c5d9a710cd1a2c960389c03a31aba9e02003
# Author: Robert Longson <longsonr@gmail.com>
# Date: 2023-09-13 09:25:56
# Regressor Bug: 1287054
# File Overlap Count: 1
# Description:
#   Bug 1287054 part 2 - support vw, vh, vmin and vmax units for non-CSS lengths r=emilio,jgilbert
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D180619
# ==============================================================================

diff -r a16d763f2866 -r 9525c5d9a710 dom/svg/SVGAnimatedLength.h
--- a/dom/svg/SVGAnimatedLength.h	Tue Sep 12 21:10:54 2023 +0000
+++ b/dom/svg/SVGAnimatedLength.h	Tue Sep 12 21:10:55 2023 +0000
@@ -42,6 +42,7 @@
   static GeckoFontMetrics DefaultFontMetrics();
   static GeckoFontMetrics GetFontMetrics(const Element* aElement);
   static WritingMode GetWritingMode(const Element* aElement);
+  static CSSSize GetCSSViewportSizeFromContext(const nsPresContext* aContext);
 
   virtual ~UserSpaceMetrics() = default;
 
@@ -51,6 +52,7 @@
   float GetIcWidth(Type aType) const;
   float GetCapHeight(Type aType) const;
   virtual float GetAxisLength(uint8_t aCtxType) const = 0;
+  virtual CSSSize GetCSSViewportSize() const = 0;
 
  protected:
   virtual GeckoFontMetrics GetFontMetricsForType(Type aType) const = 0;
@@ -72,6 +74,7 @@
     return SVGContentUtils::GetFontSize(GetElementForType(aType));
   }
   float GetAxisLength(uint8_t aCtxType) const override;
+  CSSSize GetCSSViewportSize() const override;
 
  private:
   bool EnsureCtx() const;
@@ -89,6 +92,7 @@
 
   float GetEmLength(Type aType) const override;
   gfx::Size GetSize() const override;
+  CSSSize GetCSSViewportSize() const override;
 
  private:
   GeckoFontMetrics GetFontMetricsForType(Type aType) const override;