# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/media/platforms/agnostic/bytestreams/gtest/TestByteStreams.cpp
# Commit: fd44d547e093
# Full Hash: fd44d547e0931ddcb25e9dde2691ad9e99ec2e05
# Author: alwu <alwu@mozilla.com>
# Date: 2023-10-26 09:13:45
# Description:
#   Bug 1860840 - return error for invalid hvcc config when converting sample. r=media-playback-reviewers,padenot
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D191794
# ==============================================================================

diff -r 691148c77012 -r fd44d547e093 dom/media/platforms/agnostic/bytestreams/gtest/TestByteStreams.cpp
--- a/dom/media/platforms/agnostic/bytestreams/gtest/TestByteStreams.cpp	Wed Oct 25 21:14:33 2023 +0300
+++ b/dom/media/platforms/agnostic/bytestreams/gtest/TestByteStreams.cpp	Wed Oct 25 17:10:46 2023 +0000
@@ -695,7 +695,7 @@
       << "The sample should be AnnexB following conversion";
 
   auto rv = AnnexB::ConvertSampleToHVCC(rawDataClone);
-  EXPECT_TRUE(rv) << "AnnexB to HVCC Conversion should succeed";
+  EXPECT_TRUE(rv.isOk()) << "AnnexB to HVCC Conversion should succeed";
   EXPECT_TRUE(AnnexB::IsHVCC(rawDataClone))
       << "The sample should be HVCC following conversion";
 }