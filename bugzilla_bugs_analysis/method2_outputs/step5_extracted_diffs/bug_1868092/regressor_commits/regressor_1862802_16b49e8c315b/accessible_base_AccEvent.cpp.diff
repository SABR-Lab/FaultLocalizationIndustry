# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: accessible/base/AccEvent.cpp
# Commit: 16b49e8c315b
# Full Hash: 16b49e8c315bb512c0bc406670d3b4be653185b4
# Author: James Teh <jteh@mozilla.com>
# Date: 2023-11-30 04:12:04
# Regressor Bug: 1862802
# File Overlap Count: 1
# Description:
#   Bug 1862802 part 5: Remove virtual cursor change event. r=eeejay
#   
#   Depends on D192645
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D192646
# ==============================================================================

diff -r 5a6669e44c53 -r 16b49e8c315b accessible/base/AccEvent.cpp
--- a/accessible/base/AccEvent.cpp	Wed Nov 29 03:53:20 2023 +0000
+++ b/accessible/base/AccEvent.cpp	Wed Nov 29 03:53:20 2023 +0000
@@ -161,21 +161,6 @@
   }
 }
 
-////////////////////////////////////////////////////////////////////////////////
-// AccVCChangeEvent
-////////////////////////////////////////////////////////////////////////////////
-
-AccVCChangeEvent::AccVCChangeEvent(LocalAccessible* aAccessible,
-                                   LocalAccessible* aOldAccessible,
-                                   LocalAccessible* aNewAccessible,
-                                   int16_t aReason,
-                                   EIsFromUserInput aIsFromUserInput)
-    : AccEvent(::nsIAccessibleEvent::EVENT_VIRTUALCURSOR_CHANGED, aAccessible,
-               aIsFromUserInput),
-      mOldAccessible(aOldAccessible),
-      mNewAccessible(aNewAccessible),
-      mReason(aReason) {}
-
 already_AddRefed<nsIAccessibleEvent> a11y::MakeXPCEvent(AccEvent* aEvent) {
   DocAccessible* doc = aEvent->Document();
   LocalAccessible* acc = aEvent->GetAccessible();
@@ -240,15 +225,6 @@
     return xpEvent.forget();
   }
 
-  if (eventGroup & (1 << AccEvent::eVirtualCursorChangeEvent)) {
-    AccVCChangeEvent* vcc = downcast_accEvent(aEvent);
-    xpEvent = new xpcAccVirtualCursorChangeEvent(
-        type, ToXPC(acc), ToXPCDocument(doc), node, fromUser,
-        ToXPC(vcc->OldAccessible()), ToXPC(vcc->NewAccessible()),
-        vcc->Reason());
-    return xpEvent.forget();
-  }
-
   if (eventGroup & (1 << AccEvent::eObjectAttrChangedEvent)) {
     AccObjectAttrChangedEvent* oac = downcast_accEvent(aEvent);
     nsString attribute;