# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: gfx/layers/composite/TextureHost.cpp
# Commit: 12aa9be1daa2
# Full Hash: 12aa9be1daa25a0f455c799f62cb5391971792d3
# Author: Andrew Osmond <aosmond@mozilla.com>
# Date: 2023-12-10 09:36:11
# Description:
#   Bug 1869085 - Make CanvasManagerParent use content parent ID for recording textures. r=bobowen
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D195957
# ==============================================================================

diff -r 19967878c4b0 -r 12aa9be1daa2 gfx/layers/composite/TextureHost.cpp
--- a/gfx/layers/composite/TextureHost.cpp	Sat Dec 09 19:49:22 2023 +0000
+++ b/gfx/layers/composite/TextureHost.cpp	Sat Dec 09 20:16:02 2023 +0000
@@ -244,8 +244,8 @@
       }
 
       UniquePtr<SurfaceDescriptor> realDesc =
-          gfx::CanvasManagerParent::WaitForReplayTexture(
-              aDeallocator->GetChildProcessId(), desc.textureId());
+          gfx::CanvasManagerParent::WaitForReplayTexture(aDeallocator,
+                                                         desc.textureId());
       if (!realDesc) {
         gfxCriticalNote << "Failed to get descriptor for recorded texture.";
         // Create a dummy to prevent any crashes due to missing IPDL actors.