# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/nsStyleTransformMatrix.cpp
# Commit: 803ea4d17810
# Full Hash: 803ea4d17810ead7bfd72fa28f97a676ce765382
# Author: Boris Chiou <boris.chiou@gmail.com>
# Date: 2023-08-23 04:21:33
# Regressor Bug: 1819464
# File Overlap Count: 1
# Description:
#   Bug 1819464 - Part 4: Support content-box (for CSS layout). r=emilio
#   
#   Use a valid content-box for CSS layout. For SVG layout, just map it to
#   fill-box.
#   
# ==============================================================================

diff -r d9b057905efd -r 803ea4d17810 layout/style/nsStyleTransformMatrix.cpp
--- a/layout/style/nsStyleTransformMatrix.cpp	Tue Aug 22 19:49:03 2023 +0000
+++ b/layout/style/nsStyleTransformMatrix.cpp	Tue Aug 22 19:49:04 2023 +0000
@@ -53,8 +53,6 @@
   // https://drafts.csswg.org/css-transforms-1/#transform-box
   switch (aFrame->StyleDisplay()->mTransformBox) {
     case StyleTransformBox::ContentBox:
-      // TODO: Implement this in the following patches.
-      return {};
     case StyleTransformBox::FillBox: {
       // Percentages in transforms resolve against the SVG bbox, and the
       // transform is relative to the top-left of the SVG bbox.
@@ -106,7 +104,7 @@
   switch (mFrame->StyleDisplay()->mTransformBox) {
     case StyleTransformBox::FillBox:
     case StyleTransformBox::ContentBox: {
-      // TODO: Implement this in the following patches.
+      mBox = mFrame->GetContentRectRelativeToSelf();
       return;
     }
     case StyleTransformBox::StrokeBox: