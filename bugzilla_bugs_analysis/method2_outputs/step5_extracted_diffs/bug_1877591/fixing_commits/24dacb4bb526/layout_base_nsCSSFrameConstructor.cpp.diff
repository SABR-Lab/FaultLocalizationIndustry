# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: layout/base/nsCSSFrameConstructor.cpp
# Commit: 24dacb4bb526
# Full Hash: 24dacb4bb526be404f5617ca9413a4a12c5314b7
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-02-02 09:43:12
# Description:
#   Bug 1877591 - Suppress scrollable table cells when printing. r=dholbert
#   
#   Much like we suppress most (all?) other block-level scrollframes, see:
#   
#     https://searchfox.org/mozilla-central/rev/5c4a45eb17423373ecb71aea9819d41a6231613e/layout/base/nsCSSFrameConstructor.cpp#4392-4394
# ==============================================================================

diff -r cef992e837d1 -r 24dacb4bb526 layout/base/nsCSSFrameConstructor.cpp
--- a/layout/base/nsCSSFrameConstructor.cpp	Thu Feb 01 23:35:23 2024 +0000
+++ b/layout/base/nsCSSFrameConstructor.cpp	Fri Feb 02 00:41:01 2024 +0000
@@ -2278,7 +2278,9 @@
   if (isMathMLContent) {
     cellInnerFrame = NS_NewMathMLmtdInnerFrame(mPresShell, innerPseudoStyle);
   } else {
-    isScrollable = innerPseudoStyle->StyleDisplay()->IsScrollableOverflow();
+    isScrollable = innerPseudoStyle->StyleDisplay()->IsScrollableOverflow() &&
+                   !aState.mPresContext->IsPaginated() &&
+                   StaticPrefs::layout_tables_scrollable_cells();
     if (isScrollable) {
       innerPseudoStyle = BeginBuildingScrollFrame(
           aState, content, innerPseudoStyle, cellFrame,