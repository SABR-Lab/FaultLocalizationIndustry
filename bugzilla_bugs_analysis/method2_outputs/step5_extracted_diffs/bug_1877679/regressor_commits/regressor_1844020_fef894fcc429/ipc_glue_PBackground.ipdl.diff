# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: ipc/glue/PBackground.ipdl
# Commit: fef894fcc429
# Full Hash: fef894fcc4294027fdfb62af3997b87411bef554
# Author: Jan Grulich <jgrulich@redhat.com>
# Date: 2023-11-30 17:23:44
# Regressor Bug: 1844020
# File Overlap Count: 1
# Description:
#   Bug 1844020 - Add a camera device placeholder in case PipeWire is not initialized yet r=pehrsons
#   
#   Implement DeviceInfoPipeWire with option to add a device placeholder
#   when there is a camera device, but we don't have access to PipeWire yet.
#   We ask the Camera portal whether there is a camera device present.
# ==============================================================================

diff -r ed31b2acb5fb -r fef894fcc429 ipc/glue/PBackground.ipdl
--- a/ipc/glue/PBackground.ipdl	Thu Nov 30 11:49:35 2023 +0000
+++ b/ipc/glue/PBackground.ipdl	Thu Nov 30 11:49:36 2023 +0000
@@ -75,6 +75,8 @@
 
 using mozilla::RemoteDecodeIn from "mozilla/RemoteDecoderManagerChild.h";
 
+using mozilla::camera::CamerasAccessStatus from "mozilla/media/CamerasTypes.h";
+
 namespace mozilla {
 namespace ipc {
 
@@ -281,7 +283,7 @@
 
   async PFetch();
 
-  async RequestCameraAccess() returns (nsresult rv);
+  async RequestCameraAccess(bool aAllowPermissionRequest) returns (CamerasAccessStatus rv);
 
 child:
   async PCache();
