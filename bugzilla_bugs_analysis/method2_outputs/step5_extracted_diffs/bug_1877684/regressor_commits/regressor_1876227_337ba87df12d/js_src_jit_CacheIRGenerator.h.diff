# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/jit/CacheIRGenerator.h
# Commit: 337ba87df12d
# Full Hash: 337ba87df12db1c7f3a9da7b35d083c37ed93dfb
# Author: Andr√© Bargull <andre.bargull@gmail.com>
# Date: 2024-01-27 21:19:38
# Regressor Bug: 1876227
# File Overlap Count: 1
# Description:
#   Bug 1876227: Support non-number inputs when assigning to TypedArray elements. r=jandem
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D199513
# ==============================================================================

diff -r 52e30e216e08 -r 337ba87df12d js/src/jit/CacheIRGenerator.h
--- a/js/src/jit/CacheIRGenerator.h	Sat Jan 27 09:50:17 2024 +0000
+++ b/js/src/jit/CacheIRGenerator.h	Sat Jan 27 09:51:34 2024 +0000
@@ -87,7 +87,8 @@
 
   void emitIdGuard(ValOperandId valId, const Value& idVal, jsid id);
 
-  OperandId emitNumericGuard(ValOperandId valId, Scalar::Type type);
+  OperandId emitNumericGuard(ValOperandId valId, const Value& v,
+                             Scalar::Type type);
 
   StringOperandId emitToStringGuard(ValOperandId id, const Value& v);
 
@@ -590,8 +591,8 @@
     return generator_.emitToStringGuard(id, v);
   }
 
-  auto emitNumericGuard(ValOperandId valId, Scalar::Type type) {
-    return generator_.emitNumericGuard(valId, type);
+  auto emitNumericGuard(ValOperandId valId, const Value& v, Scalar::Type type) {
+    return generator_.emitNumericGuard(valId, v, type);
   }
 
   auto guardToIntPtrIndex(const Value& index, ValOperandId indexId,