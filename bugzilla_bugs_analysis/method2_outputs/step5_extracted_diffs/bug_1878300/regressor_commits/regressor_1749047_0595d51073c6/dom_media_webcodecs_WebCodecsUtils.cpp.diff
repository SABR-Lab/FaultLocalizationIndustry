# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/media/webcodecs/WebCodecsUtils.cpp
# Commit: 0595d51073c6
# Full Hash: 0595d51073c68b780b172aab4a0355e26e540a66
# Author: Paul Adenot <paul@paul.cx>
# Date: 2023-12-23 09:52:03
# Regressor Bug: 1749047
# File Overlap Count: 1
# Description:
#   Bug 1749047 - sRGB and BT709 use the same primaries. r=chunmin
#   
#   From https://w3c.github.io/webcodecs/#enumdef-videocolorprimaries
#   
#   > bt709
# ==============================================================================

diff -r 88d92a0509cd -r 0595d51073c6 dom/media/webcodecs/WebCodecsUtils.cpp
--- a/dom/media/webcodecs/WebCodecsUtils.cpp	Fri Dec 22 21:39:12 2023 +0000
+++ b/dom/media/webcodecs/WebCodecsUtils.cpp	Fri Dec 22 21:39:12 2023 +0000
@@ -235,12 +235,12 @@
 Maybe<VideoColorPrimaries> ToPrimaries(const gfx::ColorSpace2& aColorSpace) {
   switch (aColorSpace) {
     case gfx::ColorSpace2::UNKNOWN:
-    case gfx::ColorSpace2::SRGB:
       return Nothing();
     case gfx::ColorSpace2::DISPLAY_P3:
       return Some(VideoColorPrimaries::Smpte432);
     case gfx::ColorSpace2::BT601_525:
       return Some(VideoColorPrimaries::Smpte170m);
+    case gfx::ColorSpace2::SRGB:
     case gfx::ColorSpace2::BT709:
       return Some(VideoColorPrimaries::Bt709);
     case gfx::ColorSpace2::BT2020:
