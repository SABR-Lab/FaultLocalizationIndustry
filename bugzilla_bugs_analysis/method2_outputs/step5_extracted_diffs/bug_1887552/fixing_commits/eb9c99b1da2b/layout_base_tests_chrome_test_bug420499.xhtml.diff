# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: layout/base/tests/chrome/test_bug420499.xhtml
# Commit: eb9c99b1da2b
# Full Hash: eb9c99b1da2b59ad1888a9710a3d56652bdd850c
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-03-26 16:49:15
# Description:
#   Bug 1887552 - Simplify caret visibility code. r=sefeng,geckoview-reviewers
#   
#   Make the "is hidden due to non-collapsed selection" use the regular
#   caret-hiding mechanism, so that we make sure nsCaret and paint are
#   consistent on their caret visibility.
# ==============================================================================

diff -r 66c42f5f482f -r eb9c99b1da2b layout/base/tests/chrome/test_bug420499.xhtml
--- a/layout/base/tests/chrome/test_bug420499.xhtml	Tue Mar 26 13:41:00 2024 +0200
+++ b/layout/base/tests/chrome/test_bug420499.xhtml	Tue Mar 26 10:53:17 2024 +0000
@@ -84,7 +84,7 @@
 
     function popupMenuShownHandler() {
       window.removeEventListener("popupshown", popupMenuShownHandler);
-      ok(!isCaretVisible(), "Caret shouldn't be visible when menu open");
+      ok(isCaretVisible(), "Caret shouldn't be visible when menu open");
       window.addEventListener("popuphidden", ensureParagraphFocused);
       $("menu").open = false;
     }