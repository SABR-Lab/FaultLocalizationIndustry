# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: testing/web-platform/tests/editing/crashtests/caret-display-list.html
# Commit: 73c915ed013b
# Full Hash: 73c915ed013b1b6a0435a839e95c38023984612b
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-03-23 09:29:17
# Regressor Bug: 1886506
# File Overlap Count: 1
# Description:
#   Bug 1886506 - Fix caret paint invalidation issues. r=sefeng
#   
#   The caret position is in the DOM, and sometimes can get out of sync.
#   
#   While that is an issue, it's not new: The code before the regressing bug
# ==============================================================================

diff -r dda9d04389e1 -r 73c915ed013b testing/web-platform/tests/editing/crashtests/caret-display-list.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/testing/web-platform/tests/editing/crashtests/caret-display-list.html	Fri Mar 22 12:20:14 2024 +0000
@@ -0,0 +1,21 @@
+<html class="test-wait reftest-wait">
+<style>
+* {
+  backdrop-filter: hue-rotate(0deg);
+  offset: path('M 72 1 h 0 v 90') 0px 0rad;
+  mask-image: url(#x)
+}
+</style>
+<script>
+function func_01() {
+  document.execCommand("justifyCenter", false)
+  document.getSelection().collapse(a)
+  setTimeout(func_01, 0)
+  // Ensure that we've painted at least once.
+  requestAnimationFrame(() => requestAnimationFrame(() => {
+    document.documentElement.classList = "";
+  }));
+}
+document.addEventListener("DOMContentLoaded", func_01)
+</script>
+<meter id="a" contenteditable="true">AA</meter>
