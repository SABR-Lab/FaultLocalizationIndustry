# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/base/DirectionalityUtils.h
# Commit: 14ed8bcf372c
# Full Hash: 14ed8bcf372c696393c3083d29d78959aa0cb5a3
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-01-16 05:03:21
# Regressor Bug: 1856156
# File Overlap Count: 1
# Description:
#   Bug 1856156 - Recompute auto directionality on input type changes. r=smaug
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D198588
# ==============================================================================

diff -r d84b730f202a -r 14ed8bcf372c dom/base/DirectionalityUtils.h
--- a/dom/base/DirectionalityUtils.h	Mon Jan 15 19:30:40 2024 +0000
+++ b/dom/base/DirectionalityUtils.h	Mon Jan 15 19:35:43 2024 +0000
@@ -39,8 +39,8 @@
 
 /**
  * Set the directionality of an element according to the algorithm defined at
- * http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#the-directionality,
- * not including elements with auto direction.
+ * https://html.spec.whatwg.org/#the-directionality, not including elements with
+ * auto direction.
  *
  * @return the directionality that the element was set to
  */
@@ -48,6 +48,14 @@
                                        bool aNotify = true);
 
 /**
+ * Conceptually https://html.spec.whatwg.org/#parent-directionality, but a bit
+ * different in how we deal with shadow DOM.
+ *
+ * FIXME(bug 1857719): Update directionality to the latest version of the spec.
+ */
+Directionality GetParentDirectionality(const mozilla::dom::Element* aElement);
+
+/**
  * Set the directionality of any descendants of a node that do not themselves
  * have a dir attribute.
  * For performance reasons we walk down the descendant tree in the rare case