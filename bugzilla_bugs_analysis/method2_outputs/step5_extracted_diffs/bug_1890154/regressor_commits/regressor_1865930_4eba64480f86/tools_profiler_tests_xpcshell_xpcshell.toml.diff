# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: tools/profiler/tests/xpcshell/xpcshell.toml
# Commit: 4eba64480f86
# Full Hash: 4eba64480f8685b8e017bc073b899e09ac169516
# Author: Adam Brouwers-Harries <abrouwersharries@mozilla.com>
# Date: 2024-04-05 09:39:00
# Regressor Bug: 1865930
# File Overlap Count: 1
# Description:
#   Bug 1865930: Add support for stopping the profiler using UNIX signals r=canaltinova,profiler-reviewers
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D203146
# ==============================================================================

diff -r 2b8e4c563c2f -r 4eba64480f86 tools/profiler/tests/xpcshell/xpcshell.toml
--- a/tools/profiler/tests/xpcshell/xpcshell.toml	Thu Apr 04 17:34:28 2024 +0000
+++ b/tools/profiler/tests/xpcshell/xpcshell.toml	Thu Apr 04 17:40:14 2024 +0000
@@ -24,9 +24,6 @@
 ["test_feature_fileioall.js"]
 skip-if = ["release_or_beta"]
 
-# The sanitizer checks appears to overwrite our own memory hooks in xpcshell tests,
-# and no allocation markers are gathered. Skip this test in that configuration.
-
 ["test_feature_java.js"]
 skip-if = ["os != 'android'"]
 
@@ -50,6 +47,12 @@
   "socketprocess_networking",
 ]
 
+["test_feature_posix_signals.js"]
+skip-if = [
+  "ccov",
+  "os == 'win'",
+]
+
 # Native stackwalking is somewhat unreliable depending on the platform.
 #
 # We don't have frame pointers on macOS release and beta, so stack walking does not
@@ -61,6 +64,9 @@
 # For sanitizer builds, there were many intermittents, and we're not getting much
 # additional coverage there, so it's better to be a bit more reliable.
 
+# The sanitizer checks appears to overwrite our own memory hooks in xpcshell tests,
+# and no allocation markers are gathered. Skip this test in that configuration.
+
 ["test_feature_stackwalking.js"]
 skip-if = [
   "os == 'mac' && release_or_beta",