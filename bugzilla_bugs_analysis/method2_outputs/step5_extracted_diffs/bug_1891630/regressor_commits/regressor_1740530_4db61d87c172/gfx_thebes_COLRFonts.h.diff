# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/thebes/COLRFonts.h
# Commit: 4db61d87c172
# Full Hash: 4db61d87c172599c99d7f4be58527209caa4f1ad
# Author: Jonathan Kew <jkew@mozilla.com>
# Date: 2022-08-16 16:01:29
# Regressor Bug: 1740530
# File Overlap Count: 1
# Description:
#   Bug 1740530 - patch 4 - Use harfbuzz color-palette access functions, instead of rolling our own. r=gfx-reviewers,lsalzman
#   
#   Depends on D152038
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D153870
# ==============================================================================

diff -r a95e62dc9288 -r 4db61d87c172 gfx/thebes/COLRFonts.h
--- a/gfx/thebes/COLRFonts.h	Tue Aug 16 10:39:51 2022 +0000
+++ b/gfx/thebes/COLRFonts.h	Tue Aug 16 10:39:51 2022 +0000
@@ -9,6 +9,7 @@
 #include "mozilla/gfx/2D.h"
 
 struct hb_blob_t;
+struct hb_face_t;
 
 namespace mozilla {
 
@@ -28,7 +29,7 @@
                                                    uint32_t aGlyphId);
 
   static bool PaintGlyphLayers(
-      hb_blob_t* aCOLR, hb_blob_t* aCPAL, const COLRBaseGlyphRecord* aLayers,
+      hb_blob_t* aCOLR, hb_face_t* aFace, const COLRBaseGlyphRecord* aLayers,
       DrawTarget* aDrawTarget, layout::TextDrawTarget* aTextDrawer,
       ScaledFont* aScaledFont, DrawOptions aDrawOptions,
       const sRGBColor& aCurrentColor, const Point& aPoint);