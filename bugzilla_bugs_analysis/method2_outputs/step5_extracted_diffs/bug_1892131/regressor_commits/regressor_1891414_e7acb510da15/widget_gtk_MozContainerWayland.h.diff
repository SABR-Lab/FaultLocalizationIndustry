# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/gtk/MozContainerWayland.h
# Commit: e7acb510da15
# Full Hash: e7acb510da15fa91629c3d97eae4e7dbb1c4ffa9
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-04-16 21:40:37
# Regressor Bug: 1891414
# File Overlap Count: 1
# Description:
#   Bug 1891414 - Improve opaque region tracking in GTK. r=stransky
#   
#   Use the opaque region we get from Gecko, rather than hardcoding the
#   titlebar rect / corners.
#   
# ==============================================================================

diff -r 235e497e1648 -r e7acb510da15 widget/gtk/MozContainerWayland.h
--- a/widget/gtk/MozContainerWayland.h	Tue Apr 16 13:45:09 2024 +0000
+++ b/widget/gtk/MozContainerWayland.h	Tue Apr 16 13:58:07 2024 +0000
@@ -42,7 +42,6 @@
   struct wp_viewport* viewport = nullptr;
   struct wp_fractional_scale_v1* fractional_scale = nullptr;
   gboolean opaque_region_needs_updates = false;
-  int opaque_region_corner_radius = 0;
   gboolean opaque_region_used = false;
   gboolean ready_to_draw = false;
   gboolean commit_to_parent = false;
@@ -97,8 +96,7 @@
 void moz_container_wayland_clear_initial_draw_callback(MozContainer* container);
 
 wl_surface* moz_gtk_widget_get_wl_surface(GtkWidget* aWidget);
-void moz_container_wayland_update_opaque_region(MozContainer* container,
-                                                int corner_radius);
+void moz_container_wayland_update_opaque_region(MozContainer* container);
 gboolean moz_container_wayland_can_draw(MozContainer* container);
 double moz_container_wayland_get_scale(MozContainer* container);
 double moz_container_wayland_get_fractional_scale(MozContainer* container);