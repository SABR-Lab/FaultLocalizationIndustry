# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: toolkit/components/cookiebanners/components.conf
# Commit: 40e5fa7c8b85
# Full Hash: 40e5fa7c8b85cc8044b0f60e249d7730817e33ab
# Author: Tim Huang <tihuang@mozilla.com>
# Date: 2024-03-30 09:10:19
# Regressor Bug: 1874741
# File Overlap Count: 1
# Description:
#   Bug 1874741 - Part 3: Implement the telemetry to collect GDPR choice on Google Search. r=anti-tracking-reviewers,pbz
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D205443
# ==============================================================================

diff -r 67c3461e1556 -r 40e5fa7c8b85 toolkit/components/cookiebanners/components.conf
--- a/toolkit/components/cookiebanners/components.conf	Fri Mar 29 23:15:11 2024 +0000
+++ b/toolkit/components/cookiebanners/components.conf	Fri Mar 29 23:15:12 2024 +0000
@@ -36,4 +36,17 @@
         'constructor': 'CookieBannerListService',
         'processes': ProcessSelector.MAIN_PROCESS_ONLY,
     },
+    {
+        'cid': '{56197e18-d144-45b5-9f77-84102f064462}',
+        'interfaces': ['nsICookieBannerTelemetryService'],
+        'headers': ['/toolkit/components/cookiebanners/nsCookieBannerTelemetryService.h'],
+        'contract_ids': ['@mozilla.org/cookie-banner-telemetry-service;1'],
+        'type': 'mozilla::nsCookieBannerTelemetryService',
+        'singleton': True,
+        'constructor': 'mozilla::nsCookieBannerTelemetryService::GetSingleton',
+        'categories': {
+            'profile-after-change': 'nsCookieBannerTelemetryService',
+        },
+        'processes': ProcessSelector.MAIN_PROCESS_ONLY,
+    },
 ]