# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: toolkit/components/cookiebanners/components.conf
# Commit: 517a86043166
# Full Hash: 517a86043166302c58e961b95fc0876d07de6dc6
# Author: Tim Huang <tihuang@mozilla.com>
# Date: 2024-03-29 04:51:52
# Regressor Bug: 1874741
# File Overlap Count: 1
# Description:
#   Bug 1874741 - Part 3: Implement the telemetry to collect GDPR choice on Google Search. r=anti-tracking-reviewers,pbz
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D205443
# ==============================================================================

diff -r ca7422bd712f -r 517a86043166 toolkit/components/cookiebanners/components.conf
--- a/toolkit/components/cookiebanners/components.conf	Thu Mar 28 20:46:34 2024 +0000
+++ b/toolkit/components/cookiebanners/components.conf	Thu Mar 28 20:46:34 2024 +0000
@@ -36,4 +36,18 @@
         'constructor': 'CookieBannerListService',
         'processes': ProcessSelector.MAIN_PROCESS_ONLY,
     },
+    {
+        'cid': '{56197e18-d144-45b5-9f77-84102f064462}',
+        'interfaces': ['nsICookieBannerTelemetryService'],
+        'headers': ['/toolkit/components/cookiebanners/nsCookieBannerTelemetryService.h'],
+        'contract_ids': ['@mozilla.org/cookie-banner-telemetry-service;1'],
+        'type': 'mozilla::nsCookieBannerTelemetryService',
+        'singleton': True,
+        'constructor': 'mozilla::nsCookieBannerTelemetryService::GetSingleton',
+        'categories': {
+            'profile-after-change': 'nsCookieBannerTelemetryService',
+            'idle-daily': 'nsCookieBannerTelemetryService',
+        },
+        'processes': ProcessSelector.MAIN_PROCESS_ONLY,
+    },
 ]