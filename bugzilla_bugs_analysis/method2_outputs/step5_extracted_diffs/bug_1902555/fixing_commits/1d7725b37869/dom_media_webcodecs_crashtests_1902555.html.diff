# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/media/webcodecs/crashtests/1902555.html
# Commit: 1d7725b37869
# Full Hash: 1d7725b37869aa40919dfc4b3e0263ef35e1d7b9
# Author: Paul Adenot <paul@paul.cx>
# Date: 2024-07-08 16:33:59
# Description:
#   Bug 1902555 - Handle overflow in buffer size check in IsValidAudioData. r=chunmin
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D215634
# ==============================================================================

diff -r 7c5450aa6e8e -r 1d7725b37869 dom/media/webcodecs/crashtests/1902555.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/dom/media/webcodecs/crashtests/1902555.html	Mon Jul 08 10:29:06 2024 +0000
@@ -0,0 +1,12 @@
+<script>
+let buf = new ArrayBuffer(189)
+// Those parameters can cause overflow
+let data = new AudioData({
+  "format": "f32",
+  "sampleRate": 1.6214075570289102,
+  "numberOfFrames": 1000,
+  "numberOfChannels": 2147483648,
+  "timestamp": 0.8185515075055866,
+  "data": buf,
+})
+</script>