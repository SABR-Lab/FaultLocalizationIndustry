# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: js/src/jit/JSJitFrameIter.h
# Commit: cda8bed19391
# Full Hash: cda8bed193914e4e6bedf875aecd9abbcc74606e
# Author: Jan de Mooij <jdemooij@mozilla.com>
# Date: 2024-08-02 15:37:12
# Description:
#   Bug 1910880 - Use a real JIT exit frame for Wasm JitEntry stub. r=rhunt
#   
#   JS JIT callers can call Wasm code either directly from Ion or through the JitEntry stub.
#   In the JitEntry case, we didn't have a real JS JIT exit frame. To make JS frame iteration
#   still work in this case, a special `JSJitToWasm` frame type was used to transition from Wasm
# ==============================================================================

diff -r 9b92adc2e91f -r cda8bed19391 js/src/jit/JSJitFrameIter.h
--- a/js/src/jit/JSJitFrameIter.h	Fri Aug 02 06:59:32 2024 +0000
+++ b/js/src/jit/JSJitFrameIter.h	Fri Aug 02 07:14:08 2024 +0000
@@ -69,11 +69,6 @@
   // point of view of JS JITs, this is just another kind of entry frame.
   WasmToJSJit,
 
-  // A JS to wasm frame is constructed during fast calls from any JS jits to
-  // wasm, and is a special kind of exit frame that doesn't have the exit
-  // footer. From the point of view of the jit, it can be skipped as an exit.
-  JSJitToWasm,
-
   // Frame for a TrampolineNative, a JS builtin implemented with a JIT
   // trampoline. See jit/TrampolineNatives.h.
   TrampolineNative,
@@ -133,8 +128,7 @@
 
   // A constructor specialized for jit->wasm frames, which starts at a
   // specific FP.
-  JSJitFrameIter(const JitActivation* activation, FrameType frameType,
-                 uint8_t* fp, bool unwinding);
+  JSJitFrameIter(const JitActivation* activation, uint8_t* fp, bool unwinding);
 
   void setResumePCInCurrentFrame(uint8_t* newAddr) {
     resumePCinCurrentFrame_ = newAddr;