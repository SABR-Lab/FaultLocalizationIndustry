# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/nsIDragSession.idl
# Commit: 384b025f56d3
# Full Hash: 384b025f56d3f87e045ecede6b1a16b71c0b5d4f
# Author: David P <daparks@mozilla.com>
# Date: 2024-07-04 16:09:52
# Regressor Bug: 1893119
# File Overlap Count: 1
# Description:
#   Bug 1893119: Part 21 - Separate nsIDragService and nsIDragSession implementations r=gstoll,geckoview-reviewers,rkraesig,win-reviewers,m_kato
#   
#   Split the class inheritance trees for nsIDragService and nsIDragSession.
#   Remember that, before the start of this patch series, the inheritance
#   diagram was:
# ==============================================================================

diff -r beeda5ef3712 -r 384b025f56d3 widget/nsIDragSession.idl
--- a/widget/nsIDragSession.idl	Thu Jul 04 07:48:11 2024 +0000
+++ b/widget/nsIDragSession.idl	Thu Jul 04 07:48:11 2024 +0000
@@ -138,6 +138,12 @@
   void updateDragImage(in Node aImage, in long aImageX, in long aImageY);
 
   /**
+   * Tell Gecko that this session is generated for automated testing.
+   * This should be called immediately after StartDragSession when testing.
+   */
+  [noscript] void InitForTests(in uint32_t aAllowedEffect);
+
+  /**
    * Returns effects allowed at starting the session for tests.
    */
   [notxpcom, nostdcall] unsigned long getEffectAllowedForTests();