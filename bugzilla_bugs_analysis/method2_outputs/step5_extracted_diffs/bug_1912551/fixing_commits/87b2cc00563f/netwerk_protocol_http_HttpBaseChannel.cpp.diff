# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: netwerk/protocol/http/HttpBaseChannel.cpp
# Commit: 87b2cc00563f
# Full Hash: 87b2cc00563f59a0d23cba5ca1076e3ef814aed2
# Author: Andreas Farre <farre@mozilla.com>
# Date: 2024-08-30 22:22:38
# Description:
#   Bug 1912551 - Adjust invariant checking to only happen in debug builds. r=sefeng,necko-reviewers
#   
#   In the case where the js validator comes back with a result and
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D220576
# ==============================================================================

diff -r a83dab700817 -r 87b2cc00563f netwerk/protocol/http/HttpBaseChannel.cpp
--- a/netwerk/protocol/http/HttpBaseChannel.cpp	Fri Aug 30 07:00:36 2024 +0000
+++ b/netwerk/protocol/http/HttpBaseChannel.cpp	Fri Aug 30 07:53:22 2024 +0000
@@ -3162,7 +3162,7 @@
 
 bool HttpBaseChannel::ShouldFilterOpaqueResponse(
     OpaqueResponseFilterFetch aFilterType) const {
-  MOZ_DIAGNOSTIC_ASSERT(ShouldBlockOpaqueResponse());
+  MOZ_ASSERT(ShouldBlockOpaqueResponse());
 
   if (!mLoadInfo || ConfiguredFilterFetchResponseBehaviour() != aFilterType) {
     return false;
