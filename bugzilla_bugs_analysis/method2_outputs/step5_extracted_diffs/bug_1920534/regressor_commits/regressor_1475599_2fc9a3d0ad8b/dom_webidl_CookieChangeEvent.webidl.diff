# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/webidl/CookieChangeEvent.webidl
# Commit: 2fc9a3d0ad8b
# Full Hash: 2fc9a3d0ad8bdbce325df78fcd731e925245afaf
# Author: Andrea Marchesini <amarchesini@mozilla.com>
# Date: 2024-09-12 09:23:07
# Regressor Bug: 1475599
# File Overlap Count: 1
# Description:
#   Bug 1475599 - part 1 - CookieStore API - WebIDL, r=smaug,edgul
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D215144
# ==============================================================================

diff -r 2d598be5ec67 -r 2fc9a3d0ad8b dom/webidl/CookieChangeEvent.webidl
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/dom/webidl/CookieChangeEvent.webidl	Wed Sep 11 16:26:54 2024 +0000
@@ -0,0 +1,27 @@
+/* -*- Mode: IDL; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
+/* This Source Code Form is subject to the terms of the Mozilla Public
+ * License, v. 2.0. If a copy of the MPL was not distributed with this file,
+ * You can obtain one at http://mozilla.org/MPL/2.0/.
+ *
+ * The origin of this IDL file is:
+ * https://wicg.github.io/cookie-store/#CookieChangeEvent
+ */
+
+[Exposed=Window,
+ SecureContext,
+ Pref="dom.cookieStore.enabled"]
+interface CookieChangeEvent : Event {
+  constructor(DOMString type, optional CookieChangeEventInit eventInitDict = {});
+  // TODO: Use FrozenArray once available. (Bug 1236777)
+  // [SameObject] readonly attribute FrozenArray<CookieListItem> changed;
+  // [SameObject] readonly attribute FrozenArray<CookieListItem> deleted;
+  [Frozen, Cached, Constant]
+  readonly attribute sequence<CookieListItem> changed;
+  [Frozen, Cached, Constant]
+  readonly attribute sequence<CookieListItem> deleted;
+};
+
+dictionary CookieChangeEventInit : EventInit {
+  CookieList changed;
+  CookieList deleted;
+};