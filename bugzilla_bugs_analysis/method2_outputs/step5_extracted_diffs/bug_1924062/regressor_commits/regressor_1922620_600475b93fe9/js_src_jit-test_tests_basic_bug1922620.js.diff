# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: js/src/jit-test/tests/basic/bug1922620.js
# Commit: 600475b93fe9
# Full Hash: 600475b93fe9f767cada72bd826ce01ff07d1ed2
# Author: Jan de Mooij <jdemooij@mozilla.com>
# Date: 2024-10-07 16:17:03
# Regressor Bug: 1922620
# File Overlap Count: 1
# Description:
#   Bug 1922620 - Fix disnative testing function to not return false without reporting an exception. r=arai
#   
#   This also fixes the `isAsmJSNative` check because this was incorrectly changed
#   to `return false` in bug 1839396 part 13.
#   
# ==============================================================================

diff -r 6a07788b6d32 -r 600475b93fe9 js/src/jit-test/tests/basic/bug1922620.js
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/js/src/jit-test/tests/basic/bug1922620.js	Mon Oct 07 09:14:42 2024 +0000
@@ -0,0 +1,10 @@
+function f() {
+    var g = function() { return 1; };
+    for (var i = 0; i < 20; i++) {
+        g();
+    }
+    try {
+        disnative(g);
+    } catch {}
+}
+f();
