# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/SharedSubResourceCache.h
# Commit: 4778a482abd6
# Full Hash: 4778a482abd6ba484aa2d8ec1062700bbfbd3062
# Author: Tooru Fujisawa <arai_a@mac.com>
# Date: 2024-10-02 09:50:09
# Regressor Bug: 1899734
# File Overlap Count: 2
# Description:
#   Bug 1899734 - Part 8: Add performance entry when stylesheet is created from a cache. r=emilio
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D223354
# ==============================================================================

diff -r b59dcea26b32 -r 4778a482abd6 layout/style/SharedSubResourceCache.h
--- a/layout/style/SharedSubResourceCache.h	Tue Oct 01 12:17:23 2024 +0000
+++ b/layout/style/SharedSubResourceCache.h	Tue Oct 01 12:17:24 2024 +0000
@@ -35,6 +35,7 @@
 #include "mozilla/MemoryReporting.h"
 #include "mozilla/StoragePrincipalHelper.h"
 #include "mozilla/dom/CacheExpirationTime.h"
+#include "mozilla/TimeStamp.h"
 #include "mozilla/dom/Document.h"
 #include "nsContentUtils.h"
 #include "nsISupportsImpl.h"
@@ -108,6 +109,15 @@
   }
 };
 
+namespace SharedSubResourceCacheUtils {
+
+void AddPerformanceEntryForCache(
+    const nsString& aEntryName, const nsString& aInitiatorType,
+    const SubResourceNetworkMetadataHolder* aNetworkMetadata,
+    TimeStamp aStartTime, TimeStamp aEndTime, dom::Document* aDocument);
+
+}  // namespace SharedSubResourceCacheUtils
+
 template <typename Traits, typename Derived>
 class SharedSubResourceCache {
  private:
