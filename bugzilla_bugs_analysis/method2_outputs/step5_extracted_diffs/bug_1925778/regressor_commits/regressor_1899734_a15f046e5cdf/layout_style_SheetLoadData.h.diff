# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/SheetLoadData.h
# Commit: a15f046e5cdf
# Full Hash: a15f046e5cdf1cb5ab7848dc57714c782f3b1f70
# Author: Tooru Fujisawa <arai_a@mac.com>
# Date: 2024-10-02 09:50:09
# Regressor Bug: 1899734
# File Overlap Count: 1
# Description:
#   Bug 1899734 - Part 6: Set SheetLoadData::mLoadStart also when coalesced. r=emilio
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D223352
# ==============================================================================

diff -r 313c1f782833 -r a15f046e5cdf layout/style/SheetLoadData.h
--- a/layout/style/SheetLoadData.h	Tue Oct 01 12:17:22 2024 +0000
+++ b/layout/style/SheetLoadData.h	Tue Oct 01 12:17:22 2024 +0000
@@ -253,7 +253,8 @@
   // listening for the load.
   bool mIntentionallyDropped = false;
 
-  // The start timestamp for the load.
+  // The start timestamp for the load, or the timestamp where this load is
+  // coalesced into an existing load.
   TimeStamp mLoadStart;
 
   const bool mRecordErrors;
@@ -296,11 +297,7 @@
 
   void StartLoading() override;
   void SetLoadCompleted() override;
-  void OnCoalescedTo(const SheetLoadData& aExistingLoad) override {
-    if (&aExistingLoad.Loader() != &Loader()) {
-      mShouldEmulateNotificationsForCachedLoad = true;
-    }
-  }
+  void OnCoalescedTo(const SheetLoadData& aExistingLoad) override;
 
   void Cancel() override { mIsCancelled = true; }
 
