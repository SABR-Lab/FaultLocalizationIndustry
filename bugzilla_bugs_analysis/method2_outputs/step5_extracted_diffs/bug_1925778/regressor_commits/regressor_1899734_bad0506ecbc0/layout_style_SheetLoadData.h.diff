# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/SheetLoadData.h
# Commit: bad0506ecbc0
# Full Hash: bad0506ecbc0f1448e23a4398bf1c2e6aeb3f529
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-09-26 21:26:53
# Regressor Bug: 1899734
# File Overlap Count: 1
# Description:
#   Bug 1921110 - Distinguish rel=preload from early-hints preload. r=arai,firefox-style-system-reviewers,zrhoffman
#   
#   No behavior change right now, but this is needed to fix the initiator in
#   bug 1899734.
#   
# ==============================================================================

diff -r 722852dd8923 -r bad0506ecbc0 layout/style/SheetLoadData.h
--- a/layout/style/SheetLoadData.h	Thu Sep 26 15:23:51 2024 +0000
+++ b/layout/style/SheetLoadData.h	Thu Sep 26 15:33:15 2024 +0000
@@ -274,11 +274,13 @@
   }
 
   bool IsPreload() const { return mPreloadKind != StylePreloadKind::None; }
-  bool IsLinkRelPreload() const { return css::IsLinkRelPreload(mPreloadKind); }
+  bool IsLinkRelPreloadOrEarlyHint() const {
+    return css::IsLinkRelPreloadOrEarlyHint(mPreloadKind);
+  }
 
   bool BlocksLoadEvent() const {
     const auto& root = RootLoadData();
-    return !root.IsLinkRelPreload() && !root.IsSyncLoad();
+    return !root.IsLinkRelPreloadOrEarlyHint() && !root.IsSyncLoad();
   }
 
   bool IsSyncLoad() const override { return mSyncLoad; }