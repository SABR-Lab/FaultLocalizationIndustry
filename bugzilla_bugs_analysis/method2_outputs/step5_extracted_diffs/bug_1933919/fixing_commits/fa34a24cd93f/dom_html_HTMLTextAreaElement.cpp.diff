# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: dom/html/HTMLTextAreaElement.cpp
# Commit: fa34a24cd93f
# Full Hash: fa34a24cd93f2f33cdf6a1bba8f9ec420653cbbc
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2024-11-29 05:32:38
# Description:
#   Bug 1933919 - Don't check for maxlength when collapsing the selection. r=masayuki
#   
#   Apparently in some situations it might not be set? Not super familiar
#   with this code.
#   
# ==============================================================================

diff -r 495c6765094e -r fa34a24cd93f dom/html/HTMLTextAreaElement.cpp
--- a/dom/html/HTMLTextAreaElement.cpp	Fri Nov 29 00:35:55 2024 +0000
+++ b/dom/html/HTMLTextAreaElement.cpp	Fri Nov 29 02:20:58 2024 +0000
@@ -799,8 +799,7 @@
   if (mState->IsSelectionCached()) {
     // Collapse the selection when removing nodes if necessary, see bug 1818686.
     auto& props = mState->GetSelectionProperties();
-    props.SetStart(0);
-    props.SetEnd(0);
+    props.CollapseToStart();
   }
   nsContentUtils::AddScriptRunner(
       NewRunnableMethod("HTMLTextAreaElement::ResetIfUnchanged", this,