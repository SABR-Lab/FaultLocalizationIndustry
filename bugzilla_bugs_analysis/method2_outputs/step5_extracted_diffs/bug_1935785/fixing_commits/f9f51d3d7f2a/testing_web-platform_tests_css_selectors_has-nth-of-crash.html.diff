# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: testing/web-platform/tests/css/selectors/has-nth-of-crash.html
# Commit: f9f51d3d7f2a
# Full Hash: f9f51d3d7f2a3853eac05e7c05d16b8820eaca63
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-02-18 20:54:41
# Description:
#   Bug 1935785 - Don't invalidate for nth-of without style data. r=jwatt
#   
#   We don't need to, and it trips assertions down the line when we try to
#   mark stuff as dirty.
#   
# ==============================================================================

diff -r b3706da01ca0 -r f9f51d3d7f2a testing/web-platform/tests/css/selectors/has-nth-of-crash.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/testing/web-platform/tests/css/selectors/has-nth-of-crash.html	Tue Feb 18 13:24:10 2025 +0000
@@ -0,0 +1,21 @@
+<link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1935785">
+<style>
+*:has([e]),
+:nth-last-child(n of:read-only[d=""][b=""] d){}
+</style>
+<script>
+const func_1 = (e) => {
+  e.originalTarget.scrollTop = 2147483647
+}
+document.addEventListener("DOMContentLoaded", () => {
+  document.documentElement.setAttribute("contenteditable", true)
+  let a = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
+  document.documentElement.appendChild(a)
+  document.documentElement.hidden = true
+  a.addEventListener("DOMAttrModified", func_1, true)
+  a.draggable = true
+  document.documentElement.removeAttribute("contenteditable")
+  a.setHTML("", { })
+})
+</script>
+<marquee>
