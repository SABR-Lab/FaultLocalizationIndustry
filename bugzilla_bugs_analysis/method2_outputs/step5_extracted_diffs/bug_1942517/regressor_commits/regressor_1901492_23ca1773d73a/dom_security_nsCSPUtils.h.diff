# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/security/nsCSPUtils.h
# Commit: 23ca1773d73a
# Full Hash: 23ca1773d73a13c012b1cc635fe6615da46a4675
# Author: Frédéric Wang <fwang@igalia.com>
# Date: 2025-01-17 21:57:54
# Regressor Bug: 1901492
# File Overlap Count: 1
# Description:
#   Bug 1901492 - Simplify some require-trusted-types-for checks. r=smaug
#   
#   Currently, there is only one sink group defined in the spec, accepted
#   by nsCSPParser::handleRequireTrustedTypesForDirective and used by
#   callers of GetTrustedTypesCompliantString. This means that the flag
# ==============================================================================

diff -r 6d76c1674ad7 -r 23ca1773d73a dom/security/nsCSPUtils.h
--- a/dom/security/nsCSPUtils.h	Fri Jan 17 13:31:12 2025 +0000
+++ b/dom/security/nsCSPUtils.h	Fri Jan 17 13:35:39 2025 +0000
@@ -230,10 +230,6 @@
   virtual bool isNonce() const { return false; }
   virtual bool isKeyword(CSPKeyword aKeyword) const { return false; }
   virtual bool isTrustedTypesDirectivePolicyName() const { return false; }
-  virtual bool isRequiresTrustedTypesForSinkGroup(
-      const nsAString& aSinkGroup) const {
-    return false;
-  }
 };
 
 /* =============== nsCSPSchemeSrc ============ */
@@ -419,9 +415,6 @@
   bool visit(nsCSPSrcVisitor* aVisitor) const override;
   void toString(nsAString& aOutStr) const override;
 
-  bool isRequiresTrustedTypesForSinkGroup(
-      const nsAString& aSinkGroup) const override;
-
  private:
   const nsString mValue;
 };