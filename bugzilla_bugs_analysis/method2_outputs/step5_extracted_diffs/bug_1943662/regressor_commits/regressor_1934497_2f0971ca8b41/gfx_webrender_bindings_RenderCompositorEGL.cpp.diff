# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: gfx/webrender_bindings/RenderCompositorEGL.cpp
# Commit: 2f0971ca8b41
# Full Hash: 2f0971ca8b412c59b9b5ff84b8384e4bbf8c1216
# Author: stransky <stransky@redhat.com>
# Date: 2024-12-10 16:36:00
# Regressor Bug: 1934497
# File Overlap Count: 1
# Description:
#   Bug 1934497 [Wayland] Switch MozContainerSurfaceLock for WaylandSurfaceClock at RenderCompositorEGL r=emilio
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D230854
# ==============================================================================

diff -r ed34f4ff5a2b -r 2f0971ca8b41 gfx/webrender_bindings/RenderCompositorEGL.cpp
--- a/gfx/webrender_bindings/RenderCompositorEGL.cpp	Tue Dec 10 07:12:53 2024 +0000
+++ b/gfx/webrender_bindings/RenderCompositorEGL.cpp	Tue Dec 10 07:12:53 2024 +0000
@@ -159,7 +159,7 @@
   // Rendering on Wayland has to be atomic (buffer attach + commit) and
   // wayland surface is also used by main thread so lock it before
   // we paint at SwapBuffers().
-  UniquePtr<MozContainerSurfaceLock> lock;
+  UniquePtr<widget::WaylandSurfaceLock> lock;
   if (auto* gtkWidget = mWidget->AsGTK()) {
     lock = gtkWidget->LockSurface();
   }
