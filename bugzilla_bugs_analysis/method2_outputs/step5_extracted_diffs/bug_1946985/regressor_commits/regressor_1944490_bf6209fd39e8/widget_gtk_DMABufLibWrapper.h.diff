# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/gtk/DMABufLibWrapper.h
# Commit: bf6209fd39e8
# Full Hash: bf6209fd39e85664974d19bfc1c8cb6d06d48a21
# Author: stransky <stransky@redhat.com>
# Date: 2025-02-05 16:56:59
# Regressor Bug: 1944490
# File Overlap Count: 1
# Description:
#   Bug 1944490 [Linux] Ensure DMABufFormats provides basic dmabuf formats r=emilio
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D236688
# ==============================================================================

diff -r a374b7104d05 -r bf6209fd39e8 widget/gtk/DMABufLibWrapper.h
--- a/widget/gtk/DMABufLibWrapper.h	Wed Feb 05 11:23:30 2025 +0000
+++ b/widget/gtk/DMABufLibWrapper.h	Wed Feb 05 11:26:53 2025 +0000
@@ -23,10 +23,6 @@
 #  define LOGDMABUF(args)
 #endif /* MOZ_LOGGING */
 
-#ifndef DRM_FORMAT_MOD_INVALID
-#  define DRM_FORMAT_MOD_INVALID ((1ULL << 56) - 1)
-#endif
-
 namespace mozilla {
 namespace widget {
 
@@ -221,11 +217,9 @@
  private:
   void Configure();
 
-#ifdef MOZ_WAYLAND
   void LoadFormatModifiers();
   void SetModifiersToGfxVars();
   void GetModifiersFromGfxVars();
-#endif
 
   // Two basic formats, always present.
   RefPtr<DRMFormat> mFormatRGBA;