# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/windows/nsWindow.h
# Commit: 1345d8372866
# Full Hash: 1345d8372866767b4a02ff62647af4c0e59bbfb9
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-02-21 09:54:38
# Regressor Bug: 1934439
# File Overlap Count: 1
# Description:
#   Bug 1934439 - Make the mica prefs toggle-able at runtime. r=win-reviewers,rkraesig
#   
#   Not particularly pretty but this will do.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D238705
# ==============================================================================

diff -r 247db6ae4912 -r 1345d8372866 widget/windows/nsWindow.h
--- a/widget/windows/nsWindow.h	Thu Feb 20 18:02:21 2025 +0000
+++ b/widget/windows/nsWindow.h	Thu Feb 20 18:21:03 2025 +0000
@@ -340,6 +340,8 @@
   void SetSmallIconNoData();
   void SetBigIconNoData();
 
+  void UpdateMicaBackdrop(bool aForce = false);
+
   static void SetIsRestoringSession(const bool aIsRestoringSession) {
     sIsRestoringSession = aIsRestoringSession;
   }
@@ -879,6 +881,9 @@
   // Whether we're a PIP window.
   bool mPIPWindow : 1;
 
+  // Whether we are asked to render a mica backdrop.
+  bool mMicaBackdrop : 1;
+
   int32_t mCachedHitTestResult = 0;
 
   // The point in time at which the last paint completed. We use this to avoid
