# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: layout/style/StyleSheet.cpp
# Commit: cff41741557b
# Full Hash: cff41741557b3875e367437ba26378c6473376e5
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-03-11 21:27:27
# Description:
#   Bug 1953050 - Null-check stylesheet when fixing up clones. r=dshin
#   
#   I missed this one in bug 1427715.
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D240978
# ==============================================================================

diff -r e579937082bf -r cff41741557b layout/style/StyleSheet.cpp
--- a/layout/style/StyleSheet.cpp	Tue Mar 11 13:13:20 2025 +0000
+++ b/layout/style/StyleSheet.cpp	Tue Mar 11 13:45:23 2025 +0000
@@ -1171,10 +1171,10 @@
         RefPtr<StyleLockedImportRule> import =
             Servo_CssRules_GetImportRuleAt(rules, i, &line, &column).Consume();
         MOZ_ASSERT(import);
-        auto* sheet =
-            const_cast<StyleSheet*>(Servo_ImportRule_GetSheet(import));
-        MOZ_ASSERT(sheet);
-        AppendStyleSheetSilently(*sheet);
+        if (auto* sheet =
+                const_cast<StyleSheet*>(Servo_ImportRule_GetSheet(import))) {
+          AppendStyleSheetSilently(*sheet);
+        }
         break;
       }
       case StyleCssRuleType::LayerStatement: