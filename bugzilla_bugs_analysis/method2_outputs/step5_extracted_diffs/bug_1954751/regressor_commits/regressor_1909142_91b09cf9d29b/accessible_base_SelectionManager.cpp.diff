# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: accessible/base/SelectionManager.cpp
# Commit: 91b09cf9d29b
# Full Hash: 91b09cf9d29b49aa8717b9dc2b4d13261c40417c
# Author: James Teh <jteh@mozilla.com>
# Date: 2025-02-06 09:44:55
# Regressor Bug: 1909142
# File Overlap Count: 1
# Description:
#   Bug 1909142 part 2: Expose custom highlights via accessibility APIs. r=morgan
#   
#   Differential Revision: https://phabricator.services.mozilla.com/D233806
# ==============================================================================

diff -r 4ca7e6d2bcab -r 91b09cf9d29b accessible/base/SelectionManager.cpp
--- a/accessible/base/SelectionManager.cpp	Wed Feb 05 22:59:15 2025 +0000
+++ b/accessible/base/SelectionManager.cpp	Wed Feb 05 22:59:15 2025 +0000
@@ -203,7 +203,8 @@
 bool SelectionManager::SelectionRangeChanged(SelectionType aType,
                                              const dom::AbstractRange& aRange) {
   if (aType != SelectionType::eSpellCheck &&
-      aType != SelectionType::eTargetText) {
+      aType != SelectionType::eTargetText &&
+      aType != SelectionType::eHighlight) {
     // We don't need to handle range changes for this selection type.
     return false;
   }