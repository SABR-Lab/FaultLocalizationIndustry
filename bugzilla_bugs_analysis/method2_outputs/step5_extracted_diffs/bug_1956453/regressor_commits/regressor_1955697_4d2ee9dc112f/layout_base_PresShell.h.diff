# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/base/PresShell.h
# Commit: 4d2ee9dc112f
# Full Hash: 4d2ee9dc112f9640f43e4c670759aa86b5030b2a
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-03-25 21:02:33
# Regressor Bug: 1955697
# File Overlap Count: 1
# Description:
#   Bug 1955697 - Paint the scrolled canvas background if not observable by blending. r=mstange
#   
#   This restores the behavior that D242017 removed.
#   
#   This is not per spec, and is mostly to avoid having to spend a lot of
# ==============================================================================

diff -r bf3033ae1fe7 -r 4d2ee9dc112f layout/base/PresShell.h
--- a/layout/base/PresShell.h	Tue Mar 25 08:09:58 2025 +0000
+++ b/layout/base/PresShell.h	Tue Mar 25 08:09:58 2025 +0000
@@ -914,11 +914,6 @@
     return aForPage ? mCanvasBackground.mPage : mCanvasBackground.mViewport;
   }
 
-  nscolor GetCSSSpecifiedCanvasBackground(bool aForPage) const {
-    const auto& canvas = GetCanvasBackground(aForPage);
-    return canvas.mCSSSpecified ? canvas.mColor : 0;
-  }
-
   struct CanvasBackground {
     // The canvas frame background for the whole viewport.
     SingleCanvasBackground mViewport;