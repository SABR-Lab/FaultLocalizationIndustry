# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/painting/RetainedDisplayListBuilder.cpp
# Commit: bf3033ae1fe7
# Full Hash: bf3033ae1fe73d4384d9f3957f3efbfe4d36223a
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-03-25 21:02:33
# Regressor Bug: 1955697
# File Overlap Count: 3
# Description:
#   Bug 1955697 - Remove nsDisplayCanvasBackgroundColor. r=mstange
#   
#   We no longer need it, as now it behaves just like a solid color.
#   
#   This causes an expectation change in an internal windowUtils.elementFromPoint
# ==============================================================================

diff -r 01cecf5bf7e5 -r bf3033ae1fe7 layout/painting/RetainedDisplayListBuilder.cpp
--- a/layout/painting/RetainedDisplayListBuilder.cpp	Tue Mar 25 08:09:57 2025 +0000
+++ b/layout/painting/RetainedDisplayListBuilder.cpp	Tue Mar 25 08:09:58 2025 +0000
@@ -545,8 +545,7 @@
     // haven't modified the frame, and it's hard to fix. In these cases we just
     // always use the new item to be safe.
     DisplayItemType type = aNewItem->GetType();
-    if (type == DisplayItemType::TYPE_CANVAS_BACKGROUND_COLOR ||
-        type == DisplayItemType::TYPE_SOLID_COLOR) {
+    if (type == DisplayItemType::TYPE_SOLID_COLOR) {
       // The canvas background color item can paint the color from another
       // frame, and even though we schedule a paint, we don't mark the canvas
       // frame as invalid.