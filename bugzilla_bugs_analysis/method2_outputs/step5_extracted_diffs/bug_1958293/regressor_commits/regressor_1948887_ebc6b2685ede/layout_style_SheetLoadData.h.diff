# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: layout/style/SheetLoadData.h
# Commit: ebc6b2685ede
# Full Hash: ebc6b2685ede6059d3acf880a837783061777270
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-02-22 09:14:45
# Regressor Bug: 1948887
# File Overlap Count: 1
# Description:
#   Bug 1948887 - Allow parsing sheets with SRI metadata off the main thread. r=dshin
#   
#   Flush reports when back on the main thread, and stash the tainting
#   around since LoadInfo is main-thread only.
#   
# ==============================================================================

diff -r 57759a2ddebc -r ebc6b2685ede layout/style/SheetLoadData.h
--- a/layout/style/SheetLoadData.h	Fri Feb 21 15:06:55 2025 +0000
+++ b/layout/style/SheetLoadData.h	Fri Feb 21 15:09:28 2025 +0000
@@ -133,6 +133,10 @@
   // applicable.
   CacheExpirationTime mExpirationTime = CacheExpirationTime::Never();
 
+  // The load tainting of the request. Needed to be able to pass it around off
+  // the main thread for SRI checks.
+  LoadTainting mTainting{LoadTainting::Basic};
+
   // Number of sheets we @import-ed that are still loading
   uint32_t mPendingChildren;
 
