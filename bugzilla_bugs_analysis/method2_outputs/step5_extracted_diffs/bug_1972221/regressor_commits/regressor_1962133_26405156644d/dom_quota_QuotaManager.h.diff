# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: dom/quota/QuotaManager.h
# Commit: 26405156644d
# Full Hash: 26405156644df297d909840c938b81cb2f9ee812
# Author: Jan Varga <jvarga@mozilla.com>
# Date: 2025-06-13 03:47:27
# Regressor Bug: 1962133
# File Overlap Count: 2
# Description:
#   Bug 1962133 - QM: Rationalize QuotaManager::InitializeOrigin arguments; r=dom-storage-reviewers,hsingh
#   
#   Refactors InitializeOrigin to take FullOriginMetadata as a single argument
#   instead of passing the persistence type, origin metadata, accessed time, and
#   persisted flag separately. This reduces redundancy, simplifies usage, and helps
# ==============================================================================

diff -r ae572884f7cb -r 26405156644d dom/quota/QuotaManager.h
--- a/dom/quota/QuotaManager.h	Thu Jun 12 16:57:57 2025 +0000
+++ b/dom/quota/QuotaManager.h	Thu Jun 12 17:15:10 2025 +0000
@@ -834,10 +834,9 @@
   nsresult InitializeRepository(PersistenceType aPersistenceType,
                                 OriginFunc&& aOriginFunc);
 
-  nsresult InitializeOrigin(PersistenceType aPersistenceType,
-                            const OriginMetadata& aOriginMetadata,
-                            int64_t aAccessTime, bool aPersisted,
-                            nsIFile* aDirectory, bool aForGroup = false);
+  nsresult InitializeOrigin(nsIFile* aDirectory,
+                            const FullOriginMetadata& aFullOriginMetadata,
+                            bool aForGroup = false);
 
   using OriginInfosFlatTraversable =
       nsTArray<NotNull<RefPtr<const OriginInfo>>>;
