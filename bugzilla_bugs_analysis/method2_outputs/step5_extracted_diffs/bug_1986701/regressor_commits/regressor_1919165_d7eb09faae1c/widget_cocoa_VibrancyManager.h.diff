# ==============================================================================
# REGRESSOR COMMIT DIFF
# ==============================================================================
# File: widget/cocoa/VibrancyManager.h
# Commit: d7eb09faae1c
# Full Hash: d7eb09faae1c39fe5ba7039c0c14b9ee13fe6f48
# Author: Emilio Cobos √Ålvarez <emilio@crisal.io>
# Date: 2025-04-29 20:49:47
# Regressor Bug: 1919165
# File Overlap Count: 1
# Description:
#   Bug 1919165 - Get rid of nsChildView. r=mac-reviewers,mstange
#   
#   In a follow-up I want to merge nsChildView.mm into nsCocoaWindow.mm, but
#   I thought I'd send this for feedback.
#   
# ==============================================================================

diff -r 1eeb386120ff -r d7eb09faae1c widget/cocoa/VibrancyManager.h
--- a/widget/cocoa/VibrancyManager.h	Tue Apr 29 13:50:20 2025 +0000
+++ b/widget/cocoa/VibrancyManager.h	Tue Apr 29 13:51:02 2025 +0000
@@ -11,7 +11,7 @@
 #include "Units.h"
 
 @class NSView;
-class nsChildView;
+class nsCocoaWindow;
 
 namespace mozilla {
 
@@ -45,13 +45,13 @@
    * Create a new VibrancyManager instance and provide it with an NSView
    * to attach NSVisualEffectViews to.
    *
-   * @param aCoordinateConverter  The nsChildView to use for converting
+   * @param aCoordinateConverter  The nsCocoaWindow to use for converting
    *   nsIntRect device pixel coordinates into Cocoa NSRect coordinates. Must
    *   outlive this VibrancyManager instance.
    * @param aContainerView  The view that's going to be the superview of the
    *   NSVisualEffectViews which will be created for vibrant regions.
    */
-  VibrancyManager(const nsChildView& aCoordinateConverter,
+  VibrancyManager(const nsCocoaWindow& aCoordinateConverter,
                   NSView* aContainerView);
 
   ~VibrancyManager();
@@ -70,7 +70,7 @@
   void PrefChanged();
 
  protected:
-  const nsChildView& mCoordinateConverter;
+  const nsCocoaWindow& mCoordinateConverter;
   NSView* mContainerView;
   EnumeratedArray<VibrancyType, UniquePtr<ViewRegion>> mVibrantRegions;
 };