{
  "bug_id": "1992635",
  "status": "matched",
  "stack_source": "step2_socorro",
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1992635",
  "summary": "Crash in [@ mozilla::PresShell::GetRootFrame]",
  "regressor_info": [
    {
      "filepath": "dom/events/UIEvent.cpp",
      "filename": "UIEvent.cpp",
      "commit_hash": "fb06ff1a6aa5",
      "full_hash": "fb06ff1a6aa5ebfbb72cf0711063379d091537ed",
      "regressor_bug_id": "1975653",
      "methods": [
        {
          "name": "UIEvent",
          "type": "method",
          "start_line": 30,
          "end_line": 67,
          "line_count": 38,
          "signature": "UIEvent::UIEvent(EventTarget* aOwner, nsPresContext* aPresContext, WidgetGUIEvent* aEvent) : Event(aOwner, aPresContext,"
        },
        {
          "name": "Constructor",
          "type": "method",
          "start_line": 70,
          "end_line": 81,
          "line_count": 12,
          "signature": "already_AddRefed<UIEvent> UIEvent::Constructor(const GlobalObject& aGlobal, const nsAString& aType, const UIEventInit& aParam) {"
        },
        {
          "name": "InitUIEvent",
          "type": "method",
          "start_line": 91,
          "end_line": 102,
          "line_count": 12,
          "signature": "void UIEvent::InitUIEvent(const nsAString& typeArg, bool canBubbleArg, bool cancelableArg, nsGlobalWindowInner* viewArg, int32_t detailArg) {"
        },
        {
          "name": "GetRangeParentContentAndOffset",
          "type": "method",
          "start_line": 104,
          "end_line": 117,
          "line_count": 14,
          "signature": "already_AddRefed<nsIContent> UIEvent::GetRangeParentContentAndOffset( int32_t* aOffset) const { if (NS_WARN_IF(!mPresContext)) {"
        },
        {
          "name": "RangeOffset",
          "type": "method",
          "start_line": 119,
          "end_line": 131,
          "line_count": 13,
          "signature": "int32_t UIEvent::RangeOffset() const { if (NS_WARN_IF(!mPresContext)) { return 0;"
        },
        {
          "name": "GetLayerPoint",
          "type": "method",
          "start_line": 133,
          "end_line": 157,
          "line_count": 25,
          "signature": "nsIntPoint UIEvent::GetLayerPoint() const { if (mEvent->mFlags.mIsPositionless) { return nsIntPoint(0, 0);"
        },
        {
          "name": "DuplicatePrivateData",
          "type": "method",
          "start_line": 159,
          "end_line": 179,
          "line_count": 21,
          "signature": "void UIEvent::DuplicatePrivateData() { mLayerPoint = GetLayerPoint(); "
        },
        {
          "name": "Serialize",
          "type": "method",
          "start_line": 181,
          "end_line": 190,
          "line_count": 10,
          "signature": "void UIEvent::Serialize(IPC::MessageWriter* aWriter, bool aSerializeInterfaceType) { if (aSerializeInterfaceType) {"
        },
        {
          "name": "Deserialize",
          "type": "method",
          "start_line": 192,
          "end_line": 196,
          "line_count": 5,
          "signature": "bool UIEvent::Deserialize(IPC::MessageReader* aReader) { NS_ENSURE_TRUE(Event::Deserialize(aReader), false); NS_ENSURE_TRUE(IPC::ReadParam(aReader, &mDetail), false);"
        },
        {
          "name": "ComputeModifierState",
          "type": "method",
          "start_line": 223,
          "end_line": 252,
          "line_count": 30,
          "signature": "Modifiers UIEvent::ComputeModifierState(const nsAString& aModifiersList) { if (aModifiersList.IsEmpty()) { return 0;"
        },
        {
          "name": "GetModifierStateInternal",
          "type": "method",
          "start_line": 254,
          "end_line": 258,
          "line_count": 5,
          "signature": "bool UIEvent::GetModifierStateInternal(const nsAString& aKey) { WidgetInputEvent* inputEvent = mEvent->AsInputEvent(); MOZ_ASSERT(inputEvent, \"mEvent must be WidgetInputEvent or derived class\");"
        },
        {
          "name": "ConvertToModifiers",
          "type": "function",
          "start_line": 260,
          "end_line": 281,
          "line_count": 22,
          "signature": "static Modifiers ConvertToModifiers(const EventModifierInit& aParam) { Modifiers bits = MODIFIER_NONE; "
        },
        {
          "name": "InitModifiers",
          "type": "method",
          "start_line": 283,
          "end_line": 295,
          "line_count": 13,
          "signature": "void UIEvent::InitModifiers(const EventModifierInit& aParam) { if (NS_WARN_IF(!mEvent)) { return;"
        },
        {
          "name": "NS_NewDOMUIEvent",
          "type": "function",
          "start_line": 302,
          "end_line": 307,
          "line_count": 6,
          "signature": "already_AddRefed<UIEvent> NS_NewDOMUIEvent(EventTarget* aOwner, nsPresContext* aPresContext, WidgetGUIEvent* aEvent) {"
        }
      ],
      "method_names": [
        "UIEvent",
        "Constructor",
        "InitUIEvent",
        "GetRangeParentContentAndOffset",
        "RangeOffset",
        "GetLayerPoint",
        "DuplicatePrivateData",
        "Serialize",
        "Deserialize",
        "ComputeModifierState",
        "GetModifierStateInternal",
        "ConvertToModifiers",
        "InitModifiers",
        "NS_NewDOMUIEvent"
      ],
      "method_count": 14
    }
  ],
  "stack_info": {
    "source": "step2_socorro",
    "frame_count": 47,
    "filenames": [
      "PresShell.cpp",
      "PBrowserChild.cpp",
      "PContentChild.cpp",
      "nsThreadUtils.cpp",
      "BrowserChild.cpp",
      "unique_ptr.h",
      "nsBaseAppShell.cpp",
      "nsView.cpp",
      "EventDispatcher.cpp",
      "UIEvent.cpp",
      "message_loop.cc",
      "PresShell.h",
      "nsEmbedFunctions.cpp",
      "PuppetWidget.cpp",
      "APZCCallbackHelper.cpp",
      "TaskController.cpp",
      "nsThreadUtils.h",
      "MessageChannel.cpp",
      "nsViewManager.cpp",
      "APKOpen.cpp",
      "nsThread.cpp",
      "MessagePump.cpp"
    ],
    "functions": [
      "mozilla::PresShell::EventHandler::DispatchTouchEventToDOM(mozilla::WidgetEvent*, nsEventStatus*, nsPresShellEventCB*, bool)",
      "NS_ProcessNextEvent(nsIThread*, bool)",
      "art::Thread::CreateCallbackWithUffdGc(void*)",
      "mozilla::ipc::MessageChannel::DispatchMessage(mozilla::ipc::ActorLifecycleProxy*, std::__ndk1::unique_ptr<IPC::Message, std::__ndk1::default_delete<IPC::Message> >)",
      "nsView::HandleEvent(mozilla::WidgetGUIEvent*, bool)",
      "mozilla::dom::UIEvent::GetLayerPoint() const",
      "mozilla::dom::PBrowserChild::OnMessageReceived(IPC::Message const&)",
      "XRE_InitChildProcess(int, char**, XREChildData const*)",
      "mozilla::dom::BrowserChild::RecvRealTouchEvent(mozilla::WidgetTouchEvent const&, mozilla::layers::ScrollableLayerGuid const&, unsigned long const&, nsEventStatus const&)",
      "mozilla::TaskController::ProcessPendingMTTask(bool)",
      "mozilla::widget::PuppetWidget::DispatchEvent(mozilla::WidgetGUIEvent*, nsEventStatus&)",
      "mozilla::PresShell::GetRootFrame() const",
      "art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)",
      "mozilla::dom::BrowserChild::DispatchWidgetEventViaAPZ(mozilla::WidgetGUIEvent&)",
      "Java_org_mozilla_gecko_mozglue_GeckoLoader_nativeRun",
      "mozilla::RunnableTask::Run()",
      "mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
      "mozilla::PresShell::HandleEvent(nsIFrame*, mozilla::WidgetGUIEvent*, bool, nsEventStatus*)",
      "mozilla::PresShell::EventHandler::HandleEventUsingCoordinates(AutoWeakFrame&, mozilla::WidgetGUIEvent*, nsEventStatus*, bool)",
      "mozilla::detail::RunnableFunction<mozilla::TaskController::TaskController()::$_1>::Run()",
      "nsThread::ProcessNextEvent(bool, bool*)",
      "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
      "mozilla::PresShell::EventHandler::HandleEventWithCurrentEventInfo(mozilla::WidgetEvent*, nsEventStatus*, bool, nsIContent*)",
      "MessageLoop::RunHandler()",
      "nsBaseAppShell::Run()",
      "mozilla::EventDispatcher::Dispatch(mozilla::dom::EventTarget*, nsPresContext*, mozilla::WidgetEvent*, mozilla::dom::Event*, nsEventStatus*, mozilla::EventDispatchingCallback*, nsTArray<mozilla::dom::EventTarget*>*)",
      "mozilla::ipc::MessageChannel::MessageTask::Run()",
      "mozilla::TaskController::TaskController()::$_1::operator()() const",
      "mozilla::dom::UIEvent::DuplicatePrivateData()",
      "mozilla::dom::PContentChild::OnMessageReceived(IPC::Message const&)",
      "art::RuntimeCallbacks::DdmPublishChunk(unsigned int, art::ArrayRef<unsigned char const> const&)::$_0::operator()() const [clone .__uniq] [clone .14038455983609747804623791479376661822]",
      "nsViewManager::DispatchEvent(mozilla::WidgetGUIEvent*, nsView*, nsEventStatus*)",
      "MessageLoop::Run()",
      "XRE_RunAppShell()",
      "art_quick_invoke_stub",
      "art::Thread::CreateCallback(void*)",
      "std::__ndk1::unique_ptr<nsCSSFrameConstructor, std::__ndk1::default_delete<nsCSSFrameConstructor> >::operator->[abi:nn190000]() const",
      "mozilla::PresShell::EventHandler::DispatchEvent(mozilla::EventStateManager*, mozilla::WidgetEvent*, bool, nsEventStatus*, nsIContent*)",
      "mozilla::layers::APZCCallbackHelper::DispatchWidgetEvent(mozilla::WidgetGUIEvent&)",
      "mozilla::ipc::MessageChannel::RunMessage(mozilla::ipc::ActorLifecycleProxy*, mozilla::ipc::MessageChannel::MessageTask&)",
      "mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
      "mozilla::ipc::MessageChannel::DispatchAsyncMessage(mozilla::ipc::ActorLifecycleProxy*, IPC::Message const&)",
      "MessageLoop::RunInternal()",
      "mozilla::TaskController::RunTask(mozilla::Task*)"
    ]
  },
  "matching_results": {
    "file_matches": [
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_filename": "UIEvent.cpp",
        "matched": true,
        "matched_stack_file": "UIEvent.cpp"
      }
    ],
    "method_matches": [
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "UIEvent",
        "regressor_method_normalized": "uievent",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "Constructor",
        "regressor_method_normalized": "constructor",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "InitUIEvent",
        "regressor_method_normalized": "inituievent",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "GetRangeParentContentAndOffset",
        "regressor_method_normalized": "getrangeparentcontentandoffset",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "RangeOffset",
        "regressor_method_normalized": "rangeoffset",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "GetLayerPoint",
        "regressor_method_normalized": "getlayerpoint",
        "matched": true,
        "matched_stack_function": "mozilla::dom::UIEvent::GetLayerPoint() const",
        "match_type": "partial"
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "DuplicatePrivateData",
        "regressor_method_normalized": "duplicateprivatedata",
        "matched": true,
        "matched_stack_function": "mozilla::dom::UIEvent::DuplicatePrivateData()",
        "match_type": "exact"
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "Serialize",
        "regressor_method_normalized": "serialize",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "Deserialize",
        "regressor_method_normalized": "deserialize",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "ComputeModifierState",
        "regressor_method_normalized": "computemodifierstate",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "GetModifierStateInternal",
        "regressor_method_normalized": "getmodifierstateinternal",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "ConvertToModifiers",
        "regressor_method_normalized": "converttomodifiers",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "InitModifiers",
        "regressor_method_normalized": "initmodifiers",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      },
      {
        "regressor_file": "dom/events/UIEvent.cpp",
        "regressor_method": "NS_NewDOMUIEvent",
        "regressor_method_normalized": "newdomuievent",
        "matched": false,
        "matched_stack_function": null,
        "match_type": null
      }
    ],
    "statistics": {
      "total_regressor_files": 1,
      "matched_files": 1,
      "file_match_rate": 1.0,
      "total_regressor_methods": 14,
      "matched_methods": 2,
      "method_match_rate": 0.14285714285714285,
      "stack_has_filenames": true,
      "stack_has_functions": true,
      "stack_filename_count": 22,
      "stack_function_count": 44
    }
  }
}