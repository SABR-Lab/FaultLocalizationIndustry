{
  "bug_id": "1895110",
  "summary": "Crash in [@ shutdownhang | mozilla::SpinEventLoopUntil | nsThreadPool::ShutdownWithTimeout]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Address Bar",
  "version": "Firefox 126",
  "severity": "S2",
  "priority": "P1",
  "creation_time": "2024-05-05T01:58:45Z",
  "last_change_time": "2024-08-29T13:01:40Z",
  "is_recent": false,
  "crash_signature_raw": "[@ shutdownhang | mozilla::SpinEventLoopUntil | nsThreadPool::ShutdownWithTimeout ] [@ shutdownhang | kernelbase.dll | mozilla::SpinEventLoopUntil | nsThreadPool::ShutdownWithTimeout ]",
  "crash_signatures": [
    "shutdownhang | mozilla::SpinEventLoopUntil | nsThreadPool::ShutdownWithTimeout",
    "shutdownhang | kernelbase.dll | mozilla::SpinEventLoopUntil | nsThreadPool::ShutdownWithTimeout"
  ],
  "keywords": [
    "crash",
    "topcrash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1895110",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/9a060de6-0aad-43e1-a28c-ba2c10240505",
      "crash_id": "9a060de6-0aad-43e1-a28c-ba2c10240505",
      "comment_index": 0,
      "comment_text": "Crash report: https://crash-stats.mozilla.org/report/index/9a060de6-0aad-43e1-a28c-ba2c10240505\n\nMOZ_CRASH Reason: ```Shutdown hanging at step XPCOMShutdownThreads. Something is blocking the main-thread.```\n\nTop 9 frames:\n```\n0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:317\n0  xul.dll  mozilla::(anonymous namespace)::RunWatchdog(void*)  toolkit/components/terminator/nsTerminator.cpp:244\n1  nss3.dll  _PR_NativeRunThread(void*)  nsprpub/pr/src/threads/combined/pruthr.c:399\n2  nss3.dll  pr_root(void*)  nsprpub/pr/src/md/windows/w95thred.c:139\n3  ucrtbase.dll  thread_start<unsigned int (__cdecl*)(void*), 1>\n4  kernel32.dll  BaseThreadInitThunk\n5  mozglue.dll  mozilla::interceptor::FuncHook<mozilla::interceptor::WindowsDllInterceptor<mo...  toolkit/xre/dllservices/mozglue/nsWindowsDllInterceptor.h:150\n5  mozglue.dll  patched_BaseThreadInitThunk(int, void*, void*)  toolkit/xre/dllservices/mozglue/WindowsDllBlocklist.cpp:562\n6  ntdll.dll  RtlUserThreadStart\n```"
    }
  ],
  "socorro_crash_ids": [
    "9a060de6-0aad-43e1-a28c-ba2c10240505"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 16920522,
      "comment_count": 0,
      "creator": "worcester12345@yahoo.com",
      "creation_time": "2024-05-05T01:58:45Z",
      "raw_text": "Crash report: https://crash-stats.mozilla.org/report/index/9a060de6-0aad-43e1-a28c-ba2c10240505\n\nMOZ_CRASH Reason: ```Shutdown hanging at step XPCOMShutdownThreads. Something is blocking the main-thread.```\n\nTop 9 frames:\n```\n0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:317\n0  xul.dll  mozilla::(anonymous namespace)::RunWatchdog(void*)  toolkit/components/terminator/nsTerminator.cpp:244\n1  nss3.dll  _PR_NativeRunThread(void*)  nsprpub/pr/src/threads/combined/pruthr.c:399\n2  nss3.dll  pr_root(void*)  nsprpub/pr/src/md/windows/w95thred.c:139\n3  ucrtbase.dll  thread_start<unsigned int (__cdecl*)(void*), 1>\n4  kernel32.dll  BaseThreadInitThunk\n5  mozglue.dll  mozilla::interceptor::FuncHook<mozilla::interceptor::WindowsDllInterceptor<mo...  toolkit/xre/dllservices/mozglue/nsWindowsDllInterceptor.h:150\n5  mozglue.dll  patched_BaseThreadInitThunk(int, void*, void*)  toolkit/xre/dllservices/mozglue/WindowsDllBlocklist.cpp:562\n6  ntdll.dll  RtlUserThreadStart\n```",
      "matched_patterns": [
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "MOZ_Crash(char const*, int, char const*)",
          "file": "mfbt/Assertions.h",
          "line": 317,
          "raw": "0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:317"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::(anonymous namespace)::RunWatchdog(void*)",
          "file": "toolkit/components/terminator/nsTerminator.cpp",
          "line": 244,
          "raw": "0  xul.dll  mozilla::(anonymous namespace)::RunWatchdog(void*)  toolkit/components/terminator/nsTerminator.cpp:244"
        },
        {
          "frame_index": 1,
          "module": "nss3.dll",
          "function": "_PR_NativeRunThread(void*)",
          "file": "nsprpub/pr/src/threads/combined/pruthr.c",
          "line": 399,
          "raw": "1  nss3.dll  _PR_NativeRunThread(void*)  nsprpub/pr/src/threads/combined/pruthr.c:399"
        },
        {
          "frame_index": 2,
          "module": "nss3.dll",
          "function": "pr_root(void*)",
          "file": "nsprpub/pr/src/md/windows/w95thred.c",
          "line": 139,
          "raw": "2  nss3.dll  pr_root(void*)  nsprpub/pr/src/md/windows/w95thred.c:139"
        },
        {
          "frame_index": 3,
          "module": "ucrtbase.dll",
          "function": "thread_start<unsigned int (__cdecl*)(void*), 1>",
          "file": "",
          "line": null,
          "raw": "3  ucrtbase.dll  thread_start<unsigned int (__cdecl*)(void*), 1>"
        },
        {
          "frame_index": 4,
          "module": "kernel32.dll",
          "function": "BaseThreadInitThunk",
          "file": "",
          "line": null,
          "raw": "4  kernel32.dll  BaseThreadInitThunk"
        },
        {
          "frame_index": 5,
          "module": "mozglue.dll",
          "function": "mozilla::interceptor::FuncHook<mozilla::interceptor::WindowsDllInterceptor<mo...",
          "file": "toolkit/xre/dllservices/mozglue/nsWindowsDllInterceptor.h",
          "line": 150,
          "raw": "5  mozglue.dll  mozilla::interceptor::FuncHook<mozilla::interceptor::WindowsDllInterceptor<mo...  toolkit/xre/dllservices/mozglue/nsWindowsDllInterceptor.h:150"
        },
        {
          "frame_index": 5,
          "module": "mozglue.dll",
          "function": "patched_BaseThreadInitThunk(int, void*, void*)",
          "file": "toolkit/xre/dllservices/mozglue/WindowsDllBlocklist.cpp",
          "line": 562,
          "raw": "5  mozglue.dll  patched_BaseThreadInitThunk(int, void*, void*)  toolkit/xre/dllservices/mozglue/WindowsDllBlocklist.cpp:562"
        },
        {
          "frame_index": 6,
          "module": "ntdll.dll",
          "function": "RtlUserThreadStart",
          "file": "",
          "line": null,
          "raw": "6  ntdll.dll  RtlUserThreadStart"
        }
      ],
      "frame_count": 9
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 9
}