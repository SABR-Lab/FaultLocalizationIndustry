{
  "bug_id": "426275",
  "summary": "crash on clear private data (history) [@ nsNavHistoryExpire::ClearHistory]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Bookmarks & History",
  "version": "Trunk",
  "severity": "critical",
  "priority": "P1",
  "creation_time": "2008-04-01T00:12:54Z",
  "last_change_time": "2011-06-09T21:58:47Z",
  "is_recent": false,
  "crash_signature_raw": "[@ nsNavHistoryExpire::ClearHistory]",
  "crash_signatures": [
    "nsNavHistoryExpire::ClearHistory"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=426275",
  "socorro_links": [],
  "socorro_crash_ids": [],
  "has_socorro_link": false,
  "has_direct_crash_id": false,
  "stack_traces": [
    {
      "comment_id": 3939574,
      "comment_count": 48,
      "creator": "hskupin@gmail.com",
      "creation_time": "2009-01-21T23:37:03Z",
      "raw_text": "Minefield gives us a bit more information. So the crash happens in nsNavHistoryFolderResultNode::GetViewIndex. I remember that I got this crash each time after I've tried to reproduce bug 421246. I think both bugs are related to each other.\n\nhttp://crash-stats.mozilla.com/report/index/772c5b53-e3bb-4068-966d-175572090121?p=1\n\n0  \txul.dll  \tnsNavHistoryFolderResultNode::GetViewIndex  \t toolkit/components/places/src/nsNavHistoryResult.h:284\n1 \txul.dll \tnsNavHistoryResult::OnClearHistory \ttoolkit/components/places/src/nsNavHistoryResult.cpp:4466\n2 \txul.dll \tnsNavHistoryExpire::ClearHistory \ttoolkit/components/places/src/nsNavHistoryExpire.cpp:291\n3 \txul.dll \tnsNavHistory::RemoveAllPages \ttoolkit/components/places/src/nsNavHistory.cpp:4612\n\nI can't offer real STR right now, but browse some sites and try to reproduce bug 421246 (sidebar history entries cannot be deleted). Doing a clear private data action with all entries crashes most of the time for me.",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsNavHistoryFolderResultNode::GetViewIndex",
          "file": "toolkit/components/places/src/nsNavHistoryResult.h",
          "line": 284,
          "raw": "0  \txul.dll  \tnsNavHistoryFolderResultNode::GetViewIndex  \t toolkit/components/places/src/nsNavHistoryResult.h:284"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "nsNavHistoryResult::OnClearHistory",
          "file": "toolkit/components/places/src/nsNavHistoryResult.cpp",
          "line": 4466,
          "raw": "1 \txul.dll \tnsNavHistoryResult::OnClearHistory \ttoolkit/components/places/src/nsNavHistoryResult.cpp:4466"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "nsNavHistoryExpire::ClearHistory",
          "file": "toolkit/components/places/src/nsNavHistoryExpire.cpp",
          "line": 291,
          "raw": "2 \txul.dll \tnsNavHistoryExpire::ClearHistory \ttoolkit/components/places/src/nsNavHistoryExpire.cpp:291"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "nsNavHistory::RemoveAllPages",
          "file": "toolkit/components/places/src/nsNavHistory.cpp",
          "line": 4612,
          "raw": "3 \txul.dll \tnsNavHistory::RemoveAllPages \ttoolkit/components/places/src/nsNavHistory.cpp:4612"
        }
      ],
      "frame_count": 4
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 4
}