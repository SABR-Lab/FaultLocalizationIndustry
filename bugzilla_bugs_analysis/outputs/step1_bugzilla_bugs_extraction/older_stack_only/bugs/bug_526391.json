{
  "bug_id": "526391",
  "summary": "Crash [@ nsXULPopupManager::HidePopupsInDocShell(nsIDocShellTreeItem*) ][@ nsMenuPopupFrame::FindMenuWithShortcut] when opening Weave's Activity Log or Preferences from context menu while doing an incremental sync",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Sync",
  "version": "unspecified",
  "severity": "critical",
  "priority": "P2",
  "creation_time": "2009-11-04T04:04:53Z",
  "last_change_time": "2018-09-24T21:26:41Z",
  "is_recent": false,
  "crash_signature_raw": "[@ nsXULPopupManager::HidePopupsInDocShell(nsIDocShellTreeItem*) ]\n[@ nsMenuPopupFrame::FindMenuWithShortcut]",
  "crash_signatures": [
    "nsXULPopupManager::HidePopupsInDocShell(nsIDocShellTreeItem*)",
    "nsMenuPopupFrame::FindMenuWithShortcut"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=526391",
  "socorro_links": [],
  "socorro_crash_ids": [],
  "has_socorro_link": false,
  "has_direct_crash_id": false,
  "stack_traces": [
    {
      "comment_id": 4415453,
      "comment_count": 14,
      "creator": "timeless@bemail.org",
      "creation_time": "2009-11-24T11:23:43Z",
      "raw_text": "Signature\tnsMenuPopupFrame::FindMenuWithShortcut(nsIDOMKeyEvent*, int&)\nUUID\t8e50337e-bc7b-4436-a158-238412091112\nTime \t2009-11-12 16:18:42.29446\nUptime\t57\nLast Crash\t87 seconds before submission\nProduct\tFirefox\nVersion\t3.7a1pre\nBuild ID\t20091112030932\nBranch\t1.9.3\nOS\tLinux\nOS Version\t0.0.0 Linux 2.6.31-15-generic #50-Ubuntu SMP Tue Nov 10 14:54:29 UTC 2009 i686 GNU/Linux\nCPU\tx86\nCPU Info\tGenuineIntel family 10 model 15 stepping 2\nCrash Reason\tSIGSEGV\nCrash Address\t0xb6e6700c\nUser Comments\tsynced weave. opened up weave's status-bar context-menu while it was syncing. After it finished syncing, the context-menu automatically closed. Then I pressed the \"a\" key on my keyboard, and Firefox crashed.\nProcessor Notes \t\nCrashing Thread\nFrame \tModule \tSignature [Expand] \tSource\n0 \tlibxul.so \tnsMenuPopupFrame::FindMenuWithShortcut \tlayout/xul/base/src/nsMenuPopupFrame.cpp:1306\n1 \tlibxul.so \tnsXULPopupManager::HandleShortcutNavigation \tlayout/xul/base/src/nsXULPopupManager.cpp:1571\n2 \tlibxul.so \tnsXULPopupManager::KeyPress \tlayout/xul/base/src/nsXULPopupManager.cpp:2019\n3 \tlibxul.so \tnsEventListenerManager::HandleEvent \tcontent/events/src/nsEventListenerManager.cpp:172\n4 \tlibxul.so \tnsEventTargetChainItem::HandleEvent \tcontent/events/src/nsEventDispatcher.cpp:250\n5 \tlibxul.so \tnsEventTargetChainItem::HandleEventTargetChain \tcontent/events/src/nsEventDispatcher.cpp:287\n6 \tlibxul.so \tnsEventDispatcher::Dispatch \tcontent/events/src/nsEventDispatcher.cpp:584\n7 \tlibxul.so \tPresShell::HandleEventInternal \tlayout/base/nsPresShell.cpp:6582\n8 \tlibxul.so \tPresShell::HandleEvent \tlayout/base/nsPresShell.cpp:6340\n9 \tlibxul.so \tnsViewManager::HandleEvent \tview/src/nsViewManager.cpp:1202\n10 \tlibxul.so \tnsViewManager::DispatchEvent \tview/src/nsViewManager.cpp:1181\n11 \tlibxul.so \t_ZL11HandleEventP10nsGUIEvent \tview/src/nsView.cpp:167\n12 \tlibxul.so \tnsWindow::DispatchEvent \twidget/src/gtk2/nsWindow.cpp:588\n13 \tlibxul.so \tnsWindow::OnKeyPressEvent \twidget/src/gtk2/nsWindow.cpp:3123",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)crashing\\s+thread"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "nsMenuPopupFrame::FindMenuWithShortcut",
          "file": "layout/xul/base/src/nsMenuPopupFrame.cpp",
          "line": 1306,
          "raw": "0 \tlibxul.so \tnsMenuPopupFrame::FindMenuWithShortcut \tlayout/xul/base/src/nsMenuPopupFrame.cpp:1306"
        },
        {
          "frame_index": 1,
          "module": "libxul.so",
          "function": "nsXULPopupManager::HandleShortcutNavigation",
          "file": "layout/xul/base/src/nsXULPopupManager.cpp",
          "line": 1571,
          "raw": "1 \tlibxul.so \tnsXULPopupManager::HandleShortcutNavigation \tlayout/xul/base/src/nsXULPopupManager.cpp:1571"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "nsXULPopupManager::KeyPress",
          "file": "layout/xul/base/src/nsXULPopupManager.cpp",
          "line": 2019,
          "raw": "2 \tlibxul.so \tnsXULPopupManager::KeyPress \tlayout/xul/base/src/nsXULPopupManager.cpp:2019"
        },
        {
          "frame_index": 3,
          "module": "libxul.so",
          "function": "nsEventListenerManager::HandleEvent",
          "file": "content/events/src/nsEventListenerManager.cpp",
          "line": 172,
          "raw": "3 \tlibxul.so \tnsEventListenerManager::HandleEvent \tcontent/events/src/nsEventListenerManager.cpp:172"
        },
        {
          "frame_index": 4,
          "module": "libxul.so",
          "function": "nsEventTargetChainItem::HandleEvent",
          "file": "content/events/src/nsEventDispatcher.cpp",
          "line": 250,
          "raw": "4 \tlibxul.so \tnsEventTargetChainItem::HandleEvent \tcontent/events/src/nsEventDispatcher.cpp:250"
        },
        {
          "frame_index": 5,
          "module": "libxul.so",
          "function": "nsEventTargetChainItem::HandleEventTargetChain",
          "file": "content/events/src/nsEventDispatcher.cpp",
          "line": 287,
          "raw": "5 \tlibxul.so \tnsEventTargetChainItem::HandleEventTargetChain \tcontent/events/src/nsEventDispatcher.cpp:287"
        },
        {
          "frame_index": 6,
          "module": "libxul.so",
          "function": "nsEventDispatcher::Dispatch",
          "file": "content/events/src/nsEventDispatcher.cpp",
          "line": 584,
          "raw": "6 \tlibxul.so \tnsEventDispatcher::Dispatch \tcontent/events/src/nsEventDispatcher.cpp:584"
        },
        {
          "frame_index": 7,
          "module": "libxul.so",
          "function": "PresShell::HandleEventInternal",
          "file": "layout/base/nsPresShell.cpp",
          "line": 6582,
          "raw": "7 \tlibxul.so \tPresShell::HandleEventInternal \tlayout/base/nsPresShell.cpp:6582"
        },
        {
          "frame_index": 8,
          "module": "libxul.so",
          "function": "PresShell::HandleEvent",
          "file": "layout/base/nsPresShell.cpp",
          "line": 6340,
          "raw": "8 \tlibxul.so \tPresShell::HandleEvent \tlayout/base/nsPresShell.cpp:6340"
        },
        {
          "frame_index": 9,
          "module": "libxul.so",
          "function": "nsViewManager::HandleEvent",
          "file": "view/src/nsViewManager.cpp",
          "line": 1202,
          "raw": "9 \tlibxul.so \tnsViewManager::HandleEvent \tview/src/nsViewManager.cpp:1202"
        },
        {
          "frame_index": 10,
          "module": "libxul.so",
          "function": "nsViewManager::DispatchEvent",
          "file": "view/src/nsViewManager.cpp",
          "line": 1181,
          "raw": "10 \tlibxul.so \tnsViewManager::DispatchEvent \tview/src/nsViewManager.cpp:1181"
        },
        {
          "frame_index": 11,
          "module": "libxul.so",
          "function": "_ZL11HandleEventP10nsGUIEvent",
          "file": "view/src/nsView.cpp",
          "line": 167,
          "raw": "11 \tlibxul.so \t_ZL11HandleEventP10nsGUIEvent \tview/src/nsView.cpp:167"
        },
        {
          "frame_index": 12,
          "module": "libxul.so",
          "function": "nsWindow::DispatchEvent",
          "file": "widget/src/gtk2/nsWindow.cpp",
          "line": 588,
          "raw": "12 \tlibxul.so \tnsWindow::DispatchEvent \twidget/src/gtk2/nsWindow.cpp:588"
        },
        {
          "frame_index": 13,
          "module": "libxul.so",
          "function": "nsWindow::OnKeyPressEvent",
          "file": "widget/src/gtk2/nsWindow.cpp",
          "line": 3123,
          "raw": "13 \tlibxul.so \tnsWindow::OnKeyPressEvent \twidget/src/gtk2/nsWindow.cpp:3123"
        }
      ],
      "frame_count": 14
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 14
}