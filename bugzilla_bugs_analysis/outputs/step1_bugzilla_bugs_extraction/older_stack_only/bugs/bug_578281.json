{
  "bug_id": "578281",
  "summary": "Firefox 4.0b1 Crash [@ nsGenericElement::DestroyContent() ] & [@ FindNamedItems ] & [@ nsFrame::~nsFrame() ] & [@ UnionExpr::evaluate(txIEvalContext*, txAExprResult**) ] &  [@ nsNodeWeakReference::QueryReferent(nsID const&, void**) ]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Extension Compatibility",
  "version": "Trunk",
  "severity": "critical",
  "priority": "--",
  "creation_time": "2010-07-13T05:37:20Z",
  "last_change_time": "2016-10-04T09:18:39Z",
  "is_recent": false,
  "crash_signature_raw": "[@ nsGenericElement::DestroyContent() ]\r\n[@ FindNamedItems ]\r\n[@ nsFrame::~nsFrame() ]\r\n[@ UnionExpr::evaluate(txIEvalContext*, txAExprResult**) ]\r\n[@ nsNodeWeakReference::QueryReferent(nsID const&, void**) ]",
  "crash_signatures": [
    "nsGenericElement::DestroyContent()",
    "FindNamedItems",
    "nsFrame::~nsFrame()",
    "UnionExpr::evaluate(txIEvalContext*, txAExprResult**)",
    "nsNodeWeakReference::QueryReferent(nsID const&, void**)"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=578281",
  "socorro_links": [],
  "socorro_crash_ids": [],
  "has_socorro_link": false,
  "has_direct_crash_id": false,
  "stack_traces": [
    {
      "comment_id": 4795007,
      "comment_count": 6,
      "creator": "chofmann@gmail.com",
      "creation_time": "2010-07-14T20:06:32Z",
      "raw_text": "the link in comment zero has a list of the reports with stack traces. most appear to look like:\n\nFrame  \tModule  \tSignature [Expand]  \tSource\n0 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n1 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n2 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n3 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n4 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n5 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n6 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n7 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779\n8 \txul.dll \tnsDocument::Destroy \tcontent/base/src/nsDocument.cpp:6752\n9 \txul.dll \tDocumentViewerImpl::Destroy \tlayout/base/nsDocumentViewer.cpp:1593\n10 \txul.dll \tDocumentViewerImpl::Show \tlayout/base/nsDocumentViewer.cpp:1920\n11 \txul.dll \tnsPresContext::EnsureVisible \tlayout/base/nsPresContext.cpp:1629\n12 \txul.dll \tPresShell::UnsuppressAndInvalidate \tlayout/base/nsPresShell.cpp:4536\n13 \txul.dll \tPresShell::sPaintSuppressionCallback \tlayout/base/nsPresShell.cpp:2716\n14 \txul.dll \tnsHttpChannel::MaybeInvalidateCacheEntryForSubsequentGet \tnetwerk/protocol/http/nsHttpChannel.cpp:5157\n15 \txul.dll \tnsTimerEvent::Run \txpcom/threads/nsTimerImpl.cpp:519\n16 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:547\n17 \txul.dll \tmozilla::ipc::MessagePump::Run \tipc/glue/MessagePump.cpp:142\n18 \txul.dll \tMessageLoop::RunInternal \tipc/chromium/src/base/message_loop.cc:216\n19 \txul.dll \tMessageLoop::RunHandler \tipc/chromium/src/base/message_loop.cc:199\n20 \txul.dll \tnsStandardURL::BuildNormalizedSpec \tnetwerk/base/src/nsStandardURL.cpp:663\n21 \txul.dll \tMessageLoop::Run \tipc/chromium/src/base/message_loop.cc:173\n22 \txul.dll \tnsBaseAppShell::Run \twidget/src/xpwidgets/nsBaseAppShell.cpp:175\n23 \txul.dll \txul.dll@0xa19373 \t\n24 \txul.dll \tnsAppStartup::Run \ttoolkit/components/startup/src/nsAppStartup.cpp:192\n25 \txul.dll \tXRE_main \ttoolkit/xre/nsAppRunner.cpp:3624\n26 \tfirefox.exe \twmain \ttoolkit/xre/nsWindowsWMain.cpp:120\n27 \tfirefox.exe \t__tmainCRTStartup \tobj-firefox/memory/jemalloc/crtsrc/crtexe.c:591\n28 \tkernel32.dll \tkernel32.dll@0x13676 \t\n29 \tntdll.dll \tntdll.dll@0x39d41 \t\n30 \tntdll.dll \tntdll.dll@0x39d14\n\n\nthe crash appears to have been around with previous releases, but is appearing in much higher volume with 4.0 beta 1\n\n\nchecking --- nsGenericElement::DestroyContent 20100712-crashdata.csv\nfound in: 4.0b1 3.6.6 3.7a5 3.7a6pre 4.0b2pre 3.0.19 3.6b5 3.6.7 3.6 3.5.10\nrelease total-crashes\n              nsGenericElement::DestroyContent crashes\n                         pct.\nall     285620  334     0.00116939\n4.0b1   18756   307     0.0163681\n3.6.6   162229  10      6.16413e-05\n3.7a5   721     6       0.00832178\n3.7a6pre        379     3       0.00791557\n4.0b2pre        1164    2       0.00171821\n3.0.19  8636    2       0.000231589\n3.6b5   579     1       0.00172712\n3.6.7   14043   1       7.12099e-05\n3.6     6384    1       0.000156642\n3.5.10  19611   1       5.09918e-05\n\nThe most frequent sites assoicated with the crash appears to be\n\n  18 http://vnexpress.net/GL/Home/\n   4 http://www.vnexpress.net/GL/Home/\n   2 http://www.youtube.com/results?search_query=Dilwali+Kothi&aq=f\n   2 http://www.vnpet.com/user_profile.php?game=1&user=thieugia9x\n   2 http://www.tinhte.vn/forums/163-THAY-DOI-NANG-CAP-FIRMWARE\n   2 http://www.sony-asia.com/search/Search.action\n   2 http://www.orkut.com.br/Home\n   2 http://www.orkut.co.in/Home\n   2 http://www.leomessi.com/eng/index.html\n   2 http://www.filefactory.com/file/a19394g/n/russian_1\n   2 http://vnexpress.net/GL/Vi-tinh/\n   2 http://hcm.24h.com.vn/\n   2 http://dantri.com.vn/",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "0 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "1 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "2 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "3 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "4 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "5 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "6 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "nsGenericElement::DestroyContent",
          "file": "content/base/src/nsGenericElement.cpp",
          "line": 3779,
          "raw": "7 \txul.dll \tnsGenericElement::DestroyContent \tcontent/base/src/nsGenericElement.cpp:3779"
        },
        {
          "frame_index": 8,
          "module": "xul.dll",
          "function": "nsDocument::Destroy",
          "file": "content/base/src/nsDocument.cpp",
          "line": 6752,
          "raw": "8 \txul.dll \tnsDocument::Destroy \tcontent/base/src/nsDocument.cpp:6752"
        },
        {
          "frame_index": 9,
          "module": "xul.dll",
          "function": "DocumentViewerImpl::Destroy",
          "file": "layout/base/nsDocumentViewer.cpp",
          "line": 1593,
          "raw": "9 \txul.dll \tDocumentViewerImpl::Destroy \tlayout/base/nsDocumentViewer.cpp:1593"
        },
        {
          "frame_index": 10,
          "module": "xul.dll",
          "function": "DocumentViewerImpl::Show",
          "file": "layout/base/nsDocumentViewer.cpp",
          "line": 1920,
          "raw": "10 \txul.dll \tDocumentViewerImpl::Show \tlayout/base/nsDocumentViewer.cpp:1920"
        },
        {
          "frame_index": 11,
          "module": "xul.dll",
          "function": "nsPresContext::EnsureVisible",
          "file": "layout/base/nsPresContext.cpp",
          "line": 1629,
          "raw": "11 \txul.dll \tnsPresContext::EnsureVisible \tlayout/base/nsPresContext.cpp:1629"
        },
        {
          "frame_index": 12,
          "module": "xul.dll",
          "function": "PresShell::UnsuppressAndInvalidate",
          "file": "layout/base/nsPresShell.cpp",
          "line": 4536,
          "raw": "12 \txul.dll \tPresShell::UnsuppressAndInvalidate \tlayout/base/nsPresShell.cpp:4536"
        },
        {
          "frame_index": 13,
          "module": "xul.dll",
          "function": "PresShell::sPaintSuppressionCallback",
          "file": "layout/base/nsPresShell.cpp",
          "line": 2716,
          "raw": "13 \txul.dll \tPresShell::sPaintSuppressionCallback \tlayout/base/nsPresShell.cpp:2716"
        },
        {
          "frame_index": 14,
          "module": "xul.dll",
          "function": "nsHttpChannel::MaybeInvalidateCacheEntryForSubsequentGet",
          "file": "netwerk/protocol/http/nsHttpChannel.cpp",
          "line": 5157,
          "raw": "14 \txul.dll \tnsHttpChannel::MaybeInvalidateCacheEntryForSubsequentGet \tnetwerk/protocol/http/nsHttpChannel.cpp:5157"
        },
        {
          "frame_index": 15,
          "module": "xul.dll",
          "function": "nsTimerEvent::Run",
          "file": "xpcom/threads/nsTimerImpl.cpp",
          "line": 519,
          "raw": "15 \txul.dll \tnsTimerEvent::Run \txpcom/threads/nsTimerImpl.cpp:519"
        },
        {
          "frame_index": 16,
          "module": "xul.dll",
          "function": "nsThread::ProcessNextEvent",
          "file": "xpcom/threads/nsThread.cpp",
          "line": 547,
          "raw": "16 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:547"
        },
        {
          "frame_index": 17,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessagePump::Run",
          "file": "ipc/glue/MessagePump.cpp",
          "line": 142,
          "raw": "17 \txul.dll \tmozilla::ipc::MessagePump::Run \tipc/glue/MessagePump.cpp:142"
        },
        {
          "frame_index": 18,
          "module": "xul.dll",
          "function": "MessageLoop::RunInternal",
          "file": "ipc/chromium/src/base/message_loop.cc",
          "line": 216,
          "raw": "18 \txul.dll \tMessageLoop::RunInternal \tipc/chromium/src/base/message_loop.cc:216"
        },
        {
          "frame_index": 19,
          "module": "xul.dll",
          "function": "MessageLoop::RunHandler",
          "file": "ipc/chromium/src/base/message_loop.cc",
          "line": 199,
          "raw": "19 \txul.dll \tMessageLoop::RunHandler \tipc/chromium/src/base/message_loop.cc:199"
        },
        {
          "frame_index": 20,
          "module": "xul.dll",
          "function": "nsStandardURL::BuildNormalizedSpec",
          "file": "netwerk/base/src/nsStandardURL.cpp",
          "line": 663,
          "raw": "20 \txul.dll \tnsStandardURL::BuildNormalizedSpec \tnetwerk/base/src/nsStandardURL.cpp:663"
        },
        {
          "frame_index": 21,
          "module": "xul.dll",
          "function": "MessageLoop::Run",
          "file": "ipc/chromium/src/base/message_loop.cc",
          "line": 173,
          "raw": "21 \txul.dll \tMessageLoop::Run \tipc/chromium/src/base/message_loop.cc:173"
        },
        {
          "frame_index": 22,
          "module": "xul.dll",
          "function": "nsBaseAppShell::Run",
          "file": "widget/src/xpwidgets/nsBaseAppShell.cpp",
          "line": 175,
          "raw": "22 \txul.dll \tnsBaseAppShell::Run \twidget/src/xpwidgets/nsBaseAppShell.cpp:175"
        },
        {
          "frame_index": 23,
          "module": "xul.dll",
          "function": "xul.dll@0xa19373",
          "file": "",
          "line": null,
          "raw": "23 \txul.dll \txul.dll@0xa19373"
        },
        {
          "frame_index": 24,
          "module": "xul.dll",
          "function": "nsAppStartup::Run",
          "file": "toolkit/components/startup/src/nsAppStartup.cpp",
          "line": 192,
          "raw": "24 \txul.dll \tnsAppStartup::Run \ttoolkit/components/startup/src/nsAppStartup.cpp:192"
        },
        {
          "frame_index": 25,
          "module": "xul.dll",
          "function": "XRE_main",
          "file": "toolkit/xre/nsAppRunner.cpp",
          "line": 3624,
          "raw": "25 \txul.dll \tXRE_main \ttoolkit/xre/nsAppRunner.cpp:3624"
        },
        {
          "frame_index": 28,
          "module": "kernel32.dll",
          "function": "kernel32.dll@0x13676",
          "file": "",
          "line": null,
          "raw": "28 \tkernel32.dll \tkernel32.dll@0x13676"
        },
        {
          "frame_index": 29,
          "module": "ntdll.dll",
          "function": "ntdll.dll@0x39d41",
          "file": "",
          "line": null,
          "raw": "29 \tntdll.dll \tntdll.dll@0x39d41"
        },
        {
          "frame_index": 30,
          "module": "ntdll.dll",
          "function": "ntdll.dll@0x39d14",
          "file": "",
          "line": null,
          "raw": "30 \tntdll.dll \tntdll.dll@0x39d14"
        }
      ],
      "frame_count": 29
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 29
}