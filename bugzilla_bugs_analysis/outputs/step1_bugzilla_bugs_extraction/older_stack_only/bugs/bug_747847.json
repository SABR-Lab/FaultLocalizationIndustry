{
  "bug_id": "747847",
  "summary": "crash in nsJSContext::EvaluateString with Skype extension 5.11",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Extension Compatibility",
  "version": "12 Branch",
  "severity": "critical",
  "priority": "--",
  "creation_time": "2012-04-23T08:15:35Z",
  "last_change_time": "2013-04-10T16:28:00Z",
  "is_recent": false,
  "crash_signature_raw": "[@ nsJSContext::EvaluateString(nsAString_internal const&, JSObject*, nsIPrincipal*, nsIPrincipal*, char const*, unsigned int, unsigned int, nsAString_internal*, bool*)]",
  "crash_signatures": [
    "nsJSContext::EvaluateString(nsAString_internal const&, JSObject*, nsIPrincipal*, nsIPrincipal*, char const*, unsigned int, unsigned int, nsAString_internal*, bool*)"
  ],
  "keywords": [
    "crash",
    "qawanted"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=747847",
  "socorro_links": [],
  "socorro_crash_ids": [],
  "has_socorro_link": false,
  "has_direct_crash_id": false,
  "stack_traces": [
    {
      "comment_id": 6245025,
      "comment_count": 0,
      "creator": "scoobidiver@netcourrier.com",
      "creation_time": "2012-04-23T08:15:35Z",
      "raw_text": "It only affects 12.0 and happens on startup.\n\nSignature \tnsJSContext::EvaluateString(nsAString_internal const&, JSObject*, nsIPrincipal*, nsIPrincipal*, char const*, unsigned int, unsigned int, nsAString_internal*, bool*) More Reports Search\nUUID\t6b0c78d7-7d07-4f9f-ad5d-666f12120422\nDate Processed\t2012-04-22 15:21:31\nUptime\t1\nLast Crash\t7 seconds before submission\nInstall Age\t10.8 minutes since version was first installed.\nInstall Time\t2012-04-22 15:10:31\nProduct\tFirefox\nVersion\t12.0\nBuild ID\t20120420145725\nRelease Channel\trelease\nOS\tWindows NT\nOS Version\t6.1.7601 Service Pack 1\nBuild Architecture\tx86\nBuild Architecture Info\tGenuineIntel family 6 model 37 stepping 5\nCrash Reason\tEXCEPTION_ACCESS_VIOLATION_READ\nCrash Address\t0x70796b77\nApp Notes \t\nAdapterVendorID: 0x1002, AdapterDeviceID: 0x95c5, AdapterSubsysID: 03421028, AdapterDriverVersion: 8.951.0.0\nD2D? D2D+ DWrite? DWrite+ \nEMCheckCompatibility\tFalse\t\nTotal Virtual Memory\t4294836224\nAvailable Virtual Memory\t3992694784\nSystem Memory Use Percentage\t43\nAvailable Page File\t12732174336\nAvailable Physical Memory\t4886888448\n\nFrame \tModule \tSignature \tSource\n0 \txul.dll \tnsJSContext::EvaluateString \tdom/base/nsJSEnvironment.cpp:1437\n1 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x546dc \t\n2 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x7753e \t\n3 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x81cc5 \t\n4 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x82093 \t\n5 \txul.dll \tNS_InvokeByIndex_P \txpcom/reflect/xptcall/src/md/win32/xptcinvoke.cpp:102\n6 \txul.dll \tXPC_WN_CallMethod \tjs/xpconnect/src/XPCWrappedNativeJSOps.cpp:1542\n7 \tmozjs.dll \tjs::InvokeKernel \tjs/src/jsinterp.cpp:519\n8 \tmozjs.dll \tjs::Interpret \tjs/src/jsinterp.cpp:2791\n9 \tmozglue.dll \tje_calloc \tmemory/jemalloc/jemalloc.c:6481\n10 \tmozjs.dll \tjs::RunScript \tjs/src/jsinterp.cpp:466\n11 \tmozjs.dll \tjs::ExecuteKernel \tjs/src/jsinterp.cpp:677\n12 \tmozjs.dll \tjs::Execute \tjs/src/jsinterp.cpp:718\n13 \tmozjs.dll \tJS_ExecuteScript \tjs/src/jsapi.cpp:5292\n14 \txul.dll \tnsJSContext::ExecuteScript \tdom/base/nsJSEnvironment.cpp:1658\n15 \txul.dll \tnsXULDocument::ExecuteScript \tcontent/xul/document/src/nsXULDocument.cpp:3614\n16 \txul.dll \tnsXULDocument::ExecuteScript \tcontent/xul/document/src/nsXULDocument.cpp:3635\n17 \txul.dll \tnsXULDocument::OnStreamComplete \tcontent/xul/document/src/nsXULDocument.cpp:3507\n18 \txul.dll \tnsStreamLoader::OnStopRequest \tnetwerk/base/src/nsStreamLoader.cpp:127\n19 \txul.dll \tnsJARChannel::OnStopRequest \tmodules/libjar/nsJARChannel.cpp:924\n20 \txul.dll \tnsInputStreamPump::OnStateStop \tnetwerk/base/src/nsInputStreamPump.cpp:583\n21 \txul.dll \tnsInputStreamPump::OnInputStreamReady \tnetwerk/base/src/nsInputStreamPump.cpp:405\n22 \txul.dll \tnsInputStreamReadyEvent::Run \txpcom/io/nsStreamUtils.cpp:114\n23 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:657\n...\n\nIt's correlated to Skype 5.11:\n  nsJSContext::EvaluateString(nsAString_internal const&, JSObject*, nsIPrincipal*, nsIPrincipal*, char const*, unsigned int, unsigned int, nsAString_internal*, bool*)|EXCEPTION_ACCESS_VIOLATION_READ (91 crashes)\n     77% (70/91) vs.   1% (326/40715) {82AF8DCA-6DE9-405D-BD5E-43525BDAD38A}\n          0% (0/91) vs.   0% (24/40715) 5.10.0.9560\n         77% (70/91) vs.   1% (239/40715) 5.11.0.9874\n          0% (0/91) vs.   0% (1/40715) 5.3.0.7550\n          0% (0/91) vs.   0% (1/40715) 5.6.0.8153\n          0% (0/91) vs.   0% (33/40715) 5.6.0.8442\n          0% (0/91) vs.   0% (1/40715) 5.8.0.8855\n          0% (0/91) vs.   0% (27/40715) 5.9.0.9216\n\nMore reports at:\nhttps://crash-stats.mozilla.com/report/list?signature=nsJSContext%3A%3AEvaluateString%28nsAString_internal+const%26%2C+JSObject*%2C+nsIPrincipal*%2C+nsIPrincipal*%2C+char+const*%2C+unsigned+int%2C+unsigned+int%2C+nsAString_internal*%2C+bool*%29",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsJSContext::EvaluateString",
          "file": "dom/base/nsJSEnvironment.cpp",
          "line": 1437,
          "raw": "0 \txul.dll \tnsJSContext::EvaluateString \tdom/base/nsJSEnvironment.cpp:1437"
        },
        {
          "frame_index": 1,
          "module": "SkypeFfComponent.dll",
          "function": "SkypeFfComponent.dll@0x546dc",
          "file": "",
          "line": null,
          "raw": "1 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x546dc"
        },
        {
          "frame_index": 2,
          "module": "SkypeFfComponent.dll",
          "function": "SkypeFfComponent.dll@0x7753e",
          "file": "",
          "line": null,
          "raw": "2 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x7753e"
        },
        {
          "frame_index": 3,
          "module": "SkypeFfComponent.dll",
          "function": "SkypeFfComponent.dll@0x81cc5",
          "file": "",
          "line": null,
          "raw": "3 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x81cc5"
        },
        {
          "frame_index": 4,
          "module": "SkypeFfComponent.dll",
          "function": "SkypeFfComponent.dll@0x82093",
          "file": "",
          "line": null,
          "raw": "4 \tSkypeFfComponent.dll \tSkypeFfComponent.dll@0x82093"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "NS_InvokeByIndex_P",
          "file": "xpcom/reflect/xptcall/src/md/win32/xptcinvoke.cpp",
          "line": 102,
          "raw": "5 \txul.dll \tNS_InvokeByIndex_P \txpcom/reflect/xptcall/src/md/win32/xptcinvoke.cpp:102"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "XPC_WN_CallMethod",
          "file": "js/xpconnect/src/XPCWrappedNativeJSOps.cpp",
          "line": 1542,
          "raw": "6 \txul.dll \tXPC_WN_CallMethod \tjs/xpconnect/src/XPCWrappedNativeJSOps.cpp:1542"
        },
        {
          "frame_index": 7,
          "module": "mozjs.dll",
          "function": "js::InvokeKernel",
          "file": "js/src/jsinterp.cpp",
          "line": 519,
          "raw": "7 \tmozjs.dll \tjs::InvokeKernel \tjs/src/jsinterp.cpp:519"
        },
        {
          "frame_index": 8,
          "module": "mozjs.dll",
          "function": "js::Interpret",
          "file": "js/src/jsinterp.cpp",
          "line": 2791,
          "raw": "8 \tmozjs.dll \tjs::Interpret \tjs/src/jsinterp.cpp:2791"
        },
        {
          "frame_index": 9,
          "module": "mozglue.dll",
          "function": "je_calloc",
          "file": "memory/jemalloc/jemalloc.c",
          "line": 6481,
          "raw": "9 \tmozglue.dll \tje_calloc \tmemory/jemalloc/jemalloc.c:6481"
        },
        {
          "frame_index": 10,
          "module": "mozjs.dll",
          "function": "js::RunScript",
          "file": "js/src/jsinterp.cpp",
          "line": 466,
          "raw": "10 \tmozjs.dll \tjs::RunScript \tjs/src/jsinterp.cpp:466"
        },
        {
          "frame_index": 11,
          "module": "mozjs.dll",
          "function": "js::ExecuteKernel",
          "file": "js/src/jsinterp.cpp",
          "line": 677,
          "raw": "11 \tmozjs.dll \tjs::ExecuteKernel \tjs/src/jsinterp.cpp:677"
        },
        {
          "frame_index": 12,
          "module": "mozjs.dll",
          "function": "js::Execute",
          "file": "js/src/jsinterp.cpp",
          "line": 718,
          "raw": "12 \tmozjs.dll \tjs::Execute \tjs/src/jsinterp.cpp:718"
        },
        {
          "frame_index": 13,
          "module": "mozjs.dll",
          "function": "JS_ExecuteScript",
          "file": "js/src/jsapi.cpp",
          "line": 5292,
          "raw": "13 \tmozjs.dll \tJS_ExecuteScript \tjs/src/jsapi.cpp:5292"
        },
        {
          "frame_index": 14,
          "module": "xul.dll",
          "function": "nsJSContext::ExecuteScript",
          "file": "dom/base/nsJSEnvironment.cpp",
          "line": 1658,
          "raw": "14 \txul.dll \tnsJSContext::ExecuteScript \tdom/base/nsJSEnvironment.cpp:1658"
        },
        {
          "frame_index": 15,
          "module": "xul.dll",
          "function": "nsXULDocument::ExecuteScript",
          "file": "content/xul/document/src/nsXULDocument.cpp",
          "line": 3614,
          "raw": "15 \txul.dll \tnsXULDocument::ExecuteScript \tcontent/xul/document/src/nsXULDocument.cpp:3614"
        },
        {
          "frame_index": 16,
          "module": "xul.dll",
          "function": "nsXULDocument::ExecuteScript",
          "file": "content/xul/document/src/nsXULDocument.cpp",
          "line": 3635,
          "raw": "16 \txul.dll \tnsXULDocument::ExecuteScript \tcontent/xul/document/src/nsXULDocument.cpp:3635"
        },
        {
          "frame_index": 17,
          "module": "xul.dll",
          "function": "nsXULDocument::OnStreamComplete",
          "file": "content/xul/document/src/nsXULDocument.cpp",
          "line": 3507,
          "raw": "17 \txul.dll \tnsXULDocument::OnStreamComplete \tcontent/xul/document/src/nsXULDocument.cpp:3507"
        },
        {
          "frame_index": 18,
          "module": "xul.dll",
          "function": "nsStreamLoader::OnStopRequest",
          "file": "netwerk/base/src/nsStreamLoader.cpp",
          "line": 127,
          "raw": "18 \txul.dll \tnsStreamLoader::OnStopRequest \tnetwerk/base/src/nsStreamLoader.cpp:127"
        },
        {
          "frame_index": 19,
          "module": "xul.dll",
          "function": "nsJARChannel::OnStopRequest",
          "file": "modules/libjar/nsJARChannel.cpp",
          "line": 924,
          "raw": "19 \txul.dll \tnsJARChannel::OnStopRequest \tmodules/libjar/nsJARChannel.cpp:924"
        },
        {
          "frame_index": 20,
          "module": "xul.dll",
          "function": "nsInputStreamPump::OnStateStop",
          "file": "netwerk/base/src/nsInputStreamPump.cpp",
          "line": 583,
          "raw": "20 \txul.dll \tnsInputStreamPump::OnStateStop \tnetwerk/base/src/nsInputStreamPump.cpp:583"
        },
        {
          "frame_index": 21,
          "module": "xul.dll",
          "function": "nsInputStreamPump::OnInputStreamReady",
          "file": "netwerk/base/src/nsInputStreamPump.cpp",
          "line": 405,
          "raw": "21 \txul.dll \tnsInputStreamPump::OnInputStreamReady \tnetwerk/base/src/nsInputStreamPump.cpp:405"
        },
        {
          "frame_index": 22,
          "module": "xul.dll",
          "function": "nsInputStreamReadyEvent::Run",
          "file": "xpcom/io/nsStreamUtils.cpp",
          "line": 114,
          "raw": "22 \txul.dll \tnsInputStreamReadyEvent::Run \txpcom/io/nsStreamUtils.cpp:114"
        },
        {
          "frame_index": 23,
          "module": "xul.dll",
          "function": "nsThread::ProcessNextEvent",
          "file": "xpcom/threads/nsThread.cpp",
          "line": 657,
          "raw": "23 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:657"
        }
      ],
      "frame_count": 24
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 24
}