{
  "bug_id": "903318",
  "summary": "crash in js::GCMarker::processMarkStackTop with Trusteer Rapport 3.5.1302.54",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Extension Compatibility",
  "version": "23 Branch",
  "severity": "critical",
  "priority": "--",
  "creation_time": "2013-08-09T07:49:59Z",
  "last_change_time": "2015-09-08T00:25:30Z",
  "is_recent": false,
  "crash_signature_raw": "[@ js::GCMarker::processMarkStackTop(js::SliceBudget&) ]\r\n[@ ScanString]\r\n[@ PushMarkStack ]\r\n[@ ScanRope]\r\n[@ JS_CallObjectTracer(JSTracer*, JSObject**, char const*)]\r\n[@ js::gc::Mark<JSAtom>]\r\n[@ js::gc::MarkObjectUnbarriered(JSTracer*, JSObject**, char const*) ]",
  "crash_signatures": [
    "js::GCMarker::processMarkStackTop(js::SliceBudget&)",
    "ScanString",
    "PushMarkStack",
    "ScanRope",
    "JS_CallObjectTracer(JSTracer*, JSObject**, char const*)",
    "js::gc::Mark<JSAtom>",
    "js::gc::MarkObjectUnbarriered(JSTracer*, JSObject**, char const*)"
  ],
  "keywords": [
    "crash",
    "topcrash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=903318",
  "socorro_links": [],
  "socorro_crash_ids": [],
  "has_socorro_link": false,
  "has_direct_crash_id": false,
  "stack_traces": [
    {
      "comment_id": 7730138,
      "comment_count": 0,
      "creator": "scoobidiver@netcourrier.com",
      "creation_time": "2013-08-09T07:49:59Z",
      "raw_text": "It's #1 top crasher in 23.0 on Mac OS X and high also on Windows.\n\nIt's correlated to Trusteer Rapport:\n  ScanString|EXC_BAD_ACCESS / KERN_INVALID_ADDRESS (49 crashes)\n    100% (49/49) vs.  29% (150/516) RapportUtil1.dylib\n          0% (0/49) vs.   0% (2/516) 47F9CFFD6AB82F553226A75451F21AA30\n        100% (49/49) vs.  29% (148/516) E4135EF512708F57E5B034D5F2DAD2F70\n  js::GCMarker::processMarkStackTop(js::SliceBudget&)|EXC_BAD_ACCESS / KERN_INVALID_ADDRESS (27 crashes)\n     93% (27/29) vs.  29% (150/516) RapportUtil1.dylib\n          0% (0/29) vs.   0% (2/516) 47F9CFFD6AB82F553226A75451F21AA30\n         93% (27/29) vs.  29% (148/516) E4135EF512708F57E5B034D5F2DAD2F70\n  js::GCMarker::processMarkStackTop(js::SliceBudget&)|EXCEPTION_ACCESS_VIOLATION_READ (1952 crashes)\n     20% (385/1952) vs.   3% (1318/52197) RapportUtil.dll\n         17% (327/1952) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/1952) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/1952) vs.   0% (1/52197) 3.5.1209.30\n          0% (2/1952) vs.   0% (4/52197) 3.5.1302.51\n          3% (56/1952) vs.   0% (127/52197) 3.5.1302.54\n  ScanRope|EXCEPTION_ACCESS_VIOLATION_READ (535 crashes)\n     48% (258/535) vs.   3% (1318/52197) RapportUtil.dll\n         45% (242/535) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/535) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/535) vs.   0% (1/52197) 3.5.1209.30\n          0% (1/535) vs.   0% (4/52197) 3.5.1302.51\n          3% (15/535) vs.   0% (127/52197) 3.5.1302.54\n  js::GCMarker::processMarkStackTop(js::SliceBudget&)|EXCEPTION_ACCESS_VIOLATION_WRITE (456 crashes)\n     42% (190/456) vs.   3% (1318/52197) RapportUtil.dll\n         38% (173/456) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/456) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/456) vs.   0% (1/52197) 3.5.1209.30\n          0% (0/456) vs.   0% (4/52197) 3.5.1302.51\n          4% (17/456) vs.   0% (127/52197) 3.5.1302.54\n  JS_CallObjectTracer(JSTracer*, JSObject**, char const*)|EXCEPTION_ACCESS_VIOLATION_READ (203 crashes)\n     55% (112/203) vs.   3% (1318/52197) RapportUtil.dll\n         51% (104/203) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/203) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/203) vs.   0% (1/52197) 3.5.1209.30\n          0% (0/203) vs.   0% (4/52197) 3.5.1302.51\n          4% (8/203) vs.   0% (127/52197) 3.5.1302.54\n  js::GCMarker::processMarkStackTop(js::SliceBudget&)|EXCEPTION_ACCESS_VIOLATION_EXEC (115 crashes)\n     58% (67/115) vs.   3% (1318/52197) RapportUtil.dll\n         55% (63/115) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/115) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/115) vs.   0% (1/52197) 3.5.1209.30\n          0% (0/115) vs.   0% (4/52197) 3.5.1302.51\n          3% (4/115) vs.   0% (127/52197) 3.5.1302.54\n  js::gc::Mark<JSAtom>|EXCEPTION_ACCESS_VIOLATION_READ (84 crashes)\n     19% (16/84) vs.   3% (1318/52197) RapportUtil.dll\n         18% (15/84) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/84) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/84) vs.   0% (1/52197) 3.5.1209.30\n          0% (0/84) vs.   0% (4/52197) 3.5.1302.51\n          1% (1/84) vs.   0% (127/52197) 3.5.1302.54\n  ScanRope|EXCEPTION_ACCESS_VIOLATION_WRITE (78 crashes)\n     69% (54/78) vs.   3% (1318/52197) RapportUtil.dll\n         60% (47/78) vs.   2% (1185/52197) 3.5.1208.44\n          0% (0/78) vs.   0% (1/52197) 3.5.1208.50\n          0% (0/78) vs.   0% (1/52197) 3.5.1209.30\n          0% (0/78) vs.   0% (4/52197) 3.5.1302.51\n          9% (7/78) vs.   0% (127/52197) 3.5.1302.54\n\nSignature \tjs::GCMarker::processMarkStackTop(js::SliceBudget&) More Reports Search\nUUID \tf9e3e5a8-bf05-4810-9ec6-0e51d2130808\nDate Processed\t2013-08-08 11:38:14.146284\nUptime\t38635\nLast Crash\t38654 seconds before submission\nInstall Age \t151848 since version was first installed.\nInstall Time \t2013-08-06 17:26:36\nProduct \tFirefox\nVersion \t23.0\nBuild ID \t20130730113002\nRelease Channel \trelease\nOS \tMac OS X\nOS Version \t10.6.8 10K549\nBuild Architecture \tamd64\nBuild Architecture Info \tfamily 6 model 26 stepping 5 | 8\nCrash Reason \tEXC_BAD_ACCESS / KERN_INVALID_ADDRESS\nCrash Address \t0x20000075\nUser Comments \tWhy did I update?\nApp Notes \t\nAdapterVendorID: 0x1002, AdapterDeviceID: 0x68b8GL Layers? GL Context? GL Context+ GL Layers+ \n\nFrame \tModule \tSignature \tSource\n0 \t\t@0x20120000075 \t\n1 \tXUL \tjs::GCMarker::processMarkStackTop(js::SliceBudget&) \tjs/src/gc/Marking.cpp\n2 \tXUL \tjs::GCMarker::drainMarkStack(js::SliceBudget&) \tjs/src/gc/Marking.cpp\n3 \tXUL \tIncrementalCollectSlice \tjs/src/jsgc.cpp\n4 \tXUL \tGCCycle \tjs/src/jsgc.cpp\n5 \tXUL \tCollect \tjs/src/jsgc.cpp\n6 \tXUL \tnsJSContext::GarbageCollectNow(JS::gcreason::Reason, nsJSContext::IsIncremental, nsJSContext::IsCompartment, nsJSContext::IsShrinking, long long) \tdom/base/nsJSEnvironment.cpp\n7 \tXUL \tnsTimerImpl::Fire() \txpcom/threads/nsTimerImpl.cpp\n8 \tXUL \tnsTimerEvent::Run() \txpcom/threads/nsTimerImpl.cpp\n9 \tXUL \tnsThread::ProcessNextEvent(bool, bool*) \txpcom/threads/nsThread.cpp\n10 \tXUL \tNS_ProcessPendingEvents(nsIThread*, unsigned int) \tobj-firefox/x86_64/xpcom/build/nsThreadUtils.cpp\n11 \tXUL \tnsBaseAppShell::NativeEventCallback() \twidget/xpwidgets/nsBaseAppShell.cpp\n12 \tXUL \tnsAppShell::ProcessGeckoEvents(void*) \twidget/cocoa/nsAppShell.mm\n13 \tCoreFoundation \t__CFRunLoopDoSources0 \t\n14 \tCoreFoundation \t__CFRunLoopRun \t\n15 \tCoreFoundation \tCFRunLoopRunSpecific \t\n16 \tHIToolbox \tHIToolbox@0x2e7ee \t\n17 \tHIToolbox \tHIToolbox@0x2e5f3 \t\n18 \tHIToolbox \tHIToolbox@0x2e4ac \t\n19 \tAppKit \t_DPSNextEvent \t\n20 \tAppKit \t-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] \t\n21 \tXUL \t-[GeckoNSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] \twidget/cocoa/nsAppShell.mm\n22 \tAppKit \t-[NSApplication run] \t\n23 \tXUL \tnsAppShell::Run() \twidget/cocoa/nsAppShell.mm\n24 \tXUL \tnsAppStartup::Run() \ttoolkit/components/startup/nsAppStartup.cpp\n25 \tXUL \tXREMain::XRE_mainRun() \ttoolkit/xre/nsAppRunner.cpp\n26 \tXUL \tXREMain::XRE_main(int, char**, nsXREAppData const*) \ttoolkit/xre/nsAppRunner.cpp\n27 \tXUL \tXRE_main \ttoolkit/xre/nsAppRunner.cpp\n28 \tfirefox \tmain \tbrowser/app/nsBrowserApp.cpp\n29 \tfirefox \tstart \t\n30 \tRapportUtil1.dylib \tRapportUtil1.dylib@0x1a5ab4 \t\n31 \tRapportUtil1.dylib \tRapportUtil1.dylib@0x1a3f0e \t\n\nMore reports at:\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=js%3A%3AGCMarker%3A%3AprocessMarkStackTop%28js%3A%3ASliceBudget%26%29\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=ScanString\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=PushMarkStack\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=ScanRope\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=JS_CallObjectTracer%28JSTracer*%2C+JSObject**%2C+char+const*%29\nhttps://crash-stats.mozilla.com/report/list?product=Firefox&signature=js%3A%3Agc%3A%3AMark%3CJSAtom%3E",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+"
      ],
      "parsed_frames": [
        {
          "frame_index": 30,
          "module": "RapportUtil1.dylib",
          "function": "RapportUtil1.dylib@0x1a5ab4",
          "file": "",
          "line": null,
          "raw": "30 \tRapportUtil1.dylib \tRapportUtil1.dylib@0x1a5ab4"
        },
        {
          "frame_index": 31,
          "module": "RapportUtil1.dylib",
          "function": "RapportUtil1.dylib@0x1a3f0e",
          "file": "",
          "line": null,
          "raw": "31 \tRapportUtil1.dylib \tRapportUtil1.dylib@0x1a3f0e"
        }
      ],
      "frame_count": 2
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 2
}