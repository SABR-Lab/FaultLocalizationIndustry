{
  "bug_id": "1988694",
  "summary": "Crash in [@ mozilla::Maybe<T>::operator-> | js::ArrayBufferObject::maxByteLengthGetterImpl]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "JavaScript: WebAssembly",
  "version": "unspecified",
  "severity": "S3",
  "priority": "P1",
  "creation_time": "2025-09-16T08:38:44Z",
  "last_change_time": "2025-10-15T11:56:25Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::Maybe<T>::operator-> | js::ArrayBufferObject::maxByteLengthGetterImpl]\r\n[@ js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)]",
  "crash_signatures": [
    "mozilla::Maybe<T>::operator-> | js::ArrayBufferObject::maxByteLengthGetterImpl",
    "js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1969509
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1988694",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/47908a03-95ce-4009-858c-999490250916",
      "crash_id": "47908a03-95ce-4009-858c-999490250916",
      "comment_index": 0,
      "comment_text": "22 crashes from 10 installs of Firefox 145.0a1, many in the first minute after launch. The change will be reverted in the next Nightly.\n\nCrash report: https://crash-stats.mozilla.org/report/index/47908a03-95ce-4009-858c-999490250916\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(isSome())\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::Maybe<js::wasm::Pages>::operator->()  mfbt/Maybe.h:954\n0  xul.dll  js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)  js/src/vm/ArrayBufferObject.cpp:553\n1  xul.dll  JS::CallNonGenericMethod(JSContext*, JS::CallArgs const&)  js/public/CallNonGenericMethod.h:103\n1  xul.dll  js::ArrayBufferObject::maxByteLengthGetter(JSContext*, unsigned int, JS::Value*)  js/src/vm/ArrayBufferObject.cpp:580\n2  xul.dll  CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::...  js/src/vm/Interpreter.cpp:501\n2  xul.dll  js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstru...  js/src/vm/Interpreter.cpp:597\n2  xul.dll  InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)  js/src/vm/Interpreter.cpp:664\n2  xul.dll  js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInv...  js/src/vm/Interpreter.cpp:696\n2  xul.dll  js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::...  js/src/vm/Interpreter.cpp:818\n2  xul.dll  CallGetter(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, ...  js/src/vm/NativeObject.cpp:2141\n```"
    }
  ],
  "socorro_crash_ids": [
    "47908a03-95ce-4009-858c-999490250916"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17672683,
      "comment_count": 0,
      "creator": "aryx.bugmail@gmx-topmail.de",
      "creation_time": "2025-09-16T08:38:44Z",
      "raw_text": "22 crashes from 10 installs of Firefox 145.0a1, many in the first minute after launch. The change will be reverted in the next Nightly.\n\nCrash report: https://crash-stats.mozilla.org/report/index/47908a03-95ce-4009-858c-999490250916\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(isSome())\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::Maybe<js::wasm::Pages>::operator->()  mfbt/Maybe.h:954\n0  xul.dll  js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)  js/src/vm/ArrayBufferObject.cpp:553\n1  xul.dll  JS::CallNonGenericMethod(JSContext*, JS::CallArgs const&)  js/public/CallNonGenericMethod.h:103\n1  xul.dll  js::ArrayBufferObject::maxByteLengthGetter(JSContext*, unsigned int, JS::Value*)  js/src/vm/ArrayBufferObject.cpp:580\n2  xul.dll  CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::...  js/src/vm/Interpreter.cpp:501\n2  xul.dll  js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstru...  js/src/vm/Interpreter.cpp:597\n2  xul.dll  InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)  js/src/vm/Interpreter.cpp:664\n2  xul.dll  js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInv...  js/src/vm/Interpreter.cpp:696\n2  xul.dll  js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::...  js/src/vm/Interpreter.cpp:818\n2  xul.dll  CallGetter(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, ...  js/src/vm/NativeObject.cpp:2141\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::Maybe<js::wasm::Pages>::operator->()",
          "file": "mfbt/Maybe.h",
          "line": 954,
          "raw": "0  xul.dll  mozilla::Maybe<js::wasm::Pages>::operator->()  mfbt/Maybe.h:954"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)",
          "file": "js/src/vm/ArrayBufferObject.cpp",
          "line": 553,
          "raw": "0  xul.dll  js::ArrayBufferObject::maxByteLengthGetterImpl(JSContext*, JS::CallArgs const&)  js/src/vm/ArrayBufferObject.cpp:553"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "JS::CallNonGenericMethod(JSContext*, JS::CallArgs const&)",
          "file": "js/public/CallNonGenericMethod.h",
          "line": 103,
          "raw": "1  xul.dll  JS::CallNonGenericMethod(JSContext*, JS::CallArgs const&)  js/public/CallNonGenericMethod.h:103"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "js::ArrayBufferObject::maxByteLengthGetter(JSContext*, unsigned int, JS::Value*)",
          "file": "js/src/vm/ArrayBufferObject.cpp",
          "line": 580,
          "raw": "1  xul.dll  js::ArrayBufferObject::maxByteLengthGetter(JSContext*, unsigned int, JS::Value*)  js/src/vm/ArrayBufferObject.cpp:580"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::...",
          "file": "js/src/vm/Interpreter.cpp",
          "line": 501,
          "raw": "2  xul.dll  CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::...  js/src/vm/Interpreter.cpp:501"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstru...",
          "file": "js/src/vm/Interpreter.cpp",
          "line": 597,
          "raw": "2  xul.dll  js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstru...  js/src/vm/Interpreter.cpp:597"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
          "file": "js/src/vm/Interpreter.cpp",
          "line": 664,
          "raw": "2  xul.dll  InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)  js/src/vm/Interpreter.cpp:664"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInv...",
          "file": "js/src/vm/Interpreter.cpp",
          "line": 696,
          "raw": "2  xul.dll  js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInv...  js/src/vm/Interpreter.cpp:696"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::...",
          "file": "js/src/vm/Interpreter.cpp",
          "line": 818,
          "raw": "2  xul.dll  js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::...  js/src/vm/Interpreter.cpp:818"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "CallGetter(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, ...",
          "file": "js/src/vm/NativeObject.cpp",
          "line": 2141,
          "raw": "2  xul.dll  CallGetter(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, ...  js/src/vm/NativeObject.cpp:2141"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}