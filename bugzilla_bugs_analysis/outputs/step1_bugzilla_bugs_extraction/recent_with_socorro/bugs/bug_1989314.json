{
  "bug_id": "1989314",
  "summary": "Crash in [@ mozilla::SystemTimeConverter<T>::IsTimeNewerThanTimestamp]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Widget: Win32",
  "version": "unspecified",
  "severity": "S2",
  "priority": "--",
  "creation_time": "2025-09-18T14:17:25Z",
  "last_change_time": "2025-10-23T12:48:15Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::SystemTimeConverter<T>::IsTimeNewerThanTimestamp ]",
  "crash_signatures": [
    "mozilla::SystemTimeConverter<T>::IsTimeNewerThanTimestamp"
  ],
  "keywords": [
    "crash",
    "regression",
    "topcrash",
    "topcrash-startup"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1989314",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/a859b578-2e17-4cb1-bbef-ce66f0250703",
      "crash_id": "a859b578-2e17-4cb1-bbef-ce66f0250703",
      "comment_index": 0,
      "comment_text": "Medium-High level crash frequency for Firefox starting with version 142.\n\nCrash report: https://crash-stats.mozilla.org/report/index/a859b578-2e17-4cb1-bbef-ce66f0250703\n\nMOZ_CRASH Reason:\n```\nFailed to compute the new timestamp, aTime: 84204649, timeDelta: 0, wholeMillis: -4294967296, timeToTimeStamp: 4294967293\n```\n\nTop 10 frames:\n```\n0  libxul.so  MOZ_CrashSequence(void*, long)  mfbt/Assertions.h:248\n0  libxul.so  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381\n0  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::IsTimeNewerTh...  widget/SystemTimeConverter.h:220\n1  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::GetTimeStampF...  widget/SystemTimeConverter.h:91\n1  libxul.so  nsWindow::GetEventTimeStamp(unsigned int)  widget/gtk/nsWindow.cpp:5127\n2  libxul.so  nsWindow::GetWidgetEventTime(unsigned int)  widget/gtk/nsWindow.cpp:5095\n2  libxul.so  nsWindow::OnEnterNotifyEvent(_GdkEventCrossing*)  widget/gtk/nsWindow.cpp:4264\n2  libxul.so  enter_notify_event_cb(_GtkWidget*, _GdkEventCrossing*)  widget/gtk/nsWindow.cpp:8148\n3  libgtk-3.so.0  _gtk_marshal_BOOLEAN__BOXEDv  debian/build/deb/gtk/gtkmarshalers.c:130\n4  libgobject-2.0.so.0  _g_closure_invoke_va  gobject/gclosure.c:895\n```\n\n2 of these on recent Nightlies. Canova, it looks like you added this, so I'll ni you in case this is useful."
    }
  ],
  "socorro_crash_ids": [
    "a859b578-2e17-4cb1-bbef-ce66f0250703"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17676344,
      "comment_count": 0,
      "creator": "aryx.bugmail@gmx-topmail.de",
      "creation_time": "2025-09-18T14:17:25Z",
      "raw_text": "Medium-High level crash frequency for Firefox starting with version 142.\n\nCrash report: https://crash-stats.mozilla.org/report/index/a859b578-2e17-4cb1-bbef-ce66f0250703\n\nMOZ_CRASH Reason:\n```\nFailed to compute the new timestamp, aTime: 84204649, timeDelta: 0, wholeMillis: -4294967296, timeToTimeStamp: 4294967293\n```\n\nTop 10 frames:\n```\n0  libxul.so  MOZ_CrashSequence(void*, long)  mfbt/Assertions.h:248\n0  libxul.so  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381\n0  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::IsTimeNewerTh...  widget/SystemTimeConverter.h:220\n1  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::GetTimeStampF...  widget/SystemTimeConverter.h:91\n1  libxul.so  nsWindow::GetEventTimeStamp(unsigned int)  widget/gtk/nsWindow.cpp:5127\n2  libxul.so  nsWindow::GetWidgetEventTime(unsigned int)  widget/gtk/nsWindow.cpp:5095\n2  libxul.so  nsWindow::OnEnterNotifyEvent(_GdkEventCrossing*)  widget/gtk/nsWindow.cpp:4264\n2  libxul.so  enter_notify_event_cb(_GtkWidget*, _GdkEventCrossing*)  widget/gtk/nsWindow.cpp:8148\n3  libgtk-3.so.0  _gtk_marshal_BOOLEAN__BOXEDv  debian/build/deb/gtk/gtkmarshalers.c:130\n4  libgobject-2.0.so.0  _g_closure_invoke_va  gobject/gclosure.c:895\n```\n\n2 of these on recent Nightlies. Canova, it looks like you added this, so I'll ni you in case this is useful.",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "MOZ_CrashSequence(void*, long)",
          "file": "mfbt/Assertions.h",
          "line": 248,
          "raw": "0  libxul.so  MOZ_CrashSequence(void*, long)  mfbt/Assertions.h:248"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "MOZ_Crash(char const*, int, char const*)",
          "file": "mfbt/Assertions.h",
          "line": 381,
          "raw": "0  libxul.so  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::IsTimeNewerTh...",
          "file": "widget/SystemTimeConverter.h",
          "line": 220,
          "raw": "0  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::IsTimeNewerTh...  widget/SystemTimeConverter.h:220"
        },
        {
          "frame_index": 1,
          "module": "libxul.so",
          "function": "mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::GetTimeStampF...",
          "file": "widget/SystemTimeConverter.h",
          "line": 91,
          "raw": "1  libxul.so  mozilla::SystemTimeConverter<unsigned int, mozilla::TimeStamp>::GetTimeStampF...  widget/SystemTimeConverter.h:91"
        },
        {
          "frame_index": 1,
          "module": "libxul.so",
          "function": "nsWindow::GetEventTimeStamp(unsigned int)",
          "file": "widget/gtk/nsWindow.cpp",
          "line": 5127,
          "raw": "1  libxul.so  nsWindow::GetEventTimeStamp(unsigned int)  widget/gtk/nsWindow.cpp:5127"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "nsWindow::GetWidgetEventTime(unsigned int)",
          "file": "widget/gtk/nsWindow.cpp",
          "line": 5095,
          "raw": "2  libxul.so  nsWindow::GetWidgetEventTime(unsigned int)  widget/gtk/nsWindow.cpp:5095"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "nsWindow::OnEnterNotifyEvent(_GdkEventCrossing*)",
          "file": "widget/gtk/nsWindow.cpp",
          "line": 4264,
          "raw": "2  libxul.so  nsWindow::OnEnterNotifyEvent(_GdkEventCrossing*)  widget/gtk/nsWindow.cpp:4264"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "enter_notify_event_cb(_GtkWidget*, _GdkEventCrossing*)",
          "file": "widget/gtk/nsWindow.cpp",
          "line": 8148,
          "raw": "2  libxul.so  enter_notify_event_cb(_GtkWidget*, _GdkEventCrossing*)  widget/gtk/nsWindow.cpp:8148"
        }
      ],
      "frame_count": 8
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 8
}