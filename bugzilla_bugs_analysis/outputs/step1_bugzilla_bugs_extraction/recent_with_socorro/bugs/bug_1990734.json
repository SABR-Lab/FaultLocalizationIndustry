{
  "bug_id": "1990734",
  "summary": "Block AFont API for HONOR device",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Layout: Text and Fonts",
  "version": "unspecified",
  "severity": "--",
  "priority": "--",
  "creation_time": "2025-09-25T05:53:44Z",
  "last_change_time": "2025-10-01T23:34:05Z",
  "is_recent": true,
  "crash_signature_raw": "[@ libc.so | libc++.so]\r\n[@ mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator ]",
  "crash_signatures": [
    "libc.so | libc++.so",
    "mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1990734",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/49400981-7905-45b0-beba-4ba2b0250925",
      "crash_id": "49400981-7905-45b0-beba-4ba2b0250925",
      "comment_index": 0,
      "comment_text": "As long as I look crash data, HONOR devices crash when using AFont API. We are blocking this API for OPPO etc by bug 1787551. So it is better to block HONOR too.\n\n\nCrash report: https://crash-stats.mozilla.org/report/index/49400981-7905-45b0-beba-4ba2b0250925\n\nReason:\n```\nSIGABRT / SI_QUEUE\n```\n\nTop 10 frames:\n```\n0  libc.so  libc.so@0x8c630\n1  libc.so  libc.so@0x8e2d8\n2  libc.so  libc.so@0xf2234\n3  libc.so  libc.so@0xf20c4\n4  libc++.so  libc++.so@0x95974\n5  libminikin.so  libminikin.so@0x180d4\n6  libandroid.so  libandroid.so@0x20428\n7  libandroid.so  libandroid.so@0x1e870\n8  libandroid.so  libandroid.so@0x1e70c\n9  libxul.so  mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator()  gfx/thebes/AndroidSystemFontIterator.cpp:19\n```"
    }
  ],
  "socorro_crash_ids": [
    "49400981-7905-45b0-beba-4ba2b0250925"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17687031,
      "comment_count": 0,
      "creator": "m_kato@ga2.so-net.ne.jp",
      "creation_time": "2025-09-25T05:53:44Z",
      "raw_text": "As long as I look crash data, HONOR devices crash when using AFont API. We are blocking this API for OPPO etc by bug 1787551. So it is better to block HONOR too.\n\n\nCrash report: https://crash-stats.mozilla.org/report/index/49400981-7905-45b0-beba-4ba2b0250925\n\nReason:\n```\nSIGABRT / SI_QUEUE\n```\n\nTop 10 frames:\n```\n0  libc.so  libc.so@0x8c630\n1  libc.so  libc.so@0x8e2d8\n2  libc.so  libc.so@0xf2234\n3  libc.so  libc.so@0xf20c4\n4  libc++.so  libc++.so@0x95974\n5  libminikin.so  libminikin.so@0x180d4\n6  libandroid.so  libandroid.so@0x20428\n7  libandroid.so  libandroid.so@0x1e870\n8  libandroid.so  libandroid.so@0x1e70c\n9  libxul.so  mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator()  gfx/thebes/AndroidSystemFontIterator.cpp:19\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "libc.so",
          "function": "libc.so@0x8c630",
          "file": "",
          "line": null,
          "raw": "0  libc.so  libc.so@0x8c630"
        },
        {
          "frame_index": 1,
          "module": "libc.so",
          "function": "libc.so@0x8e2d8",
          "file": "",
          "line": null,
          "raw": "1  libc.so  libc.so@0x8e2d8"
        },
        {
          "frame_index": 2,
          "module": "libc.so",
          "function": "libc.so@0xf2234",
          "file": "",
          "line": null,
          "raw": "2  libc.so  libc.so@0xf2234"
        },
        {
          "frame_index": 3,
          "module": "libc.so",
          "function": "libc.so@0xf20c4",
          "file": "",
          "line": null,
          "raw": "3  libc.so  libc.so@0xf20c4"
        },
        {
          "frame_index": 5,
          "module": "libminikin.so",
          "function": "libminikin.so@0x180d4",
          "file": "",
          "line": null,
          "raw": "5  libminikin.so  libminikin.so@0x180d4"
        },
        {
          "frame_index": 6,
          "module": "libandroid.so",
          "function": "libandroid.so@0x20428",
          "file": "",
          "line": null,
          "raw": "6  libandroid.so  libandroid.so@0x20428"
        },
        {
          "frame_index": 7,
          "module": "libandroid.so",
          "function": "libandroid.so@0x1e870",
          "file": "",
          "line": null,
          "raw": "7  libandroid.so  libandroid.so@0x1e870"
        },
        {
          "frame_index": 8,
          "module": "libandroid.so",
          "function": "libandroid.so@0x1e70c",
          "file": "",
          "line": null,
          "raw": "8  libandroid.so  libandroid.so@0x1e70c"
        },
        {
          "frame_index": 9,
          "module": "libxul.so",
          "function": "mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator()",
          "file": "gfx/thebes/AndroidSystemFontIterator.cpp",
          "line": 19,
          "raw": "9  libxul.so  mozilla::AndroidSystemFontIterator::AndroidSystemFontIterator()  gfx/thebes/AndroidSystemFontIterator.cpp:19"
        }
      ],
      "frame_count": 9
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 9
}