{
  "bug_id": "1992536",
  "summary": "Crash in [@ mozilla::net::CookieServiceParent::SetCookies]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "DOM: Networking",
  "version": "unspecified",
  "severity": "--",
  "priority": "--",
  "creation_time": "2025-10-04T00:41:01Z",
  "last_change_time": "2025-10-23T12:05:10Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::net::CookieServiceParent::SetCookies]",
  "crash_signatures": [
    "mozilla::net::CookieServiceParent::SetCookies"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1982261
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1992536",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/aafa2193-4d06-4cfb-8d44-ef6bb0250919",
      "crash_id": "aafa2193-4d06-4cfb-8d44-ef6bb0250919",
      "comment_index": 0,
      "comment_text": "\nCrash report: https://crash-stats.mozilla.org/report/index/aafa2193-4d06-4cfb-8d44-ef6bb0250919\n\n\n\nMOZ_CRASH Reason: ```MOZ_DIAGNOSTIC_ASSERT(error == nsICookieValidation::eOK)```\n\n\nTop 10 frames of crashing thread:\n```\n0  xul.dll  mozilla::net::CookieServiceParent::SetCookies  netwerk/cookie/CookieServiceParent.cpp:345\n1  xul.dll  mozilla::dom::WindowGlobalParent::RecvSetCookies  dom/ipc/WindowGlobalParent.cpp:1807\n2  xul.dll  mozilla::dom::PWindowGlobalParent::OnMessageReceived  ipc/ipdl/PWindowGlobalParent.cpp:2131\n3  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6523\n4  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1797\n4  xul.dll  mozilla::ipc::MessageChannel::DispatchMessage  ipc/glue/MessageChannel.cpp:1723\n4  xul.dll  mozilla::ipc::MessageChannel::RunMessage  ipc/glue/MessageChannel.cpp:1512\n5  xul.dll  mozilla::ipc::MessageChannel::MessageTask::Run  ipc/glue/MessageChannel.cpp:1614\n5  xul.dll  mozilla::RunnableTask::Run  xpcom/threads/TaskController.cpp:705\n5  xul.dll  mozilla::TaskController::RunTask  xpcom/threads/TaskController.cpp:196\n```\n\n\n\nBy querying Nightly crashes reported within the last 2 months, here are some insights about the signature:\n\n- **First crash report:** 2025-09-19\n- **Process type:** Parent\n- **Is startup crash:** No\n- **Has user comments:** No\n- **Is null crash:** Yes - 2 out of 5 crashes happened on null or near null memory address\n\n\n\n\n\n\nBy analyzing the backtrace, the regression may have been introduced by a patch [1] to fix Bug 1982261.\n\n[1] https://hg.mozilla.org/mozilla-central/rev?node=05d9c3f01472\n\n\n\n:baku, since you are the author of the potential regressor, could you please take a look?"
    }
  ],
  "socorro_crash_ids": [
    "aafa2193-4d06-4cfb-8d44-ef6bb0250919"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17701632,
      "comment_count": 0,
      "creator": "release-mgmt-account-bot@mozilla.tld",
      "creation_time": "2025-10-04T00:41:01Z",
      "raw_text": "\nCrash report: https://crash-stats.mozilla.org/report/index/aafa2193-4d06-4cfb-8d44-ef6bb0250919\n\n\n\nMOZ_CRASH Reason: ```MOZ_DIAGNOSTIC_ASSERT(error == nsICookieValidation::eOK)```\n\n\nTop 10 frames of crashing thread:\n```\n0  xul.dll  mozilla::net::CookieServiceParent::SetCookies  netwerk/cookie/CookieServiceParent.cpp:345\n1  xul.dll  mozilla::dom::WindowGlobalParent::RecvSetCookies  dom/ipc/WindowGlobalParent.cpp:1807\n2  xul.dll  mozilla::dom::PWindowGlobalParent::OnMessageReceived  ipc/ipdl/PWindowGlobalParent.cpp:2131\n3  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6523\n4  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1797\n4  xul.dll  mozilla::ipc::MessageChannel::DispatchMessage  ipc/glue/MessageChannel.cpp:1723\n4  xul.dll  mozilla::ipc::MessageChannel::RunMessage  ipc/glue/MessageChannel.cpp:1512\n5  xul.dll  mozilla::ipc::MessageChannel::MessageTask::Run  ipc/glue/MessageChannel.cpp:1614\n5  xul.dll  mozilla::RunnableTask::Run  xpcom/threads/TaskController.cpp:705\n5  xul.dll  mozilla::TaskController::RunTask  xpcom/threads/TaskController.cpp:196\n```\n\n\n\nBy querying Nightly crashes reported within the last 2 months, here are some insights about the signature:\n\n- **First crash report:** 2025-09-19\n- **Process type:** Parent\n- **Is startup crash:** No\n- **Has user comments:** No\n- **Is null crash:** Yes - 2 out of 5 crashes happened on null or near null memory address\n\n\n\n\n\n\nBy analyzing the backtrace, the regression may have been introduced by a patch [1] to fix Bug 1982261.\n\n[1] https://hg.mozilla.org/mozilla-central/rev?node=05d9c3f01472\n\n\n\n:baku, since you are the author of the potential regressor, could you please take a look?",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)",
        "(?i)crashing\\s+thread"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::net::CookieServiceParent::SetCookies",
          "file": "netwerk/cookie/CookieServiceParent.cpp",
          "line": 345,
          "raw": "0  xul.dll  mozilla::net::CookieServiceParent::SetCookies  netwerk/cookie/CookieServiceParent.cpp:345"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "mozilla::dom::WindowGlobalParent::RecvSetCookies",
          "file": "dom/ipc/WindowGlobalParent.cpp",
          "line": 1807,
          "raw": "1  xul.dll  mozilla::dom::WindowGlobalParent::RecvSetCookies  dom/ipc/WindowGlobalParent.cpp:1807"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::dom::PWindowGlobalParent::OnMessageReceived",
          "file": "ipc/ipdl/PWindowGlobalParent.cpp",
          "line": 2131,
          "raw": "2  xul.dll  mozilla::dom::PWindowGlobalParent::OnMessageReceived  ipc/ipdl/PWindowGlobalParent.cpp:2131"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::dom::PContentParent::OnMessageReceived",
          "file": "ipc/ipdl/PContentParent.cpp",
          "line": 6523,
          "raw": "3  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6523"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessageChannel::DispatchAsyncMessage",
          "file": "ipc/glue/MessageChannel.cpp",
          "line": 1797,
          "raw": "4  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1797"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessageChannel::DispatchMessage",
          "file": "ipc/glue/MessageChannel.cpp",
          "line": 1723,
          "raw": "4  xul.dll  mozilla::ipc::MessageChannel::DispatchMessage  ipc/glue/MessageChannel.cpp:1723"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessageChannel::RunMessage",
          "file": "ipc/glue/MessageChannel.cpp",
          "line": 1512,
          "raw": "4  xul.dll  mozilla::ipc::MessageChannel::RunMessage  ipc/glue/MessageChannel.cpp:1512"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessageChannel::MessageTask::Run",
          "file": "ipc/glue/MessageChannel.cpp",
          "line": 1614,
          "raw": "5  xul.dll  mozilla::ipc::MessageChannel::MessageTask::Run  ipc/glue/MessageChannel.cpp:1614"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::RunnableTask::Run",
          "file": "xpcom/threads/TaskController.cpp",
          "line": 705,
          "raw": "5  xul.dll  mozilla::RunnableTask::Run  xpcom/threads/TaskController.cpp:705"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::TaskController::RunTask",
          "file": "xpcom/threads/TaskController.cpp",
          "line": 196,
          "raw": "5  xul.dll  mozilla::TaskController::RunTask  xpcom/threads/TaskController.cpp:196"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}