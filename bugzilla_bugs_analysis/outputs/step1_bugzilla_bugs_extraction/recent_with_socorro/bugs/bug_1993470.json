{
  "bug_id": "1993470",
  "summary": "Crash in [@ mozilla::wr::DCSurfaceVideo::AttachExternalImage]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Graphics: WebRender",
  "version": "unspecified",
  "severity": "S3",
  "priority": "--",
  "creation_time": "2025-10-09T13:14:52Z",
  "last_change_time": "2025-11-13T07:59:14Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::wr::DCSurfaceVideo::AttachExternalImage]",
  "crash_signatures": [
    "mozilla::wr::DCSurfaceVideo::AttachExternalImage"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1993470",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/bea71c4e-c32b-4f1f-9e47-de6cc0251008",
      "crash_id": "bea71c4e-c32b-4f1f-9e47-de6cc0251008",
      "comment_index": 0,
      "comment_text": "Crash report: https://crash-stats.mozilla.org/report/index/bea71c4e-c32b-4f1f-9e47-de6cc0251008\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(texture)\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::wr::DCSurfaceVideo::AttachExternalImage(mozilla::wr::ExternalImageId)  gfx/webrender_bindings/DCLayerTree.cpp:1966\n1  xul.dll  webrender_bindings::bindings::impl$24::begin_frame(webrender_bindings::bindin...  gfx/webrender_bindings/src/bindings.rs:1748\n2  xul.dll  webrender::renderer::Renderer::composite_simple(webrender::composite::Composi...  gfx/wr/webrender/src/renderer/mod.rs:3953\n3  xul.dll  webrender::renderer::Renderer::composite_frame(webrender::frame_builder::Fram...  gfx/wr/webrender/src/renderer/mod.rs:5541\n3  xul.dll  webrender::renderer::Renderer::draw_frame(webrender::frame_builder::Frame*, e...  gfx/wr/webrender/src/renderer/mod.rs:5463\n4  xul.dll  webrender::renderer::Renderer::render_impl(webrender_api::DocumentId, webrend...  gfx/wr/webrender/src/renderer/mod.rs:1710\n5  xul.dll  webrender::renderer::Renderer::render(euclid::size::Size2D<i32, webrender_api...  gfx/wr/webrender/src/renderer/mod.rs:1399\n6  xul.dll  webrender_bindings::bindings::wr_renderer_render(webrender::renderer::Rendere...  gfx/webrender_bindings/src/bindings.rs:652\n7  xul.dll  mozilla::wr::RendererOGL::UpdateAndRender(mozilla::Maybe<mozilla::gfx::IntSiz...  gfx/webrender_bindings/RendererOGL.cpp:230\n7  xul.dll  mozilla::wr::RenderThread::UpdateAndRender(mozilla::wr::WrWindowId, mozilla::...  gfx/webrender_bindings/RenderThread.cpp:849\n```\n\nSeen in the crash spike report. There were a few crashes in 144 Nightly, then a gap of about 11 days, then 4 crashes in 145 Nightly around Sept 22 and 23, then it came back around October 4 and has been happening more steadily."
    }
  ],
  "socorro_crash_ids": [
    "bea71c4e-c32b-4f1f-9e47-de6cc0251008"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17709662,
      "comment_count": 0,
      "creator": "continuation@gmail.com",
      "creation_time": "2025-10-09T13:14:52Z",
      "raw_text": "Crash report: https://crash-stats.mozilla.org/report/index/bea71c4e-c32b-4f1f-9e47-de6cc0251008\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(texture)\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::wr::DCSurfaceVideo::AttachExternalImage(mozilla::wr::ExternalImageId)  gfx/webrender_bindings/DCLayerTree.cpp:1966\n1  xul.dll  webrender_bindings::bindings::impl$24::begin_frame(webrender_bindings::bindin...  gfx/webrender_bindings/src/bindings.rs:1748\n2  xul.dll  webrender::renderer::Renderer::composite_simple(webrender::composite::Composi...  gfx/wr/webrender/src/renderer/mod.rs:3953\n3  xul.dll  webrender::renderer::Renderer::composite_frame(webrender::frame_builder::Fram...  gfx/wr/webrender/src/renderer/mod.rs:5541\n3  xul.dll  webrender::renderer::Renderer::draw_frame(webrender::frame_builder::Frame*, e...  gfx/wr/webrender/src/renderer/mod.rs:5463\n4  xul.dll  webrender::renderer::Renderer::render_impl(webrender_api::DocumentId, webrend...  gfx/wr/webrender/src/renderer/mod.rs:1710\n5  xul.dll  webrender::renderer::Renderer::render(euclid::size::Size2D<i32, webrender_api...  gfx/wr/webrender/src/renderer/mod.rs:1399\n6  xul.dll  webrender_bindings::bindings::wr_renderer_render(webrender::renderer::Rendere...  gfx/webrender_bindings/src/bindings.rs:652\n7  xul.dll  mozilla::wr::RendererOGL::UpdateAndRender(mozilla::Maybe<mozilla::gfx::IntSiz...  gfx/webrender_bindings/RendererOGL.cpp:230\n7  xul.dll  mozilla::wr::RenderThread::UpdateAndRender(mozilla::wr::WrWindowId, mozilla::...  gfx/webrender_bindings/RenderThread.cpp:849\n```\n\nSeen in the crash spike report. There were a few crashes in 144 Nightly, then a gap of about 11 days, then 4 crashes in 145 Nightly around Sept 22 and 23, then it came back around October 4 and has been happening more steadily.",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::wr::DCSurfaceVideo::AttachExternalImage(mozilla::wr::ExternalImageId)",
          "file": "gfx/webrender_bindings/DCLayerTree.cpp",
          "line": 1966,
          "raw": "0  xul.dll  mozilla::wr::DCSurfaceVideo::AttachExternalImage(mozilla::wr::ExternalImageId)  gfx/webrender_bindings/DCLayerTree.cpp:1966"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "webrender_bindings::bindings::impl$24::begin_frame(webrender_bindings::bindin...",
          "file": "gfx/webrender_bindings/src/bindings.rs",
          "line": 1748,
          "raw": "1  xul.dll  webrender_bindings::bindings::impl$24::begin_frame(webrender_bindings::bindin...  gfx/webrender_bindings/src/bindings.rs:1748"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "webrender::renderer::Renderer::composite_simple(webrender::composite::Composi...",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 3953,
          "raw": "2  xul.dll  webrender::renderer::Renderer::composite_simple(webrender::composite::Composi...  gfx/wr/webrender/src/renderer/mod.rs:3953"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "webrender::renderer::Renderer::composite_frame(webrender::frame_builder::Fram...",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 5541,
          "raw": "3  xul.dll  webrender::renderer::Renderer::composite_frame(webrender::frame_builder::Fram...  gfx/wr/webrender/src/renderer/mod.rs:5541"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "webrender::renderer::Renderer::draw_frame(webrender::frame_builder::Frame*, e...",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 5463,
          "raw": "3  xul.dll  webrender::renderer::Renderer::draw_frame(webrender::frame_builder::Frame*, e...  gfx/wr/webrender/src/renderer/mod.rs:5463"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "webrender::renderer::Renderer::render_impl(webrender_api::DocumentId, webrend...",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 1710,
          "raw": "4  xul.dll  webrender::renderer::Renderer::render_impl(webrender_api::DocumentId, webrend...  gfx/wr/webrender/src/renderer/mod.rs:1710"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "webrender::renderer::Renderer::render(euclid::size::Size2D<i32, webrender_api...",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 1399,
          "raw": "5  xul.dll  webrender::renderer::Renderer::render(euclid::size::Size2D<i32, webrender_api...  gfx/wr/webrender/src/renderer/mod.rs:1399"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "webrender_bindings::bindings::wr_renderer_render(webrender::renderer::Rendere...",
          "file": "gfx/webrender_bindings/src/bindings.rs",
          "line": 652,
          "raw": "6  xul.dll  webrender_bindings::bindings::wr_renderer_render(webrender::renderer::Rendere...  gfx/webrender_bindings/src/bindings.rs:652"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "mozilla::wr::RendererOGL::UpdateAndRender(mozilla::Maybe<mozilla::gfx::IntSiz...",
          "file": "gfx/webrender_bindings/RendererOGL.cpp",
          "line": 230,
          "raw": "7  xul.dll  mozilla::wr::RendererOGL::UpdateAndRender(mozilla::Maybe<mozilla::gfx::IntSiz...  gfx/webrender_bindings/RendererOGL.cpp:230"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "mozilla::wr::RenderThread::UpdateAndRender(mozilla::wr::WrWindowId, mozilla::...",
          "file": "gfx/webrender_bindings/RenderThread.cpp",
          "line": 849,
          "raw": "7  xul.dll  mozilla::wr::RenderThread::UpdateAndRender(mozilla::wr::WrWindowId, mozilla::...  gfx/webrender_bindings/RenderThread.cpp:849"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}