{
  "bug_id": "1996880",
  "summary": "Crash in [@ mozilla::gfx::GPUProcessManager::EnsureGPUReady]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Graphics",
  "version": "unspecified",
  "severity": "S3",
  "priority": "--",
  "creation_time": "2025-10-28T16:44:35Z",
  "last_change_time": "2025-11-11T22:04:56Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::gfx::GPUProcessManager::EnsureGPUReady]",
  "crash_signatures": [
    "mozilla::gfx::GPUProcessManager::EnsureGPUReady"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [
    1997848
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1996880",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/b394f4b0-dd09-47e8-b988-c355f0251022",
      "crash_id": "b394f4b0-dd09-47e8-b988-c355f0251022",
      "comment_index": 0,
      "comment_text": "Crash report: https://crash-stats.mozilla.org/report/index/b394f4b0-dd09-47e8-b988-c355f0251022\n\nMOZ_CRASH Reason:\n```\nMOZ_DIAGNOSTIC_ASSERT(!gfxConfig::IsEnabled(Feature::GPU_PROCESS))\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::gfx::GPUProcessManager::EnsureGPUReady()  gfx/ipc/GPUProcessManager.cpp:464\n1  xul.dll  nsIWidget::CreateCompositorSession(int, int, mozilla::layers::CompositorOptio...  widget/nsIWidget.cpp:1488\n2  xul.dll  nsIWidget::CreateCompositor(int, int)  widget/nsIWidget.cpp:1598\n3  xul.dll  nsIWidget::CreateCompositor()  widget/nsIWidget.cpp:1048\n4  xul.dll  nsWindow::CreateCompositor()  widget/windows/nsWindowGfx.cpp:398\n5  xul.dll  nsWindow::GetWindowRenderer()  widget/windows/nsWindow.cpp:3821\n6  xul.dll  nsWindow::OnPaint()  widget/windows/nsWindowGfx.cpp:170\n7  xul.dll  nsWindow::ProcessMessageInternal(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:5106\n8  xul.dll  nsWindow::ProcessMessage(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:4748\n8  xul.dll  nsWindow::WindowProcInternal(HWND__*, unsigned int, unsigned int, long)  widget/windows/nsWindow.cpp:4700\n```"
    }
  ],
  "socorro_crash_ids": [
    "b394f4b0-dd09-47e8-b988-c355f0251022"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17737186,
      "comment_count": 0,
      "creator": "aosmond@mozilla.com",
      "creation_time": "2025-10-28T16:44:35Z",
      "raw_text": "Crash report: https://crash-stats.mozilla.org/report/index/b394f4b0-dd09-47e8-b988-c355f0251022\n\nMOZ_CRASH Reason:\n```\nMOZ_DIAGNOSTIC_ASSERT(!gfxConfig::IsEnabled(Feature::GPU_PROCESS))\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::gfx::GPUProcessManager::EnsureGPUReady()  gfx/ipc/GPUProcessManager.cpp:464\n1  xul.dll  nsIWidget::CreateCompositorSession(int, int, mozilla::layers::CompositorOptio...  widget/nsIWidget.cpp:1488\n2  xul.dll  nsIWidget::CreateCompositor(int, int)  widget/nsIWidget.cpp:1598\n3  xul.dll  nsIWidget::CreateCompositor()  widget/nsIWidget.cpp:1048\n4  xul.dll  nsWindow::CreateCompositor()  widget/windows/nsWindowGfx.cpp:398\n5  xul.dll  nsWindow::GetWindowRenderer()  widget/windows/nsWindow.cpp:3821\n6  xul.dll  nsWindow::OnPaint()  widget/windows/nsWindowGfx.cpp:170\n7  xul.dll  nsWindow::ProcessMessageInternal(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:5106\n8  xul.dll  nsWindow::ProcessMessage(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:4748\n8  xul.dll  nsWindow::WindowProcInternal(HWND__*, unsigned int, unsigned int, long)  widget/windows/nsWindow.cpp:4700\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::gfx::GPUProcessManager::EnsureGPUReady()",
          "file": "gfx/ipc/GPUProcessManager.cpp",
          "line": 464,
          "raw": "0  xul.dll  mozilla::gfx::GPUProcessManager::EnsureGPUReady()  gfx/ipc/GPUProcessManager.cpp:464"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "nsIWidget::CreateCompositorSession(int, int, mozilla::layers::CompositorOptio...",
          "file": "widget/nsIWidget.cpp",
          "line": 1488,
          "raw": "1  xul.dll  nsIWidget::CreateCompositorSession(int, int, mozilla::layers::CompositorOptio...  widget/nsIWidget.cpp:1488"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "nsIWidget::CreateCompositor(int, int)",
          "file": "widget/nsIWidget.cpp",
          "line": 1598,
          "raw": "2  xul.dll  nsIWidget::CreateCompositor(int, int)  widget/nsIWidget.cpp:1598"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "nsIWidget::CreateCompositor()",
          "file": "widget/nsIWidget.cpp",
          "line": 1048,
          "raw": "3  xul.dll  nsIWidget::CreateCompositor()  widget/nsIWidget.cpp:1048"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "nsWindow::CreateCompositor()",
          "file": "widget/windows/nsWindowGfx.cpp",
          "line": 398,
          "raw": "4  xul.dll  nsWindow::CreateCompositor()  widget/windows/nsWindowGfx.cpp:398"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "nsWindow::GetWindowRenderer()",
          "file": "widget/windows/nsWindow.cpp",
          "line": 3821,
          "raw": "5  xul.dll  nsWindow::GetWindowRenderer()  widget/windows/nsWindow.cpp:3821"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "nsWindow::OnPaint()",
          "file": "widget/windows/nsWindowGfx.cpp",
          "line": 170,
          "raw": "6  xul.dll  nsWindow::OnPaint()  widget/windows/nsWindowGfx.cpp:170"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "nsWindow::ProcessMessageInternal(unsigned int, unsigned int&, long&, long*)",
          "file": "widget/windows/nsWindow.cpp",
          "line": 5106,
          "raw": "7  xul.dll  nsWindow::ProcessMessageInternal(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:5106"
        },
        {
          "frame_index": 8,
          "module": "xul.dll",
          "function": "nsWindow::ProcessMessage(unsigned int, unsigned int&, long&, long*)",
          "file": "widget/windows/nsWindow.cpp",
          "line": 4748,
          "raw": "8  xul.dll  nsWindow::ProcessMessage(unsigned int, unsigned int&, long&, long*)  widget/windows/nsWindow.cpp:4748"
        },
        {
          "frame_index": 8,
          "module": "xul.dll",
          "function": "nsWindow::WindowProcInternal(HWND__*, unsigned int, unsigned int, long)",
          "file": "widget/windows/nsWindow.cpp",
          "line": 4700,
          "raw": "8  xul.dll  nsWindow::WindowProcInternal(HWND__*, unsigned int, unsigned int, long)  widget/windows/nsWindow.cpp:4700"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}