{
  "bug_id": "1998302",
  "summary": "Crash in [@ nsSHistory::FindAdjacentContiguousEntryFor]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "DOM: Navigation",
  "version": "unspecified",
  "severity": "S2",
  "priority": "--",
  "creation_time": "2025-11-05T00:41:07Z",
  "last_change_time": "2025-11-12T20:47:55Z",
  "is_recent": true,
  "crash_signature_raw": "[@ nsSHistory::FindAdjacentContiguousEntryFor]",
  "crash_signatures": [
    "nsSHistory::FindAdjacentContiguousEntryFor"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1996573
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1998302",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/7c7d1a8d-2e80-4f09-89c8-8e2cf0251103",
      "crash_id": "7c7d1a8d-2e80-4f09-89c8-8e2cf0251103",
      "comment_index": 0,
      "comment_text": "\nCrash report: https://crash-stats.mozilla.org/report/index/7c7d1a8d-2e80-4f09-89c8-8e2cf0251103\n\n\n\nReason: ```EXCEPTION_ACCESS_VIOLATION_READ```\n\n\nTop 10 frames of crashing thread:\n```\n0  xul.dll  nsSHistory::FindAdjacentContiguousEntryFor  docshell/shistory/nsSHistory.cpp:2478\n1  xul.dll  nsSHistory::ConstructContiguousEntryListFrom  docshell/shistory/nsSHistory.cpp:2511\n2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLoad  docshell/base/CanonicalBrowsingContext.cpp:651\n2  xul.dll  mozilla::net::DocumentLoadListener::Open  netwerk/ipc/DocumentLoadListener.cpp:856\n3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument  netwerk/ipc/DocumentLoadListener.cpp:1105\n4  xul.dll  mozilla::net::DocumentChannelParent::Init  netwerk/ipc/DocumentChannelParent.cpp:69\n4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor  netwerk/ipc/NeckoParent.cpp:269\n5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived  ipc/ipdl/PNeckoParent.cpp:1819\n6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6595\n7  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1794\n```\n\n\n\nBy querying Nightly crashes reported within the last 2 months, here are some insights about the signature:\n\n- **First crash report:** 2025-11-03\n- **Process type:** Parent\n- **Is startup crash:** No\n- **Has user comments:** No\n- **Is null crash:** Yes - all crashes happened on null or near null memory address\n\n\n\n\n\n\nBy analyzing the backtrace, the regression may have been introduced by a patch [1] to fix Bug 1996573.\n\n[1] https://hg.mozilla.org/mozilla-central/rev?node=529dd4176284\n\n\n\n:avandolder, since you are the author of the potential regressor, could you please take a look?"
    }
  ],
  "socorro_crash_ids": [
    "7c7d1a8d-2e80-4f09-89c8-8e2cf0251103"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17748727,
      "comment_count": 0,
      "creator": "release-mgmt-account-bot@mozilla.tld",
      "creation_time": "2025-11-05T00:41:07Z",
      "raw_text": "\nCrash report: https://crash-stats.mozilla.org/report/index/7c7d1a8d-2e80-4f09-89c8-8e2cf0251103\n\n\n\nReason: ```EXCEPTION_ACCESS_VIOLATION_READ```\n\n\nTop 10 frames of crashing thread:\n```\n0  xul.dll  nsSHistory::FindAdjacentContiguousEntryFor  docshell/shistory/nsSHistory.cpp:2478\n1  xul.dll  nsSHistory::ConstructContiguousEntryListFrom  docshell/shistory/nsSHistory.cpp:2511\n2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLoad  docshell/base/CanonicalBrowsingContext.cpp:651\n2  xul.dll  mozilla::net::DocumentLoadListener::Open  netwerk/ipc/DocumentLoadListener.cpp:856\n3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument  netwerk/ipc/DocumentLoadListener.cpp:1105\n4  xul.dll  mozilla::net::DocumentChannelParent::Init  netwerk/ipc/DocumentChannelParent.cpp:69\n4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor  netwerk/ipc/NeckoParent.cpp:269\n5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived  ipc/ipdl/PNeckoParent.cpp:1819\n6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6595\n7  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1794\n```\n\n\n\nBy querying Nightly crashes reported within the last 2 months, here are some insights about the signature:\n\n- **First crash report:** 2025-11-03\n- **Process type:** Parent\n- **Is startup crash:** No\n- **Has user comments:** No\n- **Is null crash:** Yes - all crashes happened on null or near null memory address\n\n\n\n\n\n\nBy analyzing the backtrace, the regression may have been introduced by a patch [1] to fix Bug 1996573.\n\n[1] https://hg.mozilla.org/mozilla-central/rev?node=529dd4176284\n\n\n\n:avandolder, since you are the author of the potential regressor, could you please take a look?",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)",
        "(?i)crashing\\s+thread"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsSHistory::FindAdjacentContiguousEntryFor",
          "file": "docshell/shistory/nsSHistory.cpp",
          "line": 2478,
          "raw": "0  xul.dll  nsSHistory::FindAdjacentContiguousEntryFor  docshell/shistory/nsSHistory.cpp:2478"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "nsSHistory::ConstructContiguousEntryListFrom",
          "file": "docshell/shistory/nsSHistory.cpp",
          "line": 2511,
          "raw": "1  xul.dll  nsSHistory::ConstructContiguousEntryListFrom  docshell/shistory/nsSHistory.cpp:2511"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLoad",
          "file": "docshell/base/CanonicalBrowsingContext.cpp",
          "line": 651,
          "raw": "2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLoad  docshell/base/CanonicalBrowsingContext.cpp:651"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentLoadListener::Open",
          "file": "netwerk/ipc/DocumentLoadListener.cpp",
          "line": 856,
          "raw": "2  xul.dll  mozilla::net::DocumentLoadListener::Open  netwerk/ipc/DocumentLoadListener.cpp:856"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentLoadListener::OpenDocument",
          "file": "netwerk/ipc/DocumentLoadListener.cpp",
          "line": 1105,
          "raw": "3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument  netwerk/ipc/DocumentLoadListener.cpp:1105"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentChannelParent::Init",
          "file": "netwerk/ipc/DocumentChannelParent.cpp",
          "line": 69,
          "raw": "4  xul.dll  mozilla::net::DocumentChannelParent::Init  netwerk/ipc/DocumentChannelParent.cpp:69"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::net::NeckoParent::RecvPDocumentChannelConstructor",
          "file": "netwerk/ipc/NeckoParent.cpp",
          "line": 269,
          "raw": "4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor  netwerk/ipc/NeckoParent.cpp:269"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::net::PNeckoParent::OnMessageReceived",
          "file": "ipc/ipdl/PNeckoParent.cpp",
          "line": 1819,
          "raw": "5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived  ipc/ipdl/PNeckoParent.cpp:1819"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "mozilla::dom::PContentParent::OnMessageReceived",
          "file": "ipc/ipdl/PContentParent.cpp",
          "line": 6595,
          "raw": "6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived  ipc/ipdl/PContentParent.cpp:6595"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "mozilla::ipc::MessageChannel::DispatchAsyncMessage",
          "file": "ipc/glue/MessageChannel.cpp",
          "line": 1794,
          "raw": "7  xul.dll  mozilla::ipc::MessageChannel::DispatchAsyncMessage  ipc/glue/MessageChannel.cpp:1794"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}