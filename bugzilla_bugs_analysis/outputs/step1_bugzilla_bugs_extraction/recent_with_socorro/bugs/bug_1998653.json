{
  "bug_id": "1998653",
  "summary": "Crash in [@ mozilla::LinkedListElement<T>::setPreviousUnsafe]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "DOM: Navigation",
  "version": "unspecified",
  "severity": "--",
  "priority": "--",
  "creation_time": "2025-11-06T10:59:20Z",
  "last_change_time": "2025-11-12T21:48:34Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::LinkedListElement<T>::setPreviousUnsafe]",
  "crash_signatures": [
    "mozilla::LinkedListElement<T>::setPreviousUnsafe"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1997823
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1998653",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/12f6fe20-4bde-45a9-aba4-803220251106",
      "crash_id": "12f6fe20-4bde-45a9-aba4-803220251106",
      "comment_index": 0,
      "comment_text": "83 crashes from 45 installs of Firefox 146.0a1 up to this point.\n\nCrash report: https://crash-stats.mozilla.org/report/index/12f6fe20-4bde-45a9-aba4-803220251106\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(!listElem->isInList())\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::LinkedListElement<mozilla::URLPreloader::URLEntry>::setPreviousUnsaf...  mfbt/LinkedList.h:333\n1  xul.dll  mozilla::LinkedList<mozilla::dom::SessionHistoryEntry>::insertBack(mozilla::d...  mfbt/LinkedList.h:525\n1  xul.dll  nsSHistory::ReconstructContiguousEntryListFrom(mozilla::dom::SessionHistoryEn...  docshell/shistory/nsSHistory.cpp:2516\n2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLo...  docshell/base/CanonicalBrowsingContext.cpp:655\n2  xul.dll  mozilla::net::DocumentLoadListener::Open(nsDocShellLoadState*, mozilla::net::...  netwerk/ipc/DocumentLoadListener.cpp:856\n3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument(nsDocShellLoadState*, unsign...  netwerk/ipc/DocumentLoadListener.cpp:1105\n4  xul.dll  mozilla::net::DocumentChannelParent::Init(mozilla::dom::CanonicalBrowsingCont...  netwerk/ipc/DocumentChannelParent.cpp:69\n4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor(mozilla::net::PDoc...  netwerk/ipc/NeckoParent.cpp:269\n5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PNeckoParent.cpp:1819\n6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PContentParent.cpp:6595\n```"
    }
  ],
  "socorro_crash_ids": [
    "12f6fe20-4bde-45a9-aba4-803220251106"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17751008,
      "comment_count": 0,
      "creator": "aryx.bugmail@gmx-topmail.de",
      "creation_time": "2025-11-06T10:59:20Z",
      "raw_text": "83 crashes from 45 installs of Firefox 146.0a1 up to this point.\n\nCrash report: https://crash-stats.mozilla.org/report/index/12f6fe20-4bde-45a9-aba4-803220251106\n\nMOZ_CRASH Reason:\n```\nMOZ_RELEASE_ASSERT(!listElem->isInList())\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::LinkedListElement<mozilla::URLPreloader::URLEntry>::setPreviousUnsaf...  mfbt/LinkedList.h:333\n1  xul.dll  mozilla::LinkedList<mozilla::dom::SessionHistoryEntry>::insertBack(mozilla::d...  mfbt/LinkedList.h:525\n1  xul.dll  nsSHistory::ReconstructContiguousEntryListFrom(mozilla::dom::SessionHistoryEn...  docshell/shistory/nsSHistory.cpp:2516\n2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLo...  docshell/base/CanonicalBrowsingContext.cpp:655\n2  xul.dll  mozilla::net::DocumentLoadListener::Open(nsDocShellLoadState*, mozilla::net::...  netwerk/ipc/DocumentLoadListener.cpp:856\n3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument(nsDocShellLoadState*, unsign...  netwerk/ipc/DocumentLoadListener.cpp:1105\n4  xul.dll  mozilla::net::DocumentChannelParent::Init(mozilla::dom::CanonicalBrowsingCont...  netwerk/ipc/DocumentChannelParent.cpp:69\n4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor(mozilla::net::PDoc...  netwerk/ipc/NeckoParent.cpp:269\n5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PNeckoParent.cpp:1819\n6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PContentParent.cpp:6595\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::LinkedListElement<mozilla::URLPreloader::URLEntry>::setPreviousUnsaf...",
          "file": "mfbt/LinkedList.h",
          "line": 333,
          "raw": "0  xul.dll  mozilla::LinkedListElement<mozilla::URLPreloader::URLEntry>::setPreviousUnsaf...  mfbt/LinkedList.h:333"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "mozilla::LinkedList<mozilla::dom::SessionHistoryEntry>::insertBack(mozilla::d...",
          "file": "mfbt/LinkedList.h",
          "line": 525,
          "raw": "1  xul.dll  mozilla::LinkedList<mozilla::dom::SessionHistoryEntry>::insertBack(mozilla::d...  mfbt/LinkedList.h:525"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "nsSHistory::ReconstructContiguousEntryListFrom(mozilla::dom::SessionHistoryEn...",
          "file": "docshell/shistory/nsSHistory.cpp",
          "line": 2516,
          "raw": "1  xul.dll  nsSHistory::ReconstructContiguousEntryListFrom(mozilla::dom::SessionHistoryEn...  docshell/shistory/nsSHistory.cpp:2516"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLo...",
          "file": "docshell/base/CanonicalBrowsingContext.cpp",
          "line": 655,
          "raw": "2  xul.dll  mozilla::dom::CanonicalBrowsingContext::CreateLoadingSessionHistoryEntryForLo...  docshell/base/CanonicalBrowsingContext.cpp:655"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentLoadListener::Open(nsDocShellLoadState*, mozilla::net::...",
          "file": "netwerk/ipc/DocumentLoadListener.cpp",
          "line": 856,
          "raw": "2  xul.dll  mozilla::net::DocumentLoadListener::Open(nsDocShellLoadState*, mozilla::net::...  netwerk/ipc/DocumentLoadListener.cpp:856"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentLoadListener::OpenDocument(nsDocShellLoadState*, unsign...",
          "file": "netwerk/ipc/DocumentLoadListener.cpp",
          "line": 1105,
          "raw": "3  xul.dll  mozilla::net::DocumentLoadListener::OpenDocument(nsDocShellLoadState*, unsign...  netwerk/ipc/DocumentLoadListener.cpp:1105"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::net::DocumentChannelParent::Init(mozilla::dom::CanonicalBrowsingCont...",
          "file": "netwerk/ipc/DocumentChannelParent.cpp",
          "line": 69,
          "raw": "4  xul.dll  mozilla::net::DocumentChannelParent::Init(mozilla::dom::CanonicalBrowsingCont...  netwerk/ipc/DocumentChannelParent.cpp:69"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::net::NeckoParent::RecvPDocumentChannelConstructor(mozilla::net::PDoc...",
          "file": "netwerk/ipc/NeckoParent.cpp",
          "line": 269,
          "raw": "4  xul.dll  mozilla::net::NeckoParent::RecvPDocumentChannelConstructor(mozilla::net::PDoc...  netwerk/ipc/NeckoParent.cpp:269"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::net::PNeckoParent::OnMessageReceived(IPC::Message const&)",
          "file": "ipc/ipdl/PNeckoParent.cpp",
          "line": 1819,
          "raw": "5  xul.dll  mozilla::net::PNeckoParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PNeckoParent.cpp:1819"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "mozilla::dom::PContentParent::OnMessageReceived(IPC::Message const&)",
          "file": "ipc/ipdl/PContentParent.cpp",
          "line": 6595,
          "raw": "6  xul.dll  mozilla::dom::PContentParent::OnMessageReceived(IPC::Message const&)  ipc/ipdl/PContentParent.cpp:6595"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}