{
  "bug_id": "1999640",
  "summary": "Crash in [@ mozilla::camera::AggregateCapturer::Create::<T>::operator()]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "WebRTC: Audio/Video",
  "version": "unspecified",
  "severity": "S2",
  "priority": "P1",
  "creation_time": "2025-11-12T09:36:25Z",
  "last_change_time": "2025-12-09T11:33:30Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::camera::AggregateCapturer::Create::<T>::operator()]",
  "crash_signatures": [
    "mozilla::camera::AggregateCapturer::Create::<T>::operator()"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1771789
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1999640",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/1260f4bd-064a-4ae9-9dbd-b03cb0251112",
      "crash_id": "1260f4bd-064a-4ae9-9dbd-b03cb0251112",
      "comment_index": 0,
      "comment_text": "4 crashes from 2 installs of the latest Nightly.\n\nCrash report: https://crash-stats.mozilla.org/report/index/1260f4bd-064a-4ae9-9dbd-b03cb0251112\n\nReason:\n```\nEXCEPTION_ACCESS_VIOLATION_READ\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::camera::AggregateCapturer::Create::<lambda_2>::operator()(mozilla::c...  dom/media/systemservices/CamerasParent.cpp:404\n0  xul.dll  std::invoke(mozilla::camera::AggregateCapturer::Create::<lambda_2>&, mozilla:...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits:1739\n0  xul.dll  std::_Func_impl_no_alloc<`lambda at /builds/worker/checkouts/gecko/dom/media/...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional:905\n1  xul.dll  mozilla::camera::AggregateCapturer::Create(nsISerialEventTarget*, mozilla::ca...  dom/media/systemservices/CamerasParent.cpp:403\n2  xul.dll  mozilla::camera::CamerasParent::GetOrCreateCapturer(mozilla::camera::CaptureE...  dom/media/systemservices/CamerasParent.cpp:1356\n3  xul.dll  mozilla::camera::CamerasParent::RecvAllocateCapture::<lambda_9>::operator()(m...  dom/media/systemservices/CamerasParent.cpp:1139\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeMethod(mozilla::camera::CamerasPare...  xpcom/threads/MozPromise.h:669\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeCallbackMethod(mozilla::camera::Cam...  xpcom/threads/MozPromise.h:681\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::ThenValue<`lambda at /builds/worker/check...  xpcom/threads/MozPromise.h:939\n4  xul.dll  mozilla::MozPromise<bool, bool, 0>::ThenValueBase::DoResolveOrReject(mozilla:...  xpcom/threads/MozPromise.h:638\n```"
    }
  ],
  "socorro_crash_ids": [
    "1260f4bd-064a-4ae9-9dbd-b03cb0251112"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17759228,
      "comment_count": 0,
      "creator": "aryx.bugmail@gmx-topmail.de",
      "creation_time": "2025-11-12T09:36:25Z",
      "raw_text": "4 crashes from 2 installs of the latest Nightly.\n\nCrash report: https://crash-stats.mozilla.org/report/index/1260f4bd-064a-4ae9-9dbd-b03cb0251112\n\nReason:\n```\nEXCEPTION_ACCESS_VIOLATION_READ\n```\n\nTop 10 frames:\n```\n0  xul.dll  mozilla::camera::AggregateCapturer::Create::<lambda_2>::operator()(mozilla::c...  dom/media/systemservices/CamerasParent.cpp:404\n0  xul.dll  std::invoke(mozilla::camera::AggregateCapturer::Create::<lambda_2>&, mozilla:...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits:1739\n0  xul.dll  std::_Func_impl_no_alloc<`lambda at /builds/worker/checkouts/gecko/dom/media/...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional:905\n1  xul.dll  mozilla::camera::AggregateCapturer::Create(nsISerialEventTarget*, mozilla::ca...  dom/media/systemservices/CamerasParent.cpp:403\n2  xul.dll  mozilla::camera::CamerasParent::GetOrCreateCapturer(mozilla::camera::CaptureE...  dom/media/systemservices/CamerasParent.cpp:1356\n3  xul.dll  mozilla::camera::CamerasParent::RecvAllocateCapture::<lambda_9>::operator()(m...  dom/media/systemservices/CamerasParent.cpp:1139\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeMethod(mozilla::camera::CamerasPare...  xpcom/threads/MozPromise.h:669\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeCallbackMethod(mozilla::camera::Cam...  xpcom/threads/MozPromise.h:681\n3  xul.dll  mozilla::MozPromise<bool, bool, 1>::ThenValue<`lambda at /builds/worker/check...  xpcom/threads/MozPromise.h:939\n4  xul.dll  mozilla::MozPromise<bool, bool, 0>::ThenValueBase::DoResolveOrReject(mozilla:...  xpcom/threads/MozPromise.h:638\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "mozilla::camera::AggregateCapturer::Create::<lambda_2>::operator()(mozilla::c...",
          "file": "dom/media/systemservices/CamerasParent.cpp",
          "line": 404,
          "raw": "0  xul.dll  mozilla::camera::AggregateCapturer::Create::<lambda_2>::operator()(mozilla::c...  dom/media/systemservices/CamerasParent.cpp:404"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "std::invoke(mozilla::camera::AggregateCapturer::Create::<lambda_2>&, mozilla:...",
          "file": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits",
          "line": 1739,
          "raw": "0  xul.dll  std::invoke(mozilla::camera::AggregateCapturer::Create::<lambda_2>&, mozilla:...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits:1739"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "std::_Func_impl_no_alloc<`lambda at /builds/worker/checkouts/gecko/dom/media/...",
          "file": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional",
          "line": 905,
          "raw": "0  xul.dll  std::_Func_impl_no_alloc<`lambda at /builds/worker/checkouts/gecko/dom/media/...  /builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional:905"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "mozilla::camera::AggregateCapturer::Create(nsISerialEventTarget*, mozilla::ca...",
          "file": "dom/media/systemservices/CamerasParent.cpp",
          "line": 403,
          "raw": "1  xul.dll  mozilla::camera::AggregateCapturer::Create(nsISerialEventTarget*, mozilla::ca...  dom/media/systemservices/CamerasParent.cpp:403"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::camera::CamerasParent::GetOrCreateCapturer(mozilla::camera::CaptureE...",
          "file": "dom/media/systemservices/CamerasParent.cpp",
          "line": 1356,
          "raw": "2  xul.dll  mozilla::camera::CamerasParent::GetOrCreateCapturer(mozilla::camera::CaptureE...  dom/media/systemservices/CamerasParent.cpp:1356"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::camera::CamerasParent::RecvAllocateCapture::<lambda_9>::operator()(m...",
          "file": "dom/media/systemservices/CamerasParent.cpp",
          "line": 1139,
          "raw": "3  xul.dll  mozilla::camera::CamerasParent::RecvAllocateCapture::<lambda_9>::operator()(m...  dom/media/systemservices/CamerasParent.cpp:1139"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<bool, bool, 1>::InvokeMethod(mozilla::camera::CamerasPare...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 669,
          "raw": "3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeMethod(mozilla::camera::CamerasPare...  xpcom/threads/MozPromise.h:669"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<bool, bool, 1>::InvokeCallbackMethod(mozilla::camera::Cam...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 681,
          "raw": "3  xul.dll  mozilla::MozPromise<bool, bool, 1>::InvokeCallbackMethod(mozilla::camera::Cam...  xpcom/threads/MozPromise.h:681"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<bool, bool, 1>::ThenValue<`lambda at /builds/worker/check...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 939,
          "raw": "3  xul.dll  mozilla::MozPromise<bool, bool, 1>::ThenValue<`lambda at /builds/worker/check...  xpcom/threads/MozPromise.h:939"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<bool, bool, 0>::ThenValueBase::DoResolveOrReject(mozilla:...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 638,
          "raw": "4  xul.dll  mozilla::MozPromise<bool, bool, 0>::ThenValueBase::DoResolveOrReject(mozilla:...  xpcom/threads/MozPromise.h:638"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}