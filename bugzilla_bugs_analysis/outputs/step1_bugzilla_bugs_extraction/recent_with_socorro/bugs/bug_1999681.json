{
  "bug_id": "1999681",
  "summary": "Crash in [@ libc.so | libGLES_mali.so] in glShaderSource on Mali-G57",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Graphics: WebRender",
  "version": "unspecified",
  "severity": "--",
  "priority": "--",
  "creation_time": "2025-11-12T13:32:49Z",
  "last_change_time": "2025-11-25T19:14:37Z",
  "is_recent": true,
  "crash_signature_raw": "[@ libc.so | libGLES_mali.so]",
  "crash_signatures": [
    "libc.so | libGLES_mali.so"
  ],
  "keywords": [
    "crash"
  ],
  "regressed_by": [],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1999681",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/f31ae1ae-cf2f-4b91-92b9-a8a2b0251112",
      "crash_id": "f31ae1ae-cf2f-4b91-92b9-a8a2b0251112",
      "comment_index": 0,
      "comment_text": "Crash report: https://crash-stats.mozilla.org/report/index/f31ae1ae-cf2f-4b91-92b9-a8a2b0251112\n\nReason:\n```\nSIGSEGV / SEGV_ACCERR\n```\n\nTop 10 frames:\n```\n0  libc.so  libc.so@0x61864\n1  libGLES_mali.so  libGLES_mali.so@0x79f6b4\n2  libxul.so  gleam::ffi_gles::Gles2::ShaderSource  aarch64-linux-android/release/build/gleam-75f483f1d00fd234/out/gles_bindings.rs:2679\n2  libxul.so  <gleam::gl::GlesFns as gleam::gl::Gl>::shader_source  third_party/rust/gleam/src/gles_fns.rs:83\n3  libxul.so  webrender::device::gl::Device::compile_shader  gfx/wr/webrender/src/device/gl.rs:2124\n4  libxul.so  webrender::device::gl::Device::link_program  gfx/wr/webrender/src/device/gl.rs:2473\n5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::get_internal  gfx/wr/webrender/src/renderer/shade.rs:280\n5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::bind  gfx/wr/webrender/src/renderer/shade.rs:160\n6  libxul.so  webrender::renderer::Renderer::draw_alpha_batch_container  gfx/wr/webrender/src/renderer/mod.rs:3080\n7  libxul.so  webrender::renderer::Renderer::draw_picture_cache_target  gfx/wr/webrender/src/renderer/mod.rs:2994\n```\n\nThe vast majority of libGLES_mali.so crashes are on Mali-G57 devices and occur within a glShaderSource call. I have a hunch this is probably the same issue as bug 1799722, and we should ensure we null-terminate the shader source strings passed to the driver."
    }
  ],
  "socorro_crash_ids": [
    "f31ae1ae-cf2f-4b91-92b9-a8a2b0251112"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17759588,
      "comment_count": 0,
      "creator": "jnicol@mozilla.com",
      "creation_time": "2025-11-12T13:32:49Z",
      "raw_text": "Crash report: https://crash-stats.mozilla.org/report/index/f31ae1ae-cf2f-4b91-92b9-a8a2b0251112\n\nReason:\n```\nSIGSEGV / SEGV_ACCERR\n```\n\nTop 10 frames:\n```\n0  libc.so  libc.so@0x61864\n1  libGLES_mali.so  libGLES_mali.so@0x79f6b4\n2  libxul.so  gleam::ffi_gles::Gles2::ShaderSource  aarch64-linux-android/release/build/gleam-75f483f1d00fd234/out/gles_bindings.rs:2679\n2  libxul.so  <gleam::gl::GlesFns as gleam::gl::Gl>::shader_source  third_party/rust/gleam/src/gles_fns.rs:83\n3  libxul.so  webrender::device::gl::Device::compile_shader  gfx/wr/webrender/src/device/gl.rs:2124\n4  libxul.so  webrender::device::gl::Device::link_program  gfx/wr/webrender/src/device/gl.rs:2473\n5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::get_internal  gfx/wr/webrender/src/renderer/shade.rs:280\n5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::bind  gfx/wr/webrender/src/renderer/shade.rs:160\n6  libxul.so  webrender::renderer::Renderer::draw_alpha_batch_container  gfx/wr/webrender/src/renderer/mod.rs:3080\n7  libxul.so  webrender::renderer::Renderer::draw_picture_cache_target  gfx/wr/webrender/src/renderer/mod.rs:2994\n```\n\nThe vast majority of libGLES_mali.so crashes are on Mali-G57 devices and occur within a glShaderSource call. I have a hunch this is probably the same issue as bug 1799722, and we should ensure we null-terminate the shader source strings passed to the driver.",
      "matched_patterns": [
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "libc.so",
          "function": "libc.so@0x61864",
          "file": "",
          "line": null,
          "raw": "0  libc.so  libc.so@0x61864"
        },
        {
          "frame_index": 1,
          "module": "libGLES_mali.so",
          "function": "libGLES_mali.so@0x79f6b4",
          "file": "",
          "line": null,
          "raw": "1  libGLES_mali.so  libGLES_mali.so@0x79f6b4"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "gleam::ffi_gles::Gles2::ShaderSource",
          "file": "aarch64-linux-android/release/build/gleam-75f483f1d00fd234/out/gles_bindings.rs",
          "line": 2679,
          "raw": "2  libxul.so  gleam::ffi_gles::Gles2::ShaderSource  aarch64-linux-android/release/build/gleam-75f483f1d00fd234/out/gles_bindings.rs:2679"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "<gleam::gl::GlesFns as gleam::gl::Gl>::shader_source",
          "file": "third_party/rust/gleam/src/gles_fns.rs",
          "line": 83,
          "raw": "2  libxul.so  <gleam::gl::GlesFns as gleam::gl::Gl>::shader_source  third_party/rust/gleam/src/gles_fns.rs:83"
        },
        {
          "frame_index": 3,
          "module": "libxul.so",
          "function": "webrender::device::gl::Device::compile_shader",
          "file": "gfx/wr/webrender/src/device/gl.rs",
          "line": 2124,
          "raw": "3  libxul.so  webrender::device::gl::Device::compile_shader  gfx/wr/webrender/src/device/gl.rs:2124"
        },
        {
          "frame_index": 4,
          "module": "libxul.so",
          "function": "webrender::device::gl::Device::link_program",
          "file": "gfx/wr/webrender/src/device/gl.rs",
          "line": 2473,
          "raw": "4  libxul.so  webrender::device::gl::Device::link_program  gfx/wr/webrender/src/device/gl.rs:2473"
        },
        {
          "frame_index": 5,
          "module": "libxul.so",
          "function": "webrender::renderer::shade::LazilyCompiledShader::get_internal",
          "file": "gfx/wr/webrender/src/renderer/shade.rs",
          "line": 280,
          "raw": "5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::get_internal  gfx/wr/webrender/src/renderer/shade.rs:280"
        },
        {
          "frame_index": 5,
          "module": "libxul.so",
          "function": "webrender::renderer::shade::LazilyCompiledShader::bind",
          "file": "gfx/wr/webrender/src/renderer/shade.rs",
          "line": 160,
          "raw": "5  libxul.so  webrender::renderer::shade::LazilyCompiledShader::bind  gfx/wr/webrender/src/renderer/shade.rs:160"
        },
        {
          "frame_index": 6,
          "module": "libxul.so",
          "function": "webrender::renderer::Renderer::draw_alpha_batch_container",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 3080,
          "raw": "6  libxul.so  webrender::renderer::Renderer::draw_alpha_batch_container  gfx/wr/webrender/src/renderer/mod.rs:3080"
        },
        {
          "frame_index": 7,
          "module": "libxul.so",
          "function": "webrender::renderer::Renderer::draw_picture_cache_target",
          "file": "gfx/wr/webrender/src/renderer/mod.rs",
          "line": 2994,
          "raw": "7  libxul.so  webrender::renderer::Renderer::draw_picture_cache_target  gfx/wr/webrender/src/renderer/mod.rs:2994"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}