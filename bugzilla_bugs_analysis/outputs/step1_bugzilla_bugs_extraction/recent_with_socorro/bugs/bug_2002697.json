{
  "bug_id": "2002697",
  "summary": "Crash in [@ mozilla::gmp::GMPProcessParent::Delete]",
  "status": "RESOLVED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Audio/Video: GMP",
  "version": "unspecified",
  "severity": "S3",
  "priority": "--",
  "creation_time": "2025-11-27T04:41:39Z",
  "last_change_time": "2025-12-10T17:43:11Z",
  "is_recent": true,
  "crash_signature_raw": "[@ mozilla::gmp::GMPProcessParent::Delete]",
  "crash_signatures": [
    "mozilla::gmp::GMPProcessParent::Delete"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    1851870
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=2002697",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/73cbfd08-a9c5-41ed-81a7-1108b0251127",
      "crash_id": "73cbfd08-a9c5-41ed-81a7-1108b0251127",
      "comment_index": 0,
      "comment_text": "Crash report: https://crash-stats.mozilla.org/report/index/73cbfd08-a9c5-41ed-81a7-1108b0251127\n\nReason:\n```\nEXCEPTION_ACCESS_VIOLATION_READ\n```\n\nTop 10 frames:\n```\n0  xul.dll  nsCOMPtr<nsITimer>::assign_assuming_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:317\n0  xul.dll  nsCOMPtr<nsITimer>::assign_with_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:813\n0  xul.dll  nsCOMPtr<nsITimer>::operator=(nsCOMPtr<nsITimer> const&)  mfbt/RefPtr.h:187\n1  xul.dll  mozilla::gmp::GMPProcessParent::Delete(nsCOMPtr<nsIRunnable>)  dom/media/gmp/GMPProcessParent.cpp:247\n2  xul.dll  mozilla::gmp::GMPParent::DeleteProcess()  dom/media/gmp/GMPParent.cpp:673\n3  xul.dll  mozilla::MozPromise<nsTString<char>, mozilla::ipc::ResponseRejectReason, 1>::...  xpcom/threads/MozPromise.h:872\n4  xul.dll  mozilla::MozPromise<nsTAutoStringN<char16_t, 64>, nsresult, 0>::ThenValueBase...  xpcom/threads/MozPromise.h:505\n5  xul.dll  mozilla::SimpleTaskQueue::DrainTasks()  xpcom/threads/TaskDispatcher.h:48\n5  xul.dll  nsThread::DrainDirectTasks()  xpcom/threads/nsThread.cpp:1383\n5  xul.dll  nsThread::ProcessNextEvent(bool, bool*)  xpcom/threads/nsThread.cpp:1190\n```"
    }
  ],
  "socorro_crash_ids": [
    "73cbfd08-a9c5-41ed-81a7-1108b0251127"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17782917,
      "comment_count": 0,
      "creator": "aosmond@mozilla.com",
      "creation_time": "2025-11-27T04:41:39Z",
      "raw_text": "Crash report: https://crash-stats.mozilla.org/report/index/73cbfd08-a9c5-41ed-81a7-1108b0251127\n\nReason:\n```\nEXCEPTION_ACCESS_VIOLATION_READ\n```\n\nTop 10 frames:\n```\n0  xul.dll  nsCOMPtr<nsITimer>::assign_assuming_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:317\n0  xul.dll  nsCOMPtr<nsITimer>::assign_with_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:813\n0  xul.dll  nsCOMPtr<nsITimer>::operator=(nsCOMPtr<nsITimer> const&)  mfbt/RefPtr.h:187\n1  xul.dll  mozilla::gmp::GMPProcessParent::Delete(nsCOMPtr<nsIRunnable>)  dom/media/gmp/GMPProcessParent.cpp:247\n2  xul.dll  mozilla::gmp::GMPParent::DeleteProcess()  dom/media/gmp/GMPParent.cpp:673\n3  xul.dll  mozilla::MozPromise<nsTString<char>, mozilla::ipc::ResponseRejectReason, 1>::...  xpcom/threads/MozPromise.h:872\n4  xul.dll  mozilla::MozPromise<nsTAutoStringN<char16_t, 64>, nsresult, 0>::ThenValueBase...  xpcom/threads/MozPromise.h:505\n5  xul.dll  mozilla::SimpleTaskQueue::DrainTasks()  xpcom/threads/TaskDispatcher.h:48\n5  xul.dll  nsThread::DrainDirectTasks()  xpcom/threads/nsThread.cpp:1383\n5  xul.dll  nsThread::ProcessNextEvent(bool, bool*)  xpcom/threads/nsThread.cpp:1190\n```",
      "matched_patterns": [
        "mozilla::\\S+::\\S+\\s*\\(",
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsCOMPtr<nsITimer>::assign_assuming_AddRef(nsITimer*)",
          "file": "xpcom/base/nsCOMPtr.h",
          "line": 317,
          "raw": "0  xul.dll  nsCOMPtr<nsITimer>::assign_assuming_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:317"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsCOMPtr<nsITimer>::assign_with_AddRef(nsITimer*)",
          "file": "xpcom/base/nsCOMPtr.h",
          "line": 813,
          "raw": "0  xul.dll  nsCOMPtr<nsITimer>::assign_with_AddRef(nsITimer*)  xpcom/base/nsCOMPtr.h:813"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "nsCOMPtr<nsITimer>::operator=(nsCOMPtr<nsITimer> const&)",
          "file": "mfbt/RefPtr.h",
          "line": 187,
          "raw": "0  xul.dll  nsCOMPtr<nsITimer>::operator=(nsCOMPtr<nsITimer> const&)  mfbt/RefPtr.h:187"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "mozilla::gmp::GMPProcessParent::Delete(nsCOMPtr<nsIRunnable>)",
          "file": "dom/media/gmp/GMPProcessParent.cpp",
          "line": 247,
          "raw": "1  xul.dll  mozilla::gmp::GMPProcessParent::Delete(nsCOMPtr<nsIRunnable>)  dom/media/gmp/GMPProcessParent.cpp:247"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "mozilla::gmp::GMPParent::DeleteProcess()",
          "file": "dom/media/gmp/GMPParent.cpp",
          "line": 673,
          "raw": "2  xul.dll  mozilla::gmp::GMPParent::DeleteProcess()  dom/media/gmp/GMPParent.cpp:673"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<nsTString<char>, mozilla::ipc::ResponseRejectReason, 1>::...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 872,
          "raw": "3  xul.dll  mozilla::MozPromise<nsTString<char>, mozilla::ipc::ResponseRejectReason, 1>::...  xpcom/threads/MozPromise.h:872"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "mozilla::MozPromise<nsTAutoStringN<char16_t, 64>, nsresult, 0>::ThenValueBase...",
          "file": "xpcom/threads/MozPromise.h",
          "line": 505,
          "raw": "4  xul.dll  mozilla::MozPromise<nsTAutoStringN<char16_t, 64>, nsresult, 0>::ThenValueBase...  xpcom/threads/MozPromise.h:505"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "mozilla::SimpleTaskQueue::DrainTasks()",
          "file": "xpcom/threads/TaskDispatcher.h",
          "line": 48,
          "raw": "5  xul.dll  mozilla::SimpleTaskQueue::DrainTasks()  xpcom/threads/TaskDispatcher.h:48"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "nsThread::DrainDirectTasks()",
          "file": "xpcom/threads/nsThread.cpp",
          "line": 1383,
          "raw": "5  xul.dll  nsThread::DrainDirectTasks()  xpcom/threads/nsThread.cpp:1383"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "nsThread::ProcessNextEvent(bool, bool*)",
          "file": "xpcom/threads/nsThread.cpp",
          "line": 1190,
          "raw": "5  xul.dll  nsThread::ProcessNextEvent(bool, bool*)  xpcom/threads/nsThread.cpp:1190"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10
}