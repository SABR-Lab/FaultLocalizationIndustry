{
  "bug_id": "1991250",
  "summary": "Crash in [@ mozilla::LinkedListElement<T>::setPreviousUnsafe] with dom.script_loader.navigation_cache =TRUE (STR in comment 6)",
  "product": "Core",
  "component": "JavaScript Engine",
  "creation_time": "2025-09-27T03:15:31Z",
  "crash_signatures": [
    "mozilla::LinkedListElement<T>::setPreviousUnsafe"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1991250",
  "socorro_crash_ids": [
    "10c2ee8a-0313-4b52-be52-8a31e0250927"
  ],
  "stack_source": "socorro",
  "crash_id": "10c2ee8a-0313-4b52-be52-8a31e0250927",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 0,
      "name": "MainThread"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "10c2ee8a-0313-4b52-be52-8a31e0250927",
    "frames": [
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "mozilla::LinkedListElement<JS::loader::ScriptLoadRequest>::setPreviousUnsafe(JS::loader::ScriptLoadRequest*)",
        "source": "mfbt/LinkedList.h:334",
        "file": "mfbt/LinkedList.h",
        "line": 334,
        "trust": "inlined"
      },
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "mozilla::LinkedList<JS::loader::ScriptLoadRequest>::insertBack(JS::loader::ScriptLoadRequest*)",
        "source": "mfbt/LinkedList.h:526",
        "file": "mfbt/LinkedList.h",
        "line": 526,
        "trust": "inlined"
      },
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "JS::loader::ScriptLoadRequestList::AppendElement(JS::loader::ScriptLoadRequest*)",
        "source": "js/loader/ScriptLoadRequestList.cpp:42",
        "file": "js/loader/ScriptLoadRequestList.cpp",
        "line": 42,
        "trust": "inlined"
      },
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "mozilla::dom::ScriptLoader::CalculateCacheFlag(JS::loader::ScriptLoadRequest*)",
        "source": "dom/script/ScriptLoader.cpp:2875",
        "file": "dom/script/ScriptLoader.cpp",
        "line": 2875,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "xul.dll",
        "function": "mozilla::dom::ModuleLoader::CompileJavaScriptModule(JSContext*, JS::CompileOptions&, JS::loader::ModuleLoadRequest*, JS::MutableHandle<JSObject*>)",
        "source": "dom/script/ModuleLoader.cpp:236",
        "file": "dom/script/ModuleLoader.cpp",
        "line": 236,
        "trust": "inlined"
      },
      {
        "frame_index": 1,
        "module": "xul.dll",
        "function": "mozilla::dom::ModuleLoader::CompileFetchedModule(JSContext*, JS::Handle<JSObject*>, JS::CompileOptions&, JS::loader::ModuleLoadRequest*, JS::MutableHandle<JSObject*>)",
        "source": "dom/script/ModuleLoader.cpp:223",
        "file": "dom/script/ModuleLoader.cpp",
        "line": 223,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "xul.dll",
        "function": "JS::loader::ModuleLoaderBase::CreateModuleScript(JS::loader::ModuleLoadRequest*)",
        "source": "js/loader/ModuleLoaderBase.cpp:977",
        "file": "js/loader/ModuleLoaderBase.cpp",
        "line": 977,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "xul.dll",
        "function": "JS::loader::ModuleLoaderBase::OnFetchComplete(JS::loader::ModuleLoadRequest*, nsresult)",
        "source": "js/loader/ModuleLoaderBase.cpp:748",
        "file": "js/loader/ModuleLoaderBase.cpp",
        "line": 748,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "xul.dll",
        "function": "JS::loader::ModuleLoadRequest::OnFetchComplete(nsresult)",
        "source": "js/loader/ModuleLoadRequest.h:105",
        "file": "js/loader/ModuleLoadRequest.h",
        "line": 105,
        "trust": "inlined"
      },
      {
        "frame_index": 3,
        "module": "xul.dll",
        "function": "mozilla::dom::ScriptLoader::PrepareLoadedRequest(JS::loader::ScriptLoadRequest*, nsIIncrementalStreamLoader*, nsresult)",
        "source": "dom/script/ScriptLoader.cpp:4689",
        "file": "dom/script/ScriptLoader.cpp",
        "line": 4689,
        "trust": "inlined"
      },
      {
        "frame_index": 3,
        "module": "xul.dll",
        "function": "mozilla::dom::ScriptLoader::OnStreamComplete(nsIIncrementalStreamLoader*, JS::loader::ScriptLoadRequest*, nsresult, nsresult, mozilla::dom::SRICheckDataVerifier*)",
        "source": "dom/script/ScriptLoader.cpp:4153",
        "file": "dom/script/ScriptLoader.cpp",
        "line": 4153,
        "trust": "inlined"
      },
      {
        "frame_index": 3,
        "module": "xul.dll",
        "function": "mozilla::dom::ScriptLoadHandler::OnStreamComplete(nsIIncrementalStreamLoader*, nsISupports*, nsresult, unsigned int, unsigned char const*)",
        "source": "dom/script/ScriptLoadHandler.cpp:478",
        "file": "dom/script/ScriptLoadHandler.cpp",
        "line": 478,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "xul.dll",
        "function": "nsIncrementalStreamLoader::OnStopRequest(nsIRequest*, nsresult)",
        "source": "netwerk/base/nsIncrementalStreamLoader.cpp:86",
        "file": "netwerk/base/nsIncrementalStreamLoader.cpp",
        "line": 86,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "xul.dll",
        "function": "nsCORSListenerProxy::OnStopRequest(nsIRequest*, nsresult)",
        "source": "netwerk/protocol/http/nsCORSListenerProxy.cpp:835",
        "file": "netwerk/protocol/http/nsCORSListenerProxy.cpp",
        "line": 835,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "xul.dll",
        "function": "mozilla::net::nsHTTPCompressConv::OnStopRequest(nsIRequest*, nsresult)",
        "source": "netwerk/streamconv/converters/nsHTTPCompressConv.cpp:299",
        "file": "netwerk/streamconv/converters/nsHTTPCompressConv.cpp",
        "line": 299,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "mozilla::net::HttpChannelChild::DoOnStopRequest(nsIRequest*, nsresult)",
        "source": "netwerk/protocol/http/HttpChannelChild.cpp:1273",
        "file": "netwerk/protocol/http/HttpChannelChild.cpp",
        "line": 1273,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "mozilla::net::HttpChannelChild::OnStopRequest(nsresult const&, mozilla::net::ResourceTimingStructArgs const&, mozilla::net::nsHttpHeaderArray const&)",
        "source": "netwerk/protocol/http/HttpChannelChild.cpp:1087",
        "file": "netwerk/protocol/http/HttpChannelChild.cpp",
        "line": 1087,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "mozilla::net::HttpChannelChild::ProcessOnStopRequest::<lambda_34>::operator()()",
        "source": "netwerk/protocol/http/HttpChannelChild.cpp:947",
        "file": "netwerk/protocol/http/HttpChannelChild.cpp",
        "line": 947,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "std::invoke(mozilla::net::HttpChannelChild::ProcessOnStopRequest::<lambda_34>&)",
        "source": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits:1729",
        "file": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/type_traits",
        "line": 1729,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "std::_Func_impl_no_alloc<`lambda at /builds/worker/checkouts/gecko/netwerk/protocol/http/HttpChannelChild.cpp:936:13', void>::_Do_call()",
        "source": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional:905",
        "file": "/builds/worker/fetches/vs/VC/Tools/MSVC/14.39.33519/include/functional",
        "line": 905,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "xul.dll",
        "function": "mozilla::net::ChannelEventQueue::FlushQueue()",
        "source": "netwerk/ipc/ChannelEventQueue.cpp:85",
        "file": "netwerk/ipc/ChannelEventQueue.cpp",
        "line": 85,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "xul.dll",
        "function": "mozilla::net::ChannelEventQueue::MaybeFlushQueue()",
        "source": "netwerk/ipc/ChannelEventQueue.h:352",
        "file": "netwerk/ipc/ChannelEventQueue.h",
        "line": 352,
        "trust": "inlined"
      },
      {
        "frame_index": 9,
        "module": "xul.dll",
        "function": "mozilla::net::ChannelEventQueue::CompleteResume()",
        "source": "netwerk/ipc/ChannelEventQueue.h:337",
        "file": "netwerk/ipc/ChannelEventQueue.h",
        "line": 337,
        "trust": "inlined"
      },
      {
        "frame_index": 9,
        "module": "xul.dll",
        "function": "mozilla::net::ChannelEventQueue::ResumeInternal::CompleteResumeRunnable::Run()",
        "source": "netwerk/ipc/ChannelEventQueue.cpp:144",
        "file": "netwerk/ipc/ChannelEventQueue.cpp",
        "line": 144,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "mozilla::RunnableTask::Run()",
        "source": "xpcom/threads/TaskController.cpp:705",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 705,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "mozilla::TaskController::RunTask(mozilla::Task*)",
        "source": "xpcom/threads/TaskController.cpp:196",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 196,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1325",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1325,
        "trust": "cfi"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1148",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1148,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::TaskController::ProcessPendingMTTask(bool)",
        "source": "xpcom/threads/TaskController.cpp:641",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 641,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::TaskController::TaskController::<lambda_6>::operator()() const",
        "source": "xpcom/threads/TaskController.cpp:333",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 333,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::detail::RunnableFunction<`lambda at /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:333:7'>::Run()",
        "source": "xpcom/threads/nsThreadUtils.h:549",
        "file": "xpcom/threads/nsThreadUtils.h",
        "line": 549,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "nsThread::ProcessNextEvent(bool, bool*)",
        "source": "xpcom/threads/nsThread.cpp:1157",
        "file": "xpcom/threads/nsThread.cpp",
        "line": 1157,
        "trust": "cfi"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "NS_ProcessNextEvent(nsIThread*, bool)",
        "source": "xpcom/threads/nsThreadUtils.cpp:462",
        "file": "xpcom/threads/nsThreadUtils.cpp",
        "line": 462,
        "trust": "inlined"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:85",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 85,
        "trust": "cfi"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:368",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 368,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:361",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 361,
        "trust": "cfi"
      },
      {
        "frame_index": 14,
        "module": "xul.dll",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:343",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 343,
        "trust": "inlined"
      },
      {
        "frame_index": 14,
        "module": "xul.dll",
        "function": "nsBaseAppShell::Run()",
        "source": "widget/nsBaseAppShell.cpp:148",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 148,
        "trust": "cfi"
      },
      {
        "frame_index": 15,
        "module": "xul.dll",
        "function": "nsAppShell::Run()",
        "source": "widget/windows/nsAppShell.cpp:673",
        "file": "widget/windows/nsAppShell.cpp",
        "line": 673,
        "trust": "cfi"
      },
      {
        "frame_index": 16,
        "module": "xul.dll",
        "function": "XRE_RunAppShell()",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:657",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 657,
        "trust": "inlined"
      },
      {
        "frame_index": 16,
        "module": "xul.dll",
        "function": "mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:235",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 235,
        "trust": "cfi"
      },
      {
        "frame_index": 17,
        "module": "xul.dll",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:368",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 368,
        "trust": "inlined"
      },
      {
        "frame_index": 17,
        "module": "xul.dll",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:361",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 361,
        "trust": "cfi"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:343",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 343,
        "trust": "inlined"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "XRE_InitChildProcess(int, char**, XREChildData const*)",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:595",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 595,
        "trust": "inlined"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "mozilla::BootstrapImpl::XRE_InitChildProcess(int, char**, XREChildData const*)",
        "source": "toolkit/xre/Bootstrap.cpp:60",
        "file": "toolkit/xre/Bootstrap.cpp",
        "line": 60,
        "trust": "cfi"
      },
      {
        "frame_index": 19,
        "module": "firefox.exe",
        "function": "NS_internal_main(int, char**, char**)",
        "source": "browser/app/nsBrowserApp.cpp:420",
        "file": "browser/app/nsBrowserApp.cpp",
        "line": 420,
        "trust": "inlined"
      },
      {
        "frame_index": 19,
        "module": "firefox.exe",
        "function": "wmain(int, wchar_t**)",
        "source": "toolkit/xre/nsWindowsWMain.cpp:150",
        "file": "toolkit/xre/nsWindowsWMain.cpp",
        "line": 150,
        "trust": "cfi"
      },
      {
        "frame_index": 20,
        "module": "firefox.exe",
        "function": "invoke_main()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:90",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 90,
        "trust": "inlined"
      },
      {
        "frame_index": 20,
        "module": "firefox.exe",
        "function": "__scrt_common_main_seh()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:288",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 288,
        "trust": "cfi"
      },
      {
        "frame_index": 21,
        "module": "kernel32.dll",
        "function": "BaseThreadInitThunk",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 22,
        "module": "ntdll.dll",
        "function": "RtlUserThreadStart",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      }
    ],
    "frame_count": 52
  }
}