{
  "bug_id": "1991385",
  "summary": "Crash in [@ TaskbarProgress::SetPrimaryWindow]",
  "product": "Core",
  "component": "Widget: Gtk",
  "creation_time": "2025-09-29T08:55:10Z",
  "crash_signatures": [
    "TaskbarProgress::SetPrimaryWindow"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1991385",
  "socorro_crash_ids": [
    "4b31511b-7e57-4f86-b77c-26bf20250928"
  ],
  "stack_source": "socorro",
  "crash_id": "4b31511b-7e57-4f86-b77c-26bf20250928",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 0,
      "name": "thunderbird-bin"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "4b31511b-7e57-4f86-b77c-26bf20250928",
    "frames": [
      {
        "frame_index": 0,
        "module": "libxul.so",
        "function": "TaskbarProgress::SetPrimaryWindow(mozIDOMWindowProxy*)",
        "source": "widget/gtk/TaskbarProgress.cpp:88",
        "file": "widget/gtk/TaskbarProgress.cpp",
        "line": 88,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "NS_InvokeByIndex",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "CallMethodHelper::Invoke()",
        "source": "js/xpconnect/src/XPCWrappedNative.cpp:1620",
        "file": "js/xpconnect/src/XPCWrappedNative.cpp",
        "line": 1620,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "CallMethodHelper::Call()",
        "source": "js/xpconnect/src/XPCWrappedNative.cpp:1174",
        "file": "js/xpconnect/src/XPCWrappedNative.cpp",
        "line": 1174,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "XPCWrappedNative::CallMethod(XPCCallContext&, XPCWrappedNative::CallMode)",
        "source": "js/xpconnect/src/XPCWrappedNative.cpp:1120",
        "file": "js/xpconnect/src/XPCWrappedNative.cpp",
        "line": 1120,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "libxul.so",
        "function": "XPC_WN_CallMethod(JSContext*, unsigned int, JS::Value*)",
        "source": "js/xpconnect/src/XPCWrappedNativeJSOps.cpp:966",
        "file": "js/xpconnect/src/XPCWrappedNativeJSOps.cpp",
        "line": 966,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "libxul.so",
        "function": "CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::CallReason, JS::CallArgs const&)",
        "source": "js/src/vm/Interpreter.cpp:501",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 501,
        "trust": "inlined"
      },
      {
        "frame_index": 4,
        "module": "libxul.so",
        "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:597",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 597,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:664",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 664,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "js::CallFromStack(JSContext*, JS::CallArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:669",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 669,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "js::Interpret(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:3287",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 3287,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "libxul.so",
        "function": "MaybeEnterInterpreterTrampoline(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:395",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 395,
        "trust": "inlined"
      },
      {
        "frame_index": 6,
        "module": "libxul.so",
        "function": "js::RunScript(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:471",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 471,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "libxul.so",
        "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:629",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 629,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "libxul.so",
        "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:664",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 664,
        "trust": "inlined"
      },
      {
        "frame_index": 8,
        "module": "libxul.so",
        "function": "js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:696",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 696,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "libxul.so",
        "function": "JS_CallFunctionValue(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>)",
        "source": "js/src/vm/CallAndConstruct.cpp:55",
        "file": "js/src/vm/CallAndConstruct.cpp",
        "line": 55,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "nsXPCWrappedJS::CallMethod(unsigned short, nsXPTMethodInfo const*, nsXPTCMiniVariant*)",
        "source": "js/xpconnect/src/XPCWrappedJSClass.cpp:918",
        "file": "js/xpconnect/src/XPCWrappedJSClass.cpp",
        "line": 918,
        "trust": "cfi"
      },
      {
        "frame_index": 11,
        "module": "libxul.so",
        "function": "PrepareAndDispatch",
        "source": "xpcom/reflect/xptcall/md/unix/xptcstubs_x86_64_linux.cpp:115",
        "file": "xpcom/reflect/xptcall/md/unix/xptcstubs_x86_64_linux.cpp",
        "line": 115,
        "trust": "cfi"
      },
      {
        "frame_index": 12,
        "module": "libxul.so",
        "function": "SharedStub",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 13,
        "module": "libxul.so",
        "function": "nsMsgProgress::OnProgressChange(nsIWebProgress*, nsIRequest*, int, int, int, int)",
        "source": "mailnews/base/src/nsMsgProgress.cpp:147",
        "file": "mailnews/base/src/nsMsgProgress.cpp",
        "line": 147,
        "trust": "cfi"
      },
      {
        "frame_index": 14,
        "module": "libxul.so",
        "function": "nsMsgProgress::OnProgress(nsIRequest*, long, long)",
        "source": "mailnews/base/src/nsMsgProgress.cpp:226",
        "file": "mailnews/base/src/nsMsgProgress.cpp",
        "line": 226,
        "trust": "inlined"
      },
      {
        "frame_index": 14,
        "module": "libxul.so",
        "function": "{virtual override thunk({offset(-16)}, nsMsgProgress::OnProgress(nsIRequest*, long, long))}",
        "source": "mailnews/base/src/nsMsgProgress.cpp:0",
        "file": "mailnews/base/src/nsMsgProgress.cpp",
        "line": 0,
        "trust": "cfi"
      },
      {
        "frame_index": 15,
        "module": "libxul.so",
        "function": "nsImapMailFolder::PercentProgress(nsIImapProtocol*, nsTSubstring<char> const&, long, long)",
        "source": "mailnews/imap/src/nsImapMailFolder.cpp:6166",
        "file": "mailnews/imap/src/nsImapMailFolder.cpp",
        "line": 6166,
        "trust": "cfi"
      },
      {
        "frame_index": 16,
        "module": "libxul.so",
        "function": "(anonymous namespace)::SyncRunnable4<nsIImapMailFolderSink, nsIImapProtocol*, nsTSubstring<char> const&, long, long>::Run()",
        "source": "mailnews/imap/src/nsSyncRunnableHelpers.cpp:186",
        "file": "mailnews/imap/src/nsSyncRunnableHelpers.cpp",
        "line": 186,
        "trust": "cfi"
      },
      {
        "frame_index": 17,
        "module": "libxul.so",
        "function": "mozilla::RunnableTask::Run()",
        "source": "xpcom/threads/TaskController.cpp:703",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 703,
        "trust": "cfi"
      },
      {
        "frame_index": 18,
        "module": "libxul.so",
        "function": "mozilla::TaskController::RunTask(mozilla::Task*)",
        "source": "xpcom/threads/TaskController.cpp:228",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 228,
        "trust": "inlined"
      },
      {
        "frame_index": 18,
        "module": "libxul.so",
        "function": "mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1323",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1323,
        "trust": "cfi"
      },
      {
        "frame_index": 19,
        "module": "libxul.so",
        "function": "mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1146",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1146,
        "trust": "cfi"
      },
      {
        "frame_index": 20,
        "module": "libxul.so",
        "function": "mozilla::TaskController::ProcessPendingMTTask(bool)",
        "source": "xpcom/threads/TaskController.cpp:639",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 639,
        "trust": "cfi"
      },
      {
        "frame_index": 21,
        "module": "libxul.so",
        "function": "mozilla::TaskController::TaskController()::$_1::operator()() const",
        "source": "xpcom/threads/TaskController.cpp:336",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 336,
        "trust": "inlined"
      },
      {
        "frame_index": 21,
        "module": "libxul.so",
        "function": "mozilla::detail::RunnableFunction<mozilla::TaskController::TaskController()::$_1>::Run()",
        "source": "xpcom/threads/nsThreadUtils.h:549",
        "file": "xpcom/threads/nsThreadUtils.h",
        "line": 549,
        "trust": "cfi"
      },
      {
        "frame_index": 22,
        "module": "libxul.so",
        "function": "nsThread::ProcessNextEvent(bool, bool*)",
        "source": "xpcom/threads/nsThread.cpp:1157",
        "file": "xpcom/threads/nsThread.cpp",
        "line": 1157,
        "trust": "cfi"
      },
      {
        "frame_index": 23,
        "module": "libxul.so",
        "function": "NS_ProcessNextEvent(nsIThread*, bool)",
        "source": "xpcom/threads/nsThreadUtils.cpp:462",
        "file": "xpcom/threads/nsThreadUtils.cpp",
        "line": 462,
        "trust": "cfi"
      },
      {
        "frame_index": 24,
        "module": "libxul.so",
        "function": "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:107",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 107,
        "trust": "cfi"
      },
      {
        "frame_index": 25,
        "module": "libxul.so",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:373",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 373,
        "trust": "inlined"
      },
      {
        "frame_index": 25,
        "module": "libxul.so",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:366",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 366,
        "trust": "inlined"
      },
      {
        "frame_index": 25,
        "module": "libxul.so",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:348",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 348,
        "trust": "cfi"
      },
      {
        "frame_index": 26,
        "module": "libxul.so",
        "function": "nsBaseAppShell::Run()",
        "source": "widget/nsBaseAppShell.cpp:148",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 148,
        "trust": "cfi"
      },
      {
        "frame_index": 27,
        "module": "libxul.so",
        "function": "nsAppShell::Run()",
        "source": "widget/gtk/nsAppShell.cpp:471",
        "file": "widget/gtk/nsAppShell.cpp",
        "line": 471,
        "trust": "cfi"
      },
      {
        "frame_index": 28,
        "module": "libxul.so",
        "function": "nsAppStartup::Run()",
        "source": "toolkit/components/startup/nsAppStartup.cpp:291",
        "file": "toolkit/components/startup/nsAppStartup.cpp",
        "line": 291,
        "trust": "cfi"
      },
      {
        "frame_index": 29,
        "module": "libxul.so",
        "function": "XREMain::XRE_mainRun()",
        "source": "toolkit/xre/nsAppRunner.cpp:5889",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 5889,
        "trust": "cfi"
      },
      {
        "frame_index": 30,
        "module": "libxul.so",
        "function": "XREMain::XRE_main(int, char**, mozilla::BootstrapConfig const&)",
        "source": "toolkit/xre/nsAppRunner.cpp:6134",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 6134,
        "trust": "cfi"
      },
      {
        "frame_index": 31,
        "module": "libxul.so",
        "function": "XRE_main(int, char**, mozilla::BootstrapConfig const&)",
        "source": "toolkit/xre/nsAppRunner.cpp:6207",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 6207,
        "trust": "cfi"
      },
      {
        "frame_index": 32,
        "module": "thunderbird-bin",
        "function": "do_main(int, char**, char**)",
        "source": "mail/app/nsMailApp.cpp:219",
        "file": "mail/app/nsMailApp.cpp",
        "line": 219,
        "trust": "inlined"
      },
      {
        "frame_index": 32,
        "module": "thunderbird-bin",
        "function": "main",
        "source": "mail/app/nsMailApp.cpp:415",
        "file": "mail/app/nsMailApp.cpp",
        "line": 415,
        "trust": "cfi"
      },
      {
        "frame_index": 33,
        "module": "libc.so.6",
        "function": "__libc_start_call_main",
        "source": "/usr/src/debug/glibc/glibc/sysdeps/nptl/libc_start_call_main.h:58",
        "file": "/usr/src/debug/glibc/glibc/sysdeps/nptl/libc_start_call_main.h",
        "line": 58,
        "trust": "cfi"
      },
      {
        "frame_index": 34,
        "module": "libc.so.6",
        "function": "__libc_start_main_alias_2",
        "source": "/usr/src/debug/glibc/glibc/csu/libc-start.c:360",
        "file": "/usr/src/debug/glibc/glibc/csu/libc-start.c",
        "line": 360,
        "trust": "cfi"
      },
      {
        "frame_index": 35,
        "module": "thunderbird-bin",
        "function": "_start",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      }
    ],
    "frame_count": 49
  }
}