{
  "bug_id": "1992580",
  "summary": "Fenix Crash in [@ mozilla::dom::BrowsingContext::LoadURI] after MOZ_DIAGNOSTIC_ASSERT(sourceBC)",
  "product": "Core",
  "component": "DOM: Navigation",
  "creation_time": "2025-10-04T20:33:51Z",
  "crash_signatures": [
    "mozilla::dom::BrowsingContext::LoadURI"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1992580",
  "socorro_crash_ids": [
    "2cce1d2d-3339-4891-9a9c-7fc230251004"
  ],
  "stack_source": "socorro",
  "crash_id": "2cce1d2d-3339-4891-9a9c-7fc230251004",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 13,
      "name": "Isolated Web Co"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "2cce1d2d-3339-4891-9a9c-7fc230251004",
    "frames": [
      {
        "frame_index": 0,
        "module": "libxul.so",
        "function": "MOZ_CrashSequence(void*, long)",
        "source": "mfbt/Assertions.h:242",
        "file": "mfbt/Assertions.h",
        "line": 242,
        "trust": "inlined"
      },
      {
        "frame_index": 0,
        "module": "libxul.so",
        "function": "mozilla::dom::BrowsingContext::LoadURI(nsDocShellLoadState*, bool)",
        "source": "docshell/base/BrowsingContext.cpp:2255",
        "file": "docshell/base/BrowsingContext.cpp",
        "line": 2255,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "mozilla::dom::BrowsingContext::Navigate(nsIURI*, nsIPrincipal&, mozilla::ErrorResult&, mozilla::dom::NavigationHistoryBehavior, bool)",
        "source": "docshell/base/BrowsingContext.cpp:2499",
        "file": "docshell/base/BrowsingContext.cpp",
        "line": 2499,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "mozilla::dom::LocationBase::SetURI(nsIURI*, nsIPrincipal&, mozilla::ErrorResult&, bool)",
        "source": "dom/base/LocationBase.cpp:33",
        "file": "dom/base/LocationBase.cpp",
        "line": 33,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "mozilla::dom::LocationBase::SetHrefWithBase(nsTSubstring<char> const&, nsIURI*, nsIPrincipal&, bool, mozilla::ErrorResult&)",
        "source": "dom/base/LocationBase.cpp:97",
        "file": "dom/base/LocationBase.cpp",
        "line": 97,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "libxul.so",
        "function": "mozilla::dom::Location_Binding::set_href(JSContext*, JS::Handle<JSObject*>, void*, JSJitSetterCallArgs)",
        "source": "dom/bindings/LocationBinding.cpp:0",
        "file": "dom/bindings/LocationBinding.cpp",
        "line": 0,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "libxul.so",
        "function": "mozilla::dom::binding_detail::GenericSetter<mozilla::dom::binding_detail::CrossOriginThisPolicy>(JSContext*, unsigned int, JS::Value*)",
        "source": "dom/bindings/BindingUtils.cpp:3255",
        "file": "dom/bindings/BindingUtils.cpp",
        "line": 3255,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::CallReason, JS::CallArgs const&)",
        "source": "js/src/vm/Interpreter.cpp:490",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 490,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:586",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 586,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:653",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 653,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:685",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 685,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "libxul.so",
        "function": "JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>)",
        "source": "js/src/vm/CallAndConstruct.cpp:119",
        "file": "js/src/vm/CallAndConstruct.cpp",
        "line": 119,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "libxul.so",
        "function": "JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JSObject*>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>)",
        "source": "js/public/CallAndConstruct.h:110",
        "file": "js/public/CallAndConstruct.h",
        "line": 110,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "libxul.so",
        "function": "mozilla::dom::MaybeCrossOriginObjectMixins::CrossOriginSet(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::PropertyKey>, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::ObjectOpResult&)",
        "source": "dom/base/MaybeCrossOriginObject.cpp:220",
        "file": "dom/base/MaybeCrossOriginObject.cpp",
        "line": 220,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "libxul.so",
        "function": "js::Proxy::setInternal(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::PropertyKey>, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::ObjectOpResult&)",
        "source": "js/src/proxy/Proxy.cpp:593",
        "file": "js/src/proxy/Proxy.cpp",
        "line": 593,
        "trust": "inlined"
      },
      {
        "frame_index": 8,
        "module": "libxul.so",
        "function": "js::Proxy::set(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::PropertyKey>, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::ObjectOpResult&)",
        "source": "js/src/proxy/Proxy.cpp:601",
        "file": "js/src/proxy/Proxy.cpp",
        "line": 601,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "libxul.so",
        "function": "js::SetProperty(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::PropertyKey>, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::ObjectOpResult&)",
        "source": "js/src/vm/ObjectOperations-inl.h:294",
        "file": "js/src/vm/ObjectOperations-inl.h",
        "line": 294,
        "trust": "inlined"
      },
      {
        "frame_index": 9,
        "module": "libxul.so",
        "function": "SetObjectElementOperation(JSContext*, JS::Handle<JSObject*>, JS::Handle<JS::PropertyKey>, JS::Handle<JS::Value>, JS::Handle<JS::Value>, bool)",
        "source": "js/src/vm/Interpreter.cpp:1579",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 1579,
        "trust": "inlined"
      },
      {
        "frame_index": 9,
        "module": "libxul.so",
        "function": "js::Interpret(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:3022",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 3022,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "MaybeEnterInterpreterTrampoline(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:384",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 384,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "js::RunScript(JSContext*, js::RunState&)",
        "source": "js/src/vm/Interpreter.cpp:460",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 460,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:618",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 618,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:653",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 653,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:685",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 685,
        "trust": "cfi"
      },
      {
        "frame_index": 11,
        "module": "libxul.so",
        "function": "js::CallSelfHostedFunction(JSContext*, JS::Handle<js::PropertyName*>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>)",
        "source": "js/src/vm/SelfHosting.cpp:1212",
        "file": "js/src/vm/SelfHosting.cpp",
        "line": 1212,
        "trust": "cfi"
      },
      {
        "frame_index": 12,
        "module": "libxul.so",
        "function": "AsyncFunctionResume(JSContext*, JS::Handle<js::AsyncFunctionGeneratorObject*>, ResumeKind, JS::Handle<JS::Value>)",
        "source": "js/src/vm/AsyncFunction.cpp:157",
        "file": "js/src/vm/AsyncFunction.cpp",
        "line": 157,
        "trust": "cfi"
      },
      {
        "frame_index": 13,
        "module": "libxul.so",
        "function": "AsyncFunctionPromiseReactionJob(JSContext*, JS::Handle<PromiseReactionRecord*>)",
        "source": "js/src/builtin/Promise.cpp",
        "file": "",
        "line": null,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "libxul.so",
        "function": "PromiseReactionJob(JSContext*, JS::Handle<JSObject*>)",
        "source": "js/src/builtin/Promise.cpp:2552",
        "file": "js/src/builtin/Promise.cpp",
        "line": 2552,
        "trust": "cfi"
      },
      {
        "frame_index": 14,
        "module": "libxul.so",
        "function": "PromiseReactionJob(JSContext*, unsigned int, JS::Value*)",
        "source": "js/src/builtin/Promise.cpp:2685",
        "file": "js/src/builtin/Promise.cpp",
        "line": 2685,
        "trust": "cfi"
      },
      {
        "frame_index": 15,
        "module": "libxul.so",
        "function": "CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), js::CallReason, JS::CallArgs const&)",
        "source": "js/src/vm/Interpreter.cpp:490",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 490,
        "trust": "inlined"
      },
      {
        "frame_index": 15,
        "module": "libxul.so",
        "function": "js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:586",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 586,
        "trust": "inlined"
      },
      {
        "frame_index": 15,
        "module": "libxul.so",
        "function": "InternalCall(JSContext*, js::AnyInvokeArgs const&, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:653",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 653,
        "trust": "inlined"
      },
      {
        "frame_index": 15,
        "module": "libxul.so",
        "function": "js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason)",
        "source": "js/src/vm/Interpreter.cpp:685",
        "file": "js/src/vm/Interpreter.cpp",
        "line": 685,
        "trust": "cfi"
      },
      {
        "frame_index": 16,
        "module": "libxul.so",
        "function": "JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>)",
        "source": "js/src/vm/CallAndConstruct.cpp:119",
        "file": "js/src/vm/CallAndConstruct.cpp",
        "line": 119,
        "trust": "cfi"
      },
      {
        "frame_index": 17,
        "module": "libxul.so",
        "function": "mozilla::PromiseJobRunnable::Call()",
        "source": "xpcom/base/CycleCollectedJSContext.cpp:219",
        "file": "xpcom/base/CycleCollectedJSContext.cpp",
        "line": 219,
        "trust": "inlined"
      },
      {
        "frame_index": 17,
        "module": "libxul.so",
        "function": "mozilla::PromiseJobRunnable::Run(mozilla::AutoSlowOperation&)",
        "source": "xpcom/base/CycleCollectedJSContext.cpp:242",
        "file": "xpcom/base/CycleCollectedJSContext.cpp",
        "line": 242,
        "trust": "cfi"
      },
      {
        "frame_index": 18,
        "module": "libxul.so",
        "function": "mozilla::CycleCollectedJSContext::PerformMicroTaskCheckPoint(bool)",
        "source": "xpcom/base/CycleCollectedJSContext.cpp:1263",
        "file": "xpcom/base/CycleCollectedJSContext.cpp",
        "line": 1263,
        "trust": "inlined"
      },
      {
        "frame_index": 18,
        "module": "libxul.so",
        "function": "mozilla::CycleCollectedJSContext::AfterProcessTask(unsigned int)",
        "source": "xpcom/base/CycleCollectedJSContext.cpp:747",
        "file": "xpcom/base/CycleCollectedJSContext.cpp",
        "line": 747,
        "trust": "cfi"
      },
      {
        "frame_index": 19,
        "module": "libxul.so",
        "function": "XPCJSContext::AfterProcessTask(unsigned int)",
        "source": "js/xpconnect/src/XPCJSContext.cpp:1547",
        "file": "js/xpconnect/src/XPCJSContext.cpp",
        "line": 1547,
        "trust": "inlined"
      },
      {
        "frame_index": 19,
        "module": "libxul.so",
        "function": "nsThread::ProcessNextEvent(bool, bool*)",
        "source": "xpcom/threads/nsThread.cpp:1213",
        "file": "xpcom/threads/nsThread.cpp",
        "line": 1213,
        "trust": "inlined"
      },
      {
        "frame_index": 19,
        "module": "libxul.so",
        "function": "NS_ProcessNextEvent(nsIThread*, bool)",
        "source": "xpcom/threads/nsThreadUtils.cpp:462",
        "file": "xpcom/threads/nsThreadUtils.cpp",
        "line": 462,
        "trust": "cfi"
      },
      {
        "frame_index": 20,
        "module": "libxul.so",
        "function": "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:107",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 107,
        "trust": "cfi"
      },
      {
        "frame_index": 21,
        "module": "libxul.so",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:368",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 368,
        "trust": "inlined"
      },
      {
        "frame_index": 21,
        "module": "libxul.so",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:361",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 361,
        "trust": "inlined"
      },
      {
        "frame_index": 21,
        "module": "libxul.so",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:343",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 343,
        "trust": "cfi"
      },
      {
        "frame_index": 22,
        "module": "libxul.so",
        "function": "nsBaseAppShell::Run()",
        "source": "widget/nsBaseAppShell.cpp:148",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 148,
        "trust": "cfi"
      },
      {
        "frame_index": 23,
        "module": "libxul.so",
        "function": "XRE_RunAppShell()",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:657",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 657,
        "trust": "cfi"
      },
      {
        "frame_index": 24,
        "module": "libxul.so",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:368",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 368,
        "trust": "inlined"
      },
      {
        "frame_index": 24,
        "module": "libxul.so",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:361",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 361,
        "trust": "inlined"
      },
      {
        "frame_index": 24,
        "module": "libxul.so",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:343",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 343,
        "trust": "cfi"
      },
      {
        "frame_index": 25,
        "module": "libxul.so",
        "function": "XRE_InitChildProcess(int, char**, XREChildData const*)",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:595",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 595,
        "trust": "cfi"
      },
      {
        "frame_index": 26,
        "module": "libmozglue.so",
        "function": "Java_org_mozilla_gecko_mozglue_GeckoLoader_nativeRun",
        "source": "mozglue/android/APKOpen.cpp:472",
        "file": "mozglue/android/APKOpen.cpp",
        "line": 472,
        "trust": "cfi"
      },
      {
        "frame_index": 29,
        "module": "libart.so",
        "function": "art_quick_invoke_stub",
        "source": "",
        "file": "",
        "line": null,
        "trust": "scan"
      },
      {
        "frame_index": 30,
        "module": "libart.so",
        "function": "art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "scan"
      },
      {
        "frame_index": 31,
        "module": "libart.so",
        "function": "art::Thread::CreateCallback(void*)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "scan"
      },
      {
        "frame_index": 32,
        "module": "libart.so",
        "function": "art::Thread::CreateCallbackWithUffdGc(void*)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "scan"
      },
      {
        "frame_index": 36,
        "module": "libart.so",
        "function": "art::RuntimeCallbacks::DdmPublishChunk(unsigned int, art::ArrayRef<unsigned char const> const&)::$_0::operator()() const [clone .__uniq] [clone .14038455983609747804623791479376661822]",
        "source": "",
        "file": "",
        "line": null,
        "trust": "scan"
      }
    ],
    "frame_count": 57
  }
}