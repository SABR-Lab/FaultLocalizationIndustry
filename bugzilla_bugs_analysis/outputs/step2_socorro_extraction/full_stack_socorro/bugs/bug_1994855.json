{
  "bug_id": "1994855",
  "summary": "Crash in [@ mozilla::widget::StatusBarEntry::OnMessage] (diagnostic assert)",
  "product": "Core",
  "component": "Widget: Win32",
  "creation_time": "2025-10-16T21:12:19Z",
  "crash_signatures": [
    "mozilla::widget::StatusBarEntry::OnMessage"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1994855",
  "socorro_crash_ids": [
    "03a04efd-945e-479a-addc-263fd0251015"
  ],
  "stack_source": "socorro",
  "crash_id": "03a04efd-945e-479a-addc-263fd0251015",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 0,
      "name": "MainThread"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "03a04efd-945e-479a-addc-263fd0251015",
    "frames": [
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "mozilla::widget::StatusBarEntry::OnMessage(HWND__*, unsigned int, unsigned long long, long long)",
        "source": "widget/windows/SystemStatusBar.cpp:189",
        "file": "widget/windows/SystemStatusBar.cpp",
        "line": 189,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "xul.dll",
        "function": "mozilla::widget::WindowProc(HWND__*, unsigned int, unsigned long long, long long)",
        "source": "widget/windows/SystemStatusBar.cpp:246",
        "file": "widget/windows/SystemStatusBar.cpp",
        "line": 246,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "user32.dll",
        "function": "UserCallWinProcCheckWow(_ACTIVATION_CONTEXT*, int64_t (*)(tagWND*, unsigned int, uint64_t, int64_t), HWND__*, _WM_VALUE, uint64_t, int64_t, void*, int)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "user32.dll",
        "function": "DispatchClientMessage",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "user32.dll",
        "function": "_fnDWORD",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "ntdll.dll",
        "function": "KiUserCallbackDispatch",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "win32u.dll",
        "function": "ZwUserPeekMessage",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "user32.dll",
        "function": "_PeekMessage(tagMSG*, HWND__*, unsigned int, unsigned int, unsigned int, unsigned int, int)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "user32.dll",
        "function": "PeekMessageW",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "msctf.dll",
        "function": "CThreadInputMgr::PeekMessageW(tagMSG*, HWND__*, unsigned int, unsigned int, unsigned int, int*)",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "mozilla::widget::WinUtils::PeekMessage(tagMSG*, HWND__*, unsigned int, unsigned int, unsigned int)",
        "source": "widget/windows/WinUtils.cpp:400",
        "file": "widget/windows/WinUtils.cpp",
        "line": 400,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "nsAppShell::ProcessNextNativeEvent(bool)",
        "source": "widget/windows/nsAppShell.cpp:740",
        "file": "widget/windows/nsAppShell.cpp",
        "line": 740,
        "trust": "cfi"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "nsBaseAppShell::DoProcessNextNativeEvent(bool)",
        "source": "widget/nsBaseAppShell.cpp:131",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 131,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "nsBaseAppShell::OnProcessNextEvent(nsIThreadInternal*, bool)",
        "source": "widget/nsBaseAppShell.cpp:267",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 267,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "nsThread::ProcessNextEvent(bool, bool*)",
        "source": "xpcom/threads/nsThread.cpp:1096",
        "file": "xpcom/threads/nsThread.cpp",
        "line": 1096,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "NS_ProcessNextEvent(nsIThread*, bool)",
        "source": "xpcom/threads/nsThreadUtils.cpp:462",
        "file": "xpcom/threads/nsThreadUtils.cpp",
        "line": 462,
        "trust": "cfi"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:107",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 107,
        "trust": "cfi"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:368",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 368,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:361",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 361,
        "trust": "cfi"
      },
      {
        "frame_index": 14,
        "module": "xul.dll",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:343",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 343,
        "trust": "inlined"
      },
      {
        "frame_index": 14,
        "module": "xul.dll",
        "function": "nsBaseAppShell::Run()",
        "source": "widget/nsBaseAppShell.cpp:148",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 148,
        "trust": "cfi"
      },
      {
        "frame_index": 15,
        "module": "xul.dll",
        "function": "nsAppShell::Run()",
        "source": "widget/windows/nsAppShell.cpp:673",
        "file": "widget/windows/nsAppShell.cpp",
        "line": 673,
        "trust": "cfi"
      },
      {
        "frame_index": 16,
        "module": "xul.dll",
        "function": "nsAppStartup::Run()",
        "source": "toolkit/components/startup/nsAppStartup.cpp:291",
        "file": "toolkit/components/startup/nsAppStartup.cpp",
        "line": 291,
        "trust": "cfi"
      },
      {
        "frame_index": 17,
        "module": "xul.dll",
        "function": "XREMain::XRE_mainRun()",
        "source": "toolkit/xre/nsAppRunner.cpp:5918",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 5918,
        "trust": "cfi"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "XREMain::XRE_main(int, char**, mozilla::BootstrapConfig const&)",
        "source": "toolkit/xre/nsAppRunner.cpp:6173",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 6173,
        "trust": "cfi"
      },
      {
        "frame_index": 19,
        "module": "xul.dll",
        "function": "XRE_main(int, char**, mozilla::BootstrapConfig const&)",
        "source": "toolkit/xre/nsAppRunner.cpp:6246",
        "file": "toolkit/xre/nsAppRunner.cpp",
        "line": 6246,
        "trust": "cfi"
      },
      {
        "frame_index": 20,
        "module": "firefox.exe",
        "function": "do_main(int, char**, char**)",
        "source": "browser/app/nsBrowserApp.cpp:229",
        "file": "browser/app/nsBrowserApp.cpp",
        "line": 229,
        "trust": "inlined"
      },
      {
        "frame_index": 20,
        "module": "firefox.exe",
        "function": "NS_internal_main(int, char**, char**)",
        "source": "browser/app/nsBrowserApp.cpp:487",
        "file": "browser/app/nsBrowserApp.cpp",
        "line": 487,
        "trust": "inlined"
      },
      {
        "frame_index": 20,
        "module": "firefox.exe",
        "function": "wmain(int, wchar_t**)",
        "source": "toolkit/xre/nsWindowsWMain.cpp:150",
        "file": "toolkit/xre/nsWindowsWMain.cpp",
        "line": 150,
        "trust": "cfi"
      },
      {
        "frame_index": 21,
        "module": "firefox.exe",
        "function": "invoke_main()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:90",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 90,
        "trust": "inlined"
      },
      {
        "frame_index": 21,
        "module": "firefox.exe",
        "function": "__scrt_common_main_seh()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:288",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 288,
        "trust": "cfi"
      },
      {
        "frame_index": 22,
        "module": "kernel32.dll",
        "function": "BaseThreadInitThunk",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 23,
        "module": "ntdll.dll",
        "function": "RtlUserThreadStart",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      }
    ],
    "frame_count": 33
  }
}