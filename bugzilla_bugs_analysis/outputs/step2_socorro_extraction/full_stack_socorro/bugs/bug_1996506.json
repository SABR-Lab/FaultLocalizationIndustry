{
  "bug_id": "1996506",
  "summary": "Crash in [@ NS_CycleCollectorSuspect3 | nsCycleCollectingAutoRefCnt::incr] via nsCoreUtils::GetDocShellFor",
  "product": "Core",
  "component": "Disability Access APIs",
  "creation_time": "2025-10-27T06:32:40Z",
  "crash_signatures": [
    "NS_CycleCollectorSuspect3 | nsCycleCollectingAutoRefCnt::incr"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1996506",
  "socorro_crash_ids": [
    "ad2a5767-2793-409c-9bdb-1776d0251025"
  ],
  "stack_source": "socorro",
  "crash_id": "ad2a5767-2793-409c-9bdb-1776d0251025",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 0,
      "name": "AndroidUI"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "ad2a5767-2793-409c-9bdb-1776d0251025",
    "frames": [
      {
        "frame_index": 0,
        "module": "libxul.so",
        "function": "MOZ_CrashSequence(void*, long)",
        "source": "mfbt/Assertions.h:242",
        "file": "mfbt/Assertions.h",
        "line": 242,
        "trust": "inlined"
      },
      {
        "frame_index": 0,
        "module": "libxul.so",
        "function": "NS_CycleCollectorSuspect3",
        "source": "xpcom/base/nsCycleCollector.cpp:4077",
        "file": "xpcom/base/nsCycleCollector.cpp",
        "line": 4077,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "nsCycleCollectingAutoRefCnt::incr(void*, nsCycleCollectionParticipant*)",
        "source": "xpcom/base/nsISupportsImpl.h:265",
        "file": "xpcom/base/nsISupportsImpl.h",
        "line": 265,
        "trust": "inlined"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "nsCycleCollectingAutoRefCnt::incr(nsISupports*)",
        "source": "xpcom/base/nsISupportsImpl.h:252",
        "file": "xpcom/base/nsISupportsImpl.h",
        "line": 252,
        "trust": "inlined"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "nsDocLoader::AddRef()",
        "source": "uriloader/base/nsDocLoader.cpp:194",
        "file": "uriloader/base/nsDocLoader.cpp",
        "line": 194,
        "trust": "inlined"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "nsDocShell::AddRef()",
        "source": "docshell/base/nsDocShell.cpp:572",
        "file": "docshell/base/nsDocShell.cpp",
        "line": 572,
        "trust": "inlined"
      },
      {
        "frame_index": 1,
        "module": "libxul.so",
        "function": "{virtual override thunk({offset(-392)}, nsDocShell::AddRef())}",
        "source": "docshell/base/nsDocShell.cpp:0",
        "file": "docshell/base/nsDocShell.cpp",
        "line": 0,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "mozilla::RefPtrTraits<nsIDocShell>::AddRef(nsIDocShell*)",
        "source": "mfbt/RefPtr.h:48",
        "file": "mfbt/RefPtr.h",
        "line": 48,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "nsCOMPtr<nsIDocShell>::nsCOMPtr(nsIDocShell*)",
        "source": "xpcom/base/nsCOMPtr.h:423",
        "file": "xpcom/base/nsCOMPtr.h",
        "line": 423,
        "trust": "inlined"
      },
      {
        "frame_index": 2,
        "module": "libxul.so",
        "function": "nsCoreUtils::GetDocShellFor(nsINode*)",
        "source": "accessible/base/nsCoreUtils.cpp:334",
        "file": "accessible/base/nsCoreUtils.cpp",
        "line": 334,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "libxul.so",
        "function": "mozilla::a11y::DocAccessible::NativeRole() const",
        "source": "accessible/generic/DocAccessible.cpp:191",
        "file": "accessible/generic/DocAccessible.cpp",
        "line": 191,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::Role() const",
        "source": "accessible/basetypes/Accessible.cpp:50",
        "file": "accessible/basetypes/Accessible.cpp",
        "line": 50,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::IsGeneric() const",
        "source": "accessible/basetypes/Accessible.h:700",
        "file": "accessible/basetypes/Accessible.h",
        "line": 700,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::GetNonGenericParent() const",
        "source": "accessible/basetypes/Accessible.h:710",
        "file": "accessible/basetypes/Accessible.h",
        "line": 710,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::FindAncestorIf<mozilla::a11y::Accessible::ARIATransformRole(mozilla::a11y::roles::Role) const::$_5>(mozilla::a11y::Accessible::ARIATransformRole(mozilla::a11y::roles::Role) const::$_5&&) const",
        "source": "accessible/basetypes/Accessible.h:245",
        "file": "accessible/basetypes/Accessible.h",
        "line": 245,
        "trust": "inlined"
      },
      {
        "frame_index": 5,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::ARIATransformRole(mozilla::a11y::roles::Role) const",
        "source": "accessible/basetypes/Accessible.cpp:1017",
        "file": "accessible/basetypes/Accessible.cpp",
        "line": 1017,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::Role() const",
        "source": "accessible/basetypes/Accessible.cpp:52",
        "file": "accessible/basetypes/Accessible.cpp",
        "line": 52,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "libxul.so",
        "function": "mozilla::a11y::Accessible::IsGeneric() const",
        "source": "accessible/basetypes/Accessible.h:700",
        "file": "accessible/basetypes/Accessible.h",
        "line": 700,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "libxul.so",
        "function": "mozilla::a11y::RemoteAccessible::Value(nsTString<char16_t>&) const",
        "source": "accessible/ipc/RemoteAccessible.cpp:305",
        "file": "accessible/ipc/RemoteAccessible.cpp",
        "line": 305,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "libxul.so",
        "function": "mozilla::a11y::SessionAccessibility::PopulateNodeInfo(mozilla::a11y::Accessible*, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&)",
        "source": "accessible/android/SessionAccessibility.cpp:633",
        "file": "accessible/android/SessionAccessibility.cpp",
        "line": 633,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "libxul.so",
        "function": "mozilla::a11y::SessionAccessibility::GetNodeInfo(int, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&)",
        "source": "accessible/android/SessionAccessibility.cpp:109",
        "file": "accessible/android/SessionAccessibility.cpp",
        "line": 109,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "mozilla::jni::detail::Accessor<mozilla::a11y::SessionAccessibility>::operator->*<void (mozilla::a11y::SessionAccessibility::*)(int, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&)>(void (mozilla::a11y::SessionAccessibility::*)(int, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&)) const::{lambda(auto:1&&...)#1}::operator()<int, mozilla::jni::DependentRef<mozilla::jni::Object> >(int, mozilla::jni::DependentRef<mozilla::jni::Object>&&) const",
        "source": "widget/android/jni/Natives.h:659",
        "file": "widget/android/jni/Natives.h",
        "line": 659,
        "trust": "inlined"
      },
      {
        "frame_index": 10,
        "module": "libxul.so",
        "function": "mozilla::jni::NativeStub<mozilla::java::SessionAccessibility::NativeProvider::GetNodeInfo_t, mozilla::a11y::SessionAccessibility, mozilla::jni::Args<int, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&> >::Wrap<&mozilla::a11y::SessionAccessibility(int, mozilla::jni::Ref<mozilla::jni::Object, _jobject*> const&)::GetNodeInfo>(_JNIEnv*, _jobject*, int, _jobject*)",
        "source": "widget/android/jni/Natives.h:1363",
        "file": "widget/android/jni/Natives.h",
        "line": 1363,
        "trust": "cfi"
      }
    ],
    "frame_count": 23
  }
}