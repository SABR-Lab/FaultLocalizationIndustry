{
  "bug_id": "1998185",
  "summary": "Crash in [@ NS_InputStreamIsBuffered]",
  "product": "Core",
  "component": "Networking",
  "creation_time": "2025-11-04T15:15:19Z",
  "crash_signatures": [
    "NS_InputStreamIsBuffered"
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1998185",
  "socorro_crash_ids": [
    "f61604ae-0d6b-4cfe-ba73-f31bd0250821"
  ],
  "stack_source": "socorro",
  "crash_id": "f61604ae-0d6b-4cfe-ba73-f31bd0250821",
  "socorro_metadata": {
    "signature": "",
    "crash_reason": "",
    "moz_crash_reason": "",
    "crashing_thread": {
      "index": 0,
      "name": "MainThread"
    }
  },
  "stack_trace": {
    "source": "socorro",
    "crash_id": "f61604ae-0d6b-4cfe-ba73-f31bd0250821",
    "frames": [
      {
        "frame_index": 0,
        "module": "xul.dll",
        "function": "NS_InputStreamIsBuffered(nsIInputStream*)",
        "source": "xpcom/io/nsStreamUtils.cpp:732",
        "file": "xpcom/io/nsStreamUtils.cpp",
        "line": 732,
        "trust": "context"
      },
      {
        "frame_index": 1,
        "module": "xul.dll",
        "function": "mozilla::nsMultiplexInputStream::StreamData::Initialize(nsIInputStream*)",
        "source": "xpcom/io/nsMultiplexInputStream.h:77",
        "file": "xpcom/io/nsMultiplexInputStream.h",
        "line": 77,
        "trust": "cfi"
      },
      {
        "frame_index": 2,
        "module": "xul.dll",
        "function": "mozilla::nsMultiplexInputStream::AppendStream(nsIInputStream*)",
        "source": "xpcom/io/nsMultiplexInputStream.cpp:114",
        "file": "xpcom/io/nsMultiplexInputStream.cpp",
        "line": 114,
        "trust": "cfi"
      },
      {
        "frame_index": 3,
        "module": "xul.dll",
        "function": "mozilla::nsMultiplexInputStream::Clone(nsIInputStream**)",
        "source": "xpcom/io/nsMultiplexInputStream.cpp:1054",
        "file": "xpcom/io/nsMultiplexInputStream.cpp",
        "line": 1054,
        "trust": "cfi"
      },
      {
        "frame_index": 4,
        "module": "xul.dll",
        "function": "mozilla::dom::StreamBlobImpl::CreateInputStream(nsIInputStream**, mozilla::ErrorResult&) const",
        "source": "dom/file/StreamBlobImpl.cpp:137",
        "file": "dom/file/StreamBlobImpl.cpp",
        "line": 137,
        "trust": "cfi"
      },
      {
        "frame_index": 5,
        "module": "xul.dll",
        "function": "mozilla::dom::BlobImpl::GetSendInfo(nsIInputStream**, unsigned long long*, nsTSubstring<char>&, nsTSubstring<char>&)",
        "source": "dom/file/BlobImpl.cpp:72",
        "file": "dom/file/BlobImpl.cpp",
        "line": 72,
        "trust": "cfi"
      },
      {
        "frame_index": 6,
        "module": "xul.dll",
        "function": "mozilla::dom::XMLHttpRequestMainThread::SendInternal(mozilla::dom::BodyExtractorBase const*, bool, mozilla::ErrorResult&)",
        "source": "dom/xhr/XMLHttpRequestMainThread.cpp:3166",
        "file": "dom/xhr/XMLHttpRequestMainThread.cpp",
        "line": 3166,
        "trust": "cfi"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "mozilla::dom::BodyExtractor<const mozilla::dom::URLSearchParams>::BodyExtractor(mozilla::dom::URLSearchParams const*)",
        "source": "dom/fetch/BodyExtractor.h:33",
        "file": "dom/fetch/BodyExtractor.h",
        "line": 33,
        "trust": "inlined"
      },
      {
        "frame_index": 7,
        "module": "xul.dll",
        "function": "mozilla::dom::XMLHttpRequestMainThread::Send(mozilla::dom::Nullable<mozilla::dom::DocumentOrBlobOrArrayBufferViewOrArrayBufferOrFormDataOrURLSearchParamsOrUSVString> const&, mozilla::ErrorResult&)",
        "source": "dom/xhr/XMLHttpRequestMainThread.cpp:3061",
        "file": "dom/xhr/XMLHttpRequestMainThread.cpp",
        "line": 3061,
        "trust": "cfi"
      },
      {
        "frame_index": 8,
        "module": "xul.dll",
        "function": "mozilla::dom::SendRunnable::RunOnMainThread(mozilla::ErrorResult&)",
        "source": "dom/xhr/XMLHttpRequestWorker.cpp:1329",
        "file": "dom/xhr/XMLHttpRequestWorker.cpp",
        "line": 1329,
        "trust": "cfi"
      },
      {
        "frame_index": 9,
        "module": "xul.dll",
        "function": "mozilla::dom::WorkerThreadProxySyncRunnable::MainThreadRun()",
        "source": "dom/xhr/XMLHttpRequestWorker.cpp:1172",
        "file": "dom/xhr/XMLHttpRequestWorker.cpp",
        "line": 1172,
        "trust": "cfi"
      },
      {
        "frame_index": 10,
        "module": "xul.dll",
        "function": "mozilla::dom::WorkerMainThreadRunnable::Run()",
        "source": "dom/workers/WorkerRunnable.cpp:647",
        "file": "dom/workers/WorkerRunnable.cpp",
        "line": 647,
        "trust": "cfi"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::ThrottledEventQueue::Inner::ExecuteRunnable()",
        "source": "xpcom/threads/ThrottledEventQueue.cpp:254",
        "file": "xpcom/threads/ThrottledEventQueue.cpp",
        "line": 254,
        "trust": "inlined"
      },
      {
        "frame_index": 11,
        "module": "xul.dll",
        "function": "mozilla::ThrottledEventQueue::Inner::Executor::Run()",
        "source": "xpcom/threads/ThrottledEventQueue.cpp:81",
        "file": "xpcom/threads/ThrottledEventQueue.cpp",
        "line": 81,
        "trust": "cfi"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "mozilla::RunnableTask::Run()",
        "source": "xpcom/threads/TaskController.cpp:703",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 703,
        "trust": "inlined"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "mozilla::TaskController::RunTask(mozilla::Task*)",
        "source": "xpcom/threads/TaskController.cpp:228",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 228,
        "trust": "inlined"
      },
      {
        "frame_index": 12,
        "module": "xul.dll",
        "function": "mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1310",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1310,
        "trust": "cfi"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&)",
        "source": "xpcom/threads/TaskController.cpp:1133",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 1133,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "mozilla::TaskController::ProcessPendingMTTask(bool)",
        "source": "xpcom/threads/TaskController.cpp:639",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 639,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "mozilla::TaskController::TaskController::<lambda_5>::operator()() const",
        "source": "xpcom/threads/TaskController.cpp:333",
        "file": "xpcom/threads/TaskController.cpp",
        "line": 333,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "mozilla::detail::RunnableFunction<`lambda at /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:333:7'>::Run()",
        "source": "xpcom/threads/nsThreadUtils.h:548",
        "file": "xpcom/threads/nsThreadUtils.h",
        "line": 548,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "nsThread::ProcessNextEvent(bool, bool*)",
        "source": "xpcom/threads/nsThread.cpp:1159",
        "file": "xpcom/threads/nsThread.cpp",
        "line": 1159,
        "trust": "inlined"
      },
      {
        "frame_index": 13,
        "module": "xul.dll",
        "function": "NS_ProcessNextEvent(nsIThread*, bool)",
        "source": "xpcom/threads/nsThreadUtils.cpp:480",
        "file": "xpcom/threads/nsThreadUtils.cpp",
        "line": 480,
        "trust": "cfi"
      },
      {
        "frame_index": 14,
        "module": "xul.dll",
        "function": "mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:85",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 85,
        "trust": "cfi"
      },
      {
        "frame_index": 15,
        "module": "xul.dll",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:369",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 369,
        "trust": "inlined"
      },
      {
        "frame_index": 15,
        "module": "xul.dll",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:362",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 362,
        "trust": "cfi"
      },
      {
        "frame_index": 16,
        "module": "xul.dll",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:344",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 344,
        "trust": "inlined"
      },
      {
        "frame_index": 16,
        "module": "xul.dll",
        "function": "nsBaseAppShell::Run()",
        "source": "widget/nsBaseAppShell.cpp:148",
        "file": "widget/nsBaseAppShell.cpp",
        "line": 148,
        "trust": "cfi"
      },
      {
        "frame_index": 17,
        "module": "xul.dll",
        "function": "nsAppShell::Run()",
        "source": "widget/windows/nsAppShell.cpp:673",
        "file": "widget/windows/nsAppShell.cpp",
        "line": 673,
        "trust": "cfi"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "XRE_RunAppShell()",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:647",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 647,
        "trust": "inlined"
      },
      {
        "frame_index": 18,
        "module": "xul.dll",
        "function": "mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*)",
        "source": "ipc/glue/MessagePump.cpp:235",
        "file": "ipc/glue/MessagePump.cpp",
        "line": 235,
        "trust": "cfi"
      },
      {
        "frame_index": 19,
        "module": "xul.dll",
        "function": "MessageLoop::RunInternal()",
        "source": "ipc/chromium/src/base/message_loop.cc:369",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 369,
        "trust": "inlined"
      },
      {
        "frame_index": 19,
        "module": "xul.dll",
        "function": "MessageLoop::RunHandler()",
        "source": "ipc/chromium/src/base/message_loop.cc:362",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 362,
        "trust": "cfi"
      },
      {
        "frame_index": 20,
        "module": "xul.dll",
        "function": "MessageLoop::Run()",
        "source": "ipc/chromium/src/base/message_loop.cc:344",
        "file": "ipc/chromium/src/base/message_loop.cc",
        "line": 344,
        "trust": "inlined"
      },
      {
        "frame_index": 20,
        "module": "xul.dll",
        "function": "XRE_InitChildProcess(int, char**, XREChildData const*)",
        "source": "toolkit/xre/nsEmbedFunctions.cpp:585",
        "file": "toolkit/xre/nsEmbedFunctions.cpp",
        "line": 585,
        "trust": "inlined"
      },
      {
        "frame_index": 20,
        "module": "xul.dll",
        "function": "mozilla::BootstrapImpl::XRE_InitChildProcess(int, char**, XREChildData const*)",
        "source": "toolkit/xre/Bootstrap.cpp:60",
        "file": "toolkit/xre/Bootstrap.cpp",
        "line": 60,
        "trust": "cfi"
      },
      {
        "frame_index": 21,
        "module": "firefox.exe",
        "function": "NS_internal_main(int, char**, char**)",
        "source": "browser/app/nsBrowserApp.cpp:397",
        "file": "browser/app/nsBrowserApp.cpp",
        "line": 397,
        "trust": "inlined"
      },
      {
        "frame_index": 21,
        "module": "firefox.exe",
        "function": "wmain(int, wchar_t**)",
        "source": "toolkit/xre/nsWindowsWMain.cpp:151",
        "file": "toolkit/xre/nsWindowsWMain.cpp",
        "line": 151,
        "trust": "cfi"
      },
      {
        "frame_index": 22,
        "module": "firefox.exe",
        "function": "invoke_main()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:90",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 90,
        "trust": "inlined"
      },
      {
        "frame_index": 22,
        "module": "firefox.exe",
        "function": "__scrt_common_main_seh()",
        "source": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl:288",
        "file": "/builds/worker/workspace/obj-build/browser/app/D:/a/_work/1/s/src/vctools/crt/vcstartup/src/startup/exe_common.inl",
        "line": 288,
        "trust": "cfi"
      },
      {
        "frame_index": 23,
        "module": "kernel32.dll",
        "function": "BaseThreadInitThunk",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      },
      {
        "frame_index": 24,
        "module": "ntdll.dll",
        "function": "RtlUserThreadStart",
        "source": "",
        "file": "",
        "line": null,
        "trust": "cfi"
      }
    ],
    "frame_count": 42
  }
}