{
  "bug_id": "1816074",
  "summary": "Crash in [@ nsINode::IsInNamespace]",
  "status": "VERIFIED",
  "resolution": "FIXED",
  "product": "Firefox",
  "component": "Menus",
  "version": "Trunk",
  "severity": "S2",
  "priority": "P1",
  "creation_time": "2023-02-10T09:44:49Z",
  "last_change_time": "2023-03-01T13:52:19Z",
  "is_recent": false,
  "crash_signature_raw": "[@ nsINode::IsInNamespace]",
  "crash_signatures": [
    "nsINode::IsInNamespace"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    "1805414"
  ],
  "regressions": [],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1816074",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/5c14a758-c6b0-416f-9b4c-019130230210",
      "crash_id": "5c14a758-c6b0-416f-9b4c-019130230210",
      "comment_index": 0,
      "comment_text": "Created attachment 9316978\nfolder f10 crash.webm\n\nCrash report: https://crash-stats.mozilla.org/report/index/5c14a758-c6b0-416f-9b4c-019130230210\n\nReason: ```SIGSEGV / SEGV_MAPERR```\n\nTop 10 frames of crashing thread:\n```\n0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::get const  mfbt/RefPtr.h:286\n0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::operator-> const  mfbt/RefPtr.h:316\n0  libxul.so  nsINode::IsInNamespace const  dom/base/nsINode.h:774\n0  libxul.so  nsIContent::IsXULElement const  dom/base/nsIContent.h:200\n0  libxul.so  nsIContent::IsAnyOfXULElements<nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*> const  dom/base/nsIContent.h:208\n0  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78\n1  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78\n1  libxul.so  nsXULPopupManager::MayShowMenu  layout/xul/nsXULPopupManager.cpp:714\n2  libxul.so  mozilla::dom::XULButtonElement::OpenMenuPopup  dom/xul/XULButtonElement.cpp:184\n3  libxul.so  nsMenuBarListener::KeyPress  layout/xul/nsMenuBarListener.cpp:290\n```\n**Platforms**\n- Affected: Ubuntu 22.04\n- Unaffected: Windows and macOS\n\n**Steps to Reproduce**\n1. Launch Firefox\n2. Right click on the bookmarks toolbar and select add folder\n3. Press F10 on the keyboard\n\n**Notes**\n- The crash can be seen in the added attachment\n- Happens on Firefox 111.0a1 and 110.0\n- Feel free to change the component to the right one if this isn't the correct one.\n- On Windows the menu bar is shown as expected."
    }
  ],
  "socorro_crash_ids": [
    "5c14a758-c6b0-416f-9b4c-019130230210"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 16275026,
      "comment_count": 0,
      "creator": "csasca@mozilla.com",
      "creation_time": "2023-02-10T09:44:49Z",
      "raw_text": "Created attachment 9316978\nfolder f10 crash.webm\n\nCrash report: https://crash-stats.mozilla.org/report/index/5c14a758-c6b0-416f-9b4c-019130230210\n\nReason: ```SIGSEGV / SEGV_MAPERR```\n\nTop 10 frames of crashing thread:\n```\n0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::get const  mfbt/RefPtr.h:286\n0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::operator-> const  mfbt/RefPtr.h:316\n0  libxul.so  nsINode::IsInNamespace const  dom/base/nsINode.h:774\n0  libxul.so  nsIContent::IsXULElement const  dom/base/nsIContent.h:200\n0  libxul.so  nsIContent::IsAnyOfXULElements<nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*> const  dom/base/nsIContent.h:208\n0  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78\n1  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78\n1  libxul.so  nsXULPopupManager::MayShowMenu  layout/xul/nsXULPopupManager.cpp:714\n2  libxul.so  mozilla::dom::XULButtonElement::OpenMenuPopup  dom/xul/XULButtonElement.cpp:184\n3  libxul.so  nsMenuBarListener::KeyPress  layout/xul/nsMenuBarListener.cpp:290\n```\n**Platforms**\n- Affected: Ubuntu 22.04\n- Unaffected: Windows and macOS\n\n**Steps to Reproduce**\n1. Launch Firefox\n2. Right click on the bookmarks toolbar and select add folder\n3. Press F10 on the keyboard\n\n**Notes**\n- The crash can be seen in the added attachment\n- Happens on Firefox 111.0a1 and 110.0\n- Feel free to change the component to the right one if this isn't the correct one.\n- On Windows the menu bar is shown as expected.",
      "matched_patterns": [
        "ns[A-Z]\\w+::\\w+",
        "(?i)(crash|stack)\\s*(trace|dump|report)",
        "(?i)crashing\\s+thread"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "RefPtr<mozilla::dom::NodeInfo>::get const",
          "file": "mfbt/RefPtr.h",
          "line": 286,
          "raw": "0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::get const  mfbt/RefPtr.h:286"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "RefPtr<mozilla::dom::NodeInfo>::operator-> const",
          "file": "mfbt/RefPtr.h",
          "line": 316,
          "raw": "0  libxul.so  RefPtr<mozilla::dom::NodeInfo>::operator-> const  mfbt/RefPtr.h:316"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "nsINode::IsInNamespace const",
          "file": "dom/base/nsINode.h",
          "line": 774,
          "raw": "0  libxul.so  nsINode::IsInNamespace const  dom/base/nsINode.h:774"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "nsIContent::IsXULElement const",
          "file": "dom/base/nsIContent.h",
          "line": 200,
          "raw": "0  libxul.so  nsIContent::IsXULElement const  dom/base/nsIContent.h:200"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "nsIContent::IsAnyOfXULElements<nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*> const",
          "file": "dom/base/nsIContent.h",
          "line": 208,
          "raw": "0  libxul.so  nsIContent::IsAnyOfXULElements<nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*, nsStaticAtom*> const  dom/base/nsIContent.h:208"
        },
        {
          "frame_index": 0,
          "module": "libxul.so",
          "function": "mozilla::dom::XULButtonElement::FromNode<nsIContent>",
          "file": "dom/xul/XULButtonElement.h",
          "line": 78,
          "raw": "0  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78"
        },
        {
          "frame_index": 1,
          "module": "libxul.so",
          "function": "mozilla::dom::XULButtonElement::FromNode<nsIContent>",
          "file": "dom/xul/XULButtonElement.h",
          "line": 78,
          "raw": "1  libxul.so  mozilla::dom::XULButtonElement::FromNode<nsIContent>  dom/xul/XULButtonElement.h:78"
        },
        {
          "frame_index": 1,
          "module": "libxul.so",
          "function": "nsXULPopupManager::MayShowMenu",
          "file": "layout/xul/nsXULPopupManager.cpp",
          "line": 714,
          "raw": "1  libxul.so  nsXULPopupManager::MayShowMenu  layout/xul/nsXULPopupManager.cpp:714"
        },
        {
          "frame_index": 2,
          "module": "libxul.so",
          "function": "mozilla::dom::XULButtonElement::OpenMenuPopup",
          "file": "dom/xul/XULButtonElement.cpp",
          "line": 184,
          "raw": "2  libxul.so  mozilla::dom::XULButtonElement::OpenMenuPopup  dom/xul/XULButtonElement.cpp:184"
        },
        {
          "frame_index": 3,
          "module": "libxul.so",
          "function": "nsMenuBarListener::KeyPress",
          "file": "layout/xul/nsMenuBarListener.cpp",
          "line": 290,
          "raw": "3  libxul.so  nsMenuBarListener::KeyPress  layout/xul/nsMenuBarListener.cpp:290"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10,
  "regressor_count": 1,
  "source": "step1",
  "bugzilla_status": "VERIFIED",
  "bugzilla_resolution": "FIXED",
  "bugzilla_lookup_timestamp": "2025-12-15T15:53:28.604897"
}