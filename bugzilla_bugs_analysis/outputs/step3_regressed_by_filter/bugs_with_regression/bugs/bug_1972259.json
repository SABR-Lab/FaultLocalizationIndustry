{
  "bug_id": "1972259",
  "summary": "Crash in [@ webrender::resource_cache::ResourceCache::render_as_image] when detaching a tab with an active view transition.",
  "status": "VERIFIED",
  "resolution": "FIXED",
  "product": "Core",
  "component": "Graphics: WebRender",
  "version": "unspecified",
  "severity": "--",
  "priority": "--",
  "creation_time": "2025-06-16T04:49:37Z",
  "last_change_time": "2025-08-13T07:25:08Z",
  "is_recent": false,
  "crash_signature_raw": "[@ webrender::resource_cache::ResourceCache::render_as_image]",
  "crash_signatures": [
    "webrender::resource_cache::ResourceCache::render_as_image"
  ],
  "keywords": [
    "crash",
    "regression"
  ],
  "regressed_by": [
    "1953823"
  ],
  "regressions": [
    1972835
  ],
  "bugzilla_url": "https://bugzilla.mozilla.org/show_bug.cgi?id=1972259",
  "socorro_links": [
    {
      "url": "https://crash-stats.mozilla.org/report/index/29437238-b87f-4a85-a1d0-c70830250616",
      "crash_id": "29437238-b87f-4a85-a1d0-c70830250616",
      "comment_index": 0,
      "comment_text": "Created attachment 9494824\nVT - crash on detaching tab.html\n\nCrash report: https://crash-stats.mozilla.org/report/index/29437238-b87f-4a85-a1d0-c70830250616\n\nMOZ_CRASH Reason:\n```\ncalled `Option::unwrap()` on a `None` value\n```\n\nTop 10 frames:\n```\n0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381\n0  xul.dll  RustMozCrash(char const*, int, char const*)  mozglue/static/rust/wrappers.cpp:18\n1  xul.dll  mozglue_static::panic_hook(std::panic::PanicHookInfo*)  mozglue/static/rust/lib.rs:99\n2  xul.dll  core::ops::function::Fn::call<void (*)(ref$<std::panic::PanicHookInfo>), tupl...  /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library/core/src/ops/function.rs:250\n3  xul.dll  alloc::boxed::impl$30::call()  library/alloc/src/boxed.rs:1990\n3  xul.dll  std::panicking::rust_panic_with_hook()  library/std/src/panicking.rs:839\n4  xul.dll  std::panicking::begin_panic_handler::closure$0()  library/std/src/panicking.rs:697\n5  xul.dll  std::sys::backtrace::__rust_end_short_backtrace<std::panicking::begin_panic_h...  library/std/src/sys/backtrace.rs:168\n6  xul.dll  std::panicking::begin_panic_handler()  library/std/src/panicking.rs:695\n7  xul.dll  core::panicking::panic_fmt()  library/core/src/panicking.rs:75\n```\n\n\n\nSTR:\nOpen google.com in a tab and the testcase in another tab\nLet the testcase run for 10-15 seconds\nNow repeatedly and rapidly detach-and-reattach the tab with testcase\n\nAR: Crash\nER: Not so\n\nDisclaimer: testcase generated by chatgpt, but STR are mine."
    }
  ],
  "socorro_crash_ids": [
    "29437238-b87f-4a85-a1d0-c70830250616"
  ],
  "has_socorro_link": true,
  "has_direct_crash_id": true,
  "stack_traces": [
    {
      "comment_id": 17538192,
      "comment_count": 0,
      "creator": "mayankleoboy1@gmail.com",
      "creation_time": "2025-06-16T04:49:37Z",
      "raw_text": "Created attachment 9494824\nVT - crash on detaching tab.html\n\nCrash report: https://crash-stats.mozilla.org/report/index/29437238-b87f-4a85-a1d0-c70830250616\n\nMOZ_CRASH Reason:\n```\ncalled `Option::unwrap()` on a `None` value\n```\n\nTop 10 frames:\n```\n0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381\n0  xul.dll  RustMozCrash(char const*, int, char const*)  mozglue/static/rust/wrappers.cpp:18\n1  xul.dll  mozglue_static::panic_hook(std::panic::PanicHookInfo*)  mozglue/static/rust/lib.rs:99\n2  xul.dll  core::ops::function::Fn::call<void (*)(ref$<std::panic::PanicHookInfo>), tupl...  /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library/core/src/ops/function.rs:250\n3  xul.dll  alloc::boxed::impl$30::call()  library/alloc/src/boxed.rs:1990\n3  xul.dll  std::panicking::rust_panic_with_hook()  library/std/src/panicking.rs:839\n4  xul.dll  std::panicking::begin_panic_handler::closure$0()  library/std/src/panicking.rs:697\n5  xul.dll  std::sys::backtrace::__rust_end_short_backtrace<std::panicking::begin_panic_h...  library/std/src/sys/backtrace.rs:168\n6  xul.dll  std::panicking::begin_panic_handler()  library/std/src/panicking.rs:695\n7  xul.dll  core::panicking::panic_fmt()  library/core/src/panicking.rs:75\n```\n\n\n\nSTR:\nOpen google.com in a tab and the testcase in another tab\nLet the testcase run for 10-15 seconds\nNow repeatedly and rapidly detach-and-reattach the tab with testcase\n\nAR: Crash\nER: Not so\n\nDisclaimer: testcase generated by chatgpt, but STR are mine.",
      "matched_patterns": [
        "(?i)(crash|stack)\\s*(trace|dump|report)"
      ],
      "parsed_frames": [
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "MOZ_Crash(char const*, int, char const*)",
          "file": "mfbt/Assertions.h",
          "line": 381,
          "raw": "0  xul.dll  MOZ_Crash(char const*, int, char const*)  mfbt/Assertions.h:381"
        },
        {
          "frame_index": 0,
          "module": "xul.dll",
          "function": "RustMozCrash(char const*, int, char const*)",
          "file": "mozglue/static/rust/wrappers.cpp",
          "line": 18,
          "raw": "0  xul.dll  RustMozCrash(char const*, int, char const*)  mozglue/static/rust/wrappers.cpp:18"
        },
        {
          "frame_index": 1,
          "module": "xul.dll",
          "function": "mozglue_static::panic_hook(std::panic::PanicHookInfo*)",
          "file": "mozglue/static/rust/lib.rs",
          "line": 99,
          "raw": "1  xul.dll  mozglue_static::panic_hook(std::panic::PanicHookInfo*)  mozglue/static/rust/lib.rs:99"
        },
        {
          "frame_index": 2,
          "module": "xul.dll",
          "function": "core::ops::function::Fn::call<void (*)(ref$<std::panic::PanicHookInfo>), tupl...",
          "file": "/rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library/core/src/ops/function.rs",
          "line": 250,
          "raw": "2  xul.dll  core::ops::function::Fn::call<void (*)(ref$<std::panic::PanicHookInfo>), tupl...  /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library/core/src/ops/function.rs:250"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "alloc::boxed::impl$30::call()",
          "file": "library/alloc/src/boxed.rs",
          "line": 1990,
          "raw": "3  xul.dll  alloc::boxed::impl$30::call()  library/alloc/src/boxed.rs:1990"
        },
        {
          "frame_index": 3,
          "module": "xul.dll",
          "function": "std::panicking::rust_panic_with_hook()",
          "file": "library/std/src/panicking.rs",
          "line": 839,
          "raw": "3  xul.dll  std::panicking::rust_panic_with_hook()  library/std/src/panicking.rs:839"
        },
        {
          "frame_index": 4,
          "module": "xul.dll",
          "function": "std::panicking::begin_panic_handler::closure$0()",
          "file": "library/std/src/panicking.rs",
          "line": 697,
          "raw": "4  xul.dll  std::panicking::begin_panic_handler::closure$0()  library/std/src/panicking.rs:697"
        },
        {
          "frame_index": 5,
          "module": "xul.dll",
          "function": "std::sys::backtrace::__rust_end_short_backtrace<std::panicking::begin_panic_h...",
          "file": "library/std/src/sys/backtrace.rs",
          "line": 168,
          "raw": "5  xul.dll  std::sys::backtrace::__rust_end_short_backtrace<std::panicking::begin_panic_h...  library/std/src/sys/backtrace.rs:168"
        },
        {
          "frame_index": 6,
          "module": "xul.dll",
          "function": "std::panicking::begin_panic_handler()",
          "file": "library/std/src/panicking.rs",
          "line": 695,
          "raw": "6  xul.dll  std::panicking::begin_panic_handler()  library/std/src/panicking.rs:695"
        },
        {
          "frame_index": 7,
          "module": "xul.dll",
          "function": "core::panicking::panic_fmt()",
          "file": "library/core/src/panicking.rs",
          "line": 75,
          "raw": "7  xul.dll  core::panicking::panic_fmt()  library/core/src/panicking.rs:75"
        }
      ],
      "frame_count": 10
    }
  ],
  "has_stack_traces": true,
  "stack_trace_count": 1,
  "total_parsed_frames": 10,
  "regressor_count": 1,
  "source": "step1",
  "bugzilla_status": "VERIFIED",
  "bugzilla_resolution": "FIXED",
  "bugzilla_lookup_timestamp": "2025-12-15T15:53:28.605508"
}