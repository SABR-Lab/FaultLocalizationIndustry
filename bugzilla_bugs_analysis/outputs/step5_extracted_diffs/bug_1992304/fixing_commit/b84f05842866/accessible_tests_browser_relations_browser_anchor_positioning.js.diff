# ==============================================================================
# FIXING COMMIT DIFF
# ==============================================================================
# File: accessible/tests/browser/relations/browser_anchor_positioning.js
# Commit: b84f05842866
# Full Hash: b84f0584286648310ed281a7e46de3e30d611692
# Author: Eitan Isaacson <eitan@monotonous.org>
# Date: 2025-10-06 21:18 +0000
# Description:
#   Bug 1992304 - Check for AnchorPosReferences property before using it. r=morgan
# ==============================================================================

diff -r 2f326bbc1394 -r b84f05842866 accessible/tests/browser/relations/browser_anchor_positioning.js
--- a/accessible/tests/browser/relations/browser_anchor_positioning.js	Mon Oct 06 21:14:15 2025 +0000
+++ b/accessible/tests/browser/relations/browser_anchor_positioning.js	Mon Oct 06 21:18:12 2025 +0000
@@ -567,3 +567,52 @@
   },
   { chrome: true, topLevel: true }
 );
+
+/**
+ * Test multi columns colspan
+ */
+addAccessibleTask(
+  `
+<style>
+  .columns {
+    column-count: 2;
+    column-fill: auto;
+  }
+
+  .colspan {
+    column-span: all;
+  }
+
+  .spacer {
+    height: 10px;
+  }
+
+  #anchor {
+    anchor-name: --a1;
+    margin-left: 10px;
+    width: 40px;
+  }
+
+  #target {
+    position: absolute;
+    left: anchor(--a1 left);
+    top: anchor(--a1 top);
+    width: 150px;
+    height: 60px;
+  }
+</style>
+
+<div class="columns">
+  <div id="target" role="group"></div>
+  <div id="anchor" role="group">
+    <div class="spacer"></div>
+    <div class="colspan" style="height: 20px"></div>
+  </div>
+</div>`,
+  async function testTooltipPositionAnchor(browser, docAcc) {
+    const anchor = findAccessibleChildByID(docAcc, "anchor");
+    const target = findAccessibleChildByID(docAcc, "target");
+    await testDetailsRelations(anchor, target);
+  },
+  { chrome: true, topLevel: true }
+);
