{
  "bug_id": "1991250",
  "processing_timestamp": "2025-12-16T09:31:57.972291",
  "files": [
    {
      "filepath": "dom/script/ScriptLoader.cpp",
      "fixing_commits": [
        {
          "commit_hash": "076b1c7a5a67",
          "full_hash": "076b1c7a5a67d4851837a37573be1624d966f921",
          "parent_hash": "4e0dfe8abeeaa71cbcd0087bb20995793625c953",
          "commit_type": "fixing",
          "filepath": "dom/script/ScriptLoader.cpp",
          "diff_found": true,
          "diff_path": "/Users/sidiqafekrat/Mozilla_crashAnalyzer_BugBug/method2_bugzilla_bugs/outputs/step5_extracted_diffs/bug_1991250/fixing_commit/076b1c7a5a67/dom_script_ScriptLoader.cpp.diff",
          "methods_count": 142,
          "matched_methods": {
            "fully_modified": [],
            "partially_modified": [
              {
                "name": "CalculateCacheFlag",
                "type": "method",
                "start_line": 2707,
                "end_line": 2877,
                "line_count": 171,
                "signature": "void ScriptLoader::CalculateCacheFlag(ScriptLoadRequest* aRequest) { using mozilla::TimeDuration; using mozilla::TimeStamp;",
                "changed_lines": [
                  2869,
                  2870,
                  2871,
                  2872,
                  2873,
                  2874,
                  2875
                ],
                "overlap_count": 7,
                "overlap_percentage": 4.1
              }
            ],
            "unmodified": [
              {
                "name": "OnShutdown",
                "type": "method",
                "start_line": 127,
                "end_line": 132,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::OnShutdown() { if (mScriptLoader) { mScriptLoader->Destroy();"
              },
              {
                "name": "Unregister",
                "type": "method",
                "start_line": 134,
                "end_line": 139,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::Unregister() { if (mScriptLoader) { mScriptLoader = nullptr;"
              },
              {
                "name": "Observe",
                "type": "method",
                "start_line": 141,
                "end_line": 146,
                "line_count": 6,
                "signature": "NS_IMETHODIMP AsyncCompileShutdownObserver::Observe(nsISupports* aSubject, const char* aTopic, const char16_t* aData) {"
              },
              {
                "name": "ImplCycleCollectionUnlink",
                "type": "function",
                "start_line": 152,
                "end_line": 154,
                "line_count": 3,
                "signature": "inline void ImplCycleCollectionUnlink(ScriptLoader::PreloadInfo& aField) { ImplCycleCollectionUnlink(aField.mRequest); }"
              },
              {
                "name": "ImplCycleCollectionTraverse",
                "type": "function",
                "start_line": 156,
                "end_line": 160,
                "line_count": 5,
                "signature": "inline void ImplCycleCollectionTraverse( nsCycleCollectionTraversalCallback& aCallback, ScriptLoader::PreloadInfo& aField, const char* aName, uint32_t aFlags = 0) {"
              },
              {
                "name": "ScriptLoader",
                "type": "method",
                "start_line": 195,
                "end_line": 232,
                "line_count": 38,
                "signature": "ScriptLoader::ScriptLoader(Document* aDocument) : mDocument(aDocument), mParserBlockingBlockerCount(0),"
              },
              {
                "name": "SetGlobalObject",
                "type": "method",
                "start_line": 287,
                "end_line": 305,
                "line_count": 19,
                "signature": "void ScriptLoader::SetGlobalObject(nsIGlobalObject* aGlobalObject) { if (!aGlobalObject) { // The document is being detached."
              },
              {
                "name": "DropDocumentReference",
                "type": "method",
                "start_line": 307,
                "end_line": 313,
                "line_count": 7,
                "signature": "void ScriptLoader::DropDocumentReference() { if (mDocument && mCache) { DeregisterFromCache();"
              },
              {
                "name": "RegisterToCache",
                "type": "method",
                "start_line": 315,
                "end_line": 320,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterToCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "DeregisterFromCache",
                "type": "method",
                "start_line": 322,
                "end_line": 328,
                "line_count": 7,
                "signature": "void ScriptLoader::DeregisterFromCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "ShouldBypassCache",
                "type": "method",
                "start_line": 338,
                "end_line": 340,
                "line_count": 3,
                "signature": "bool ScriptLoader::ShouldBypassCache() const { return mDocument && nsContentUtils::ShouldBypassSubResourceCache(mDocument); }"
              },
              {
                "name": "RegisterContentScriptModuleLoader",
                "type": "method",
                "start_line": 342,
                "end_line": 347,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterContentScriptModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "RegisterShadowRealmModuleLoader",
                "type": "method",
                "start_line": 349,
                "end_line": 354,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterShadowRealmModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "CollectScriptTelemetry",
                "type": "function",
                "start_line": 358,
                "end_line": 385,
                "line_count": 28,
                "signature": "static void CollectScriptTelemetry(ScriptLoadRequest* aRequest) { using namespace mozilla::glean::dom; "
              },
              {
                "name": "IsScriptEventHandler",
                "type": "function",
                "start_line": 395,
                "end_line": 428,
                "line_count": 34,
                "signature": "static bool IsScriptEventHandler(ScriptKind kind, nsIContent* aScriptElement) { if (kind != ScriptKind::eClassic) { return false;"
              },
              {
                "name": "ScriptLoadRequestToContentPolicyType",
                "type": "function",
                "start_line": 430,
                "end_line": 463,
                "line_count": 34,
                "signature": "nsContentPolicyType ScriptLoadRequestToContentPolicyType( ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsPreload()) {"
              },
              {
                "name": "ComputeRequestModeForContentPolicy",
                "type": "function",
                "start_line": 465,
                "end_line": 475,
                "line_count": 11,
                "signature": "RequestMode ComputeRequestModeForContentPolicy( const ScriptLoadRequest* aRequest) { auto corsMapping ="
              },
              {
                "name": "CheckContentPolicy",
                "type": "method",
                "start_line": 477,
                "end_line": 518,
                "line_count": 42,
                "signature": "nsresult ScriptLoader::CheckContentPolicy(nsIScriptElement* aElement, const nsAString& aNonce, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "IsAboutPageLoadingChromeURI",
                "type": "method",
                "start_line": 521,
                "end_line": 565,
                "line_count": 45,
                "signature": "bool ScriptLoader::IsAboutPageLoadingChromeURI(ScriptLoadRequest* aRequest, Document* aDocument) { // if the uri to be loaded is not of scheme chrome:, there is nothing to do."
              },
              {
                "name": "ScriptRequestProcessor",
                "type": "function",
                "start_line": 578,
                "end_line": 581,
                "line_count": 4,
                "signature": "ScriptRequestProcessor(ScriptLoader* aLoader, ScriptLoadRequest* aRequest) : Runnable(\"dom::ScriptRequestProcessor\"), mLoader(aLoader),"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 582,
                "end_line": 582,
                "line_count": 1,
                "signature": "NS_IMETHOD Run() override { return mLoader->ProcessRequest(mRequest); } }; "
              },
              {
                "name": "RunScriptWhenSafe",
                "type": "method",
                "start_line": 585,
                "end_line": 588,
                "line_count": 4,
                "signature": "void ScriptLoader::RunScriptWhenSafe(ScriptLoadRequest* aRequest) { auto* runnable = new ScriptRequestProcessor(this, aRequest); nsContentUtils::AddScriptRunner(runnable);"
              },
              {
                "name": "RestartLoad",
                "type": "method",
                "start_line": 590,
                "end_line": 613,
                "line_count": 24,
                "signature": "nsresult ScriptLoader::RestartLoad(ScriptLoadRequest* aRequest) { aRequest->DropBytecode(); TRACE_FOR_TEST(aRequest, \"scriptloader_fallback\");"
              },
              {
                "name": "StartLoad",
                "type": "method",
                "start_line": 615,
                "end_line": 623,
                "line_count": 9,
                "signature": "nsresult ScriptLoader::StartLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CORSModeToSecurityFlags",
                "type": "function",
                "start_line": 625,
                "end_line": 634,
                "line_count": 10,
                "signature": "static nsSecurityFlags CORSModeToSecurityFlags(CORSMode aCORSMode) { nsSecurityFlags securityFlags = nsContentSecurityManager::ComputeSecurityFlags("
              },
              {
                "name": "StartClassicLoad",
                "type": "method",
                "start_line": 636,
                "end_line": 667,
                "line_count": 32,
                "signature": "nsresult ScriptLoader::StartClassicLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "IsWebExtensionRequest",
                "type": "function",
                "start_line": 669,
                "end_line": 677,
                "line_count": 9,
                "signature": "static bool IsWebExtensionRequest(ScriptLoadRequest* aRequest) { if (!aRequest->IsModuleRequest()) { return false;"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 679,
                "end_line": 693,
                "line_count": 15,
                "signature": "static nsresult CreateChannelForScriptLoading( nsIChannel** aOutChannel, Document* aDocument, nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 695,
                "end_line": 712,
                "line_count": 18,
                "signature": "static nsresult CreateChannelForScriptLoading(nsIChannel** aOutChannel, Document* aDocument, ScriptLoadRequest* aRequest,"
              },
              {
                "name": "PrepareLoadInfoForScriptLoading",
                "type": "function",
                "start_line": 714,
                "end_line": 721,
                "line_count": 8,
                "signature": "static void PrepareLoadInfoForScriptLoading(nsIChannel* aChannel, const ScriptLoadRequest* aRequest) { nsCOMPtr<nsILoadInfo> loadInfo = aChannel->LoadInfo();"
              },
              {
                "name": "PrepareCacheInfoChannel",
                "type": "method",
                "start_line": 724,
                "end_line": 754,
                "line_count": 31,
                "signature": "void ScriptLoader::PrepareCacheInfoChannel(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { // To avoid decoding issues, the build-id is part of the bytecode MIME type"
              },
              {
                "name": "AdjustPriorityAndClassOfServiceForLinkPreloadScripts",
                "type": "function",
                "start_line": 756,
                "end_line": 794,
                "line_count": 39,
                "signature": "static void AdjustPriorityAndClassOfServiceForLinkPreloadScripts( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "AdjustPriorityForNonLinkPreloadScripts",
                "type": "function",
                "start_line": 796,
                "end_line": 846,
                "line_count": 51,
                "signature": "void AdjustPriorityForNonLinkPreloadScripts(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(!aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "PrepareRequestPriorityAndRequestDependencies",
                "type": "method",
                "start_line": 849,
                "end_line": 890,
                "line_count": 42,
                "signature": "void ScriptLoader::PrepareRequestPriorityAndRequestDependencies( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsLinkPreloadScript()) {"
              },
              {
                "name": "GetInitiatorType",
                "type": "function",
                "start_line": 892,
                "end_line": 902,
                "line_count": 11,
                "signature": "inline nsLiteralString GetInitiatorType(ScriptLoadRequest* aRequest) { if (aRequest->mEarlyHintPreloaderId) { return u\"early-hints\"_ns;"
              },
              {
                "name": "PrepareHttpRequestAndInitiatorType",
                "type": "method",
                "start_line": 905,
                "end_line": 939,
                "line_count": 35,
                "signature": "nsresult ScriptLoader::PrepareHttpRequestAndInitiatorType( nsIChannel* aChannel, ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "PrepareIncrementalStreamLoader",
                "type": "method",
                "start_line": 941,
                "end_line": 958,
                "line_count": 18,
                "signature": "nsresult ScriptLoader::PrepareIncrementalStreamLoader( nsIIncrementalStreamLoader** aOutLoader, nsIChannel* aChannel, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "StartLoadInternal",
                "type": "method",
                "start_line": 960,
                "end_line": 1031,
                "line_count": 72,
                "signature": "nsresult ScriptLoader::StartLoadInternal( ScriptLoadRequest* aRequest, nsSecurityFlags securityFlags, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CSPAllowsInlineScript",
                "type": "function",
                "start_line": 1039,
                "end_line": 1062,
                "line_count": 24,
                "signature": "static bool CSPAllowsInlineScript(nsIScriptElement* aElement, const nsAString& aSourceText, const nsAString& aNonce,"
              },
              {
                "name": "FetchPriorityToRequestPriority",
                "type": "function",
                "start_line": 1065,
                "end_line": 1078,
                "line_count": 14,
                "signature": "RequestPriority FetchPriorityToRequestPriority( const FetchPriority aFetchPriority) { switch (aFetchPriority) {"
              },
              {
                "name": "NotifyObserversForCachedScript",
                "type": "method",
                "start_line": 1081,
                "end_line": 1115,
                "line_count": 35,
                "signature": "void ScriptLoader::NotifyObserversForCachedScript( nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal, nsSecurityFlags aSecurityFlags, nsContentPolicyType aContentPolicyType,"
              },
              {
                "name": "CreateLoadRequest",
                "type": "method",
                "start_line": 1117,
                "end_line": 1148,
                "line_count": 32,
                "signature": "already_AddRefed<ScriptLoadRequest> ScriptLoader::CreateLoadRequest( ScriptKind aKind, nsIURI* aURI, nsIScriptElement* aElement, const nsAString& aScriptContent, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "TryUseCache",
                "type": "method",
                "start_line": 1150,
                "end_line": 1190,
                "line_count": 41,
                "signature": "void ScriptLoader::TryUseCache(ScriptLoadRequest* aRequest, nsIScriptElement* aElement, const nsAString& aNonce,"
              },
              {
                "name": "StoreCacheInfo",
                "type": "method",
                "start_line": 1192,
                "end_line": 1205,
                "line_count": 14,
                "signature": "void ScriptLoader::StoreCacheInfo(LoadedScript* aLoadedScript, ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->mCacheInfo);"
              },
              {
                "name": "EmulateNetworkEvents",
                "type": "method",
                "start_line": 1207,
                "end_line": 1237,
                "line_count": 31,
                "signature": "void ScriptLoader::EmulateNetworkEvents(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsStencil()); MOZ_ASSERT(aRequest->mNetworkMetadata);"
              },
              {
                "name": "ProcessScriptElement",
                "type": "method",
                "start_line": 1239,
                "end_line": 1282,
                "line_count": 44,
                "signature": "bool ScriptLoader::ProcessScriptElement(nsIScriptElement* aElement, const nsAString& aSourceText) { // We need a document to evaluate scripts."
              },
              {
                "name": "GetParserMetadata",
                "type": "function",
                "start_line": 1284,
                "end_line": 1288,
                "line_count": 5,
                "signature": "static ParserMetadata GetParserMetadata(nsIScriptElement* aElement) { return aElement->GetParserCreated() == mozilla::dom::NOT_FROM_PARSER ? ParserMetadata::NotParserInserted"
              },
              {
                "name": "ProcessExternalScript",
                "type": "method",
                "start_line": 1290,
                "end_line": 1566,
                "line_count": 277,
                "signature": "bool ScriptLoader::ProcessExternalScript(nsIScriptElement* aElement, ScriptKind aScriptKind, nsIContent* aScriptContent) {"
              },
              {
                "name": "ProcessInlineScript",
                "type": "method",
                "start_line": 1568,
                "end_line": 1749,
                "line_count": 182,
                "signature": "bool ScriptLoader::ProcessInlineScript(nsIScriptElement* aElement, ScriptKind aScriptKind, const nsAString& aSourceText) {"
              },
              {
                "name": "GetSRIMetadata",
                "type": "method",
                "start_line": 1817,
                "end_line": 1835,
                "line_count": 19,
                "signature": "void ScriptLoader::GetSRIMetadata(const nsAString& aIntegrityAttr, SRIMetadata* aMetadataOut) { MOZ_ASSERT(aMetadataOut->IsEmpty());"
              },
              {
                "name": "GetReferrerPolicy",
                "type": "method",
                "start_line": 1837,
                "end_line": 1843,
                "line_count": 7,
                "signature": "ReferrerPolicy ScriptLoader::GetReferrerPolicy(nsIScriptElement* aElement) { ReferrerPolicy scriptReferrerPolicy = aElement->GetReferrerPolicy(); if (scriptReferrerPolicy != ReferrerPolicy::_empty) {"
              },
              {
                "name": "CancelAndClearScriptLoadRequests",
                "type": "method",
                "start_line": 1845,
                "end_line": 1877,
                "line_count": 33,
                "signature": "void ScriptLoader::CancelAndClearScriptLoadRequests() { // Cancel all requests that have not been executed and remove them. "
              },
              {
                "name": "CompileOffThreadOrProcessRequest",
                "type": "method",
                "start_line": 1879,
                "end_line": 1900,
                "line_count": 22,
                "signature": "nsresult ScriptLoader::CompileOffThreadOrProcessRequest( ScriptLoadRequest* aRequest) { NS_ASSERTION(nsContentUtils::IsSafeToRunScript(),"
              },
              {
                "name": "OffThreadCompilationCompleteTask",
                "type": "function",
                "start_line": 1906,
                "end_line": 1912,
                "line_count": 7,
                "signature": "OffThreadCompilationCompleteTask(ScriptLoadRequest* aRequest, ScriptLoader* aLoader) : Task(Kind::MainThreadOnly, EventQueuePriority::Normal),"
              },
              {
                "name": "RecordStartTime",
                "type": "method",
                "start_line": 1914,
                "end_line": 1914,
                "line_count": 1,
                "signature": "void RecordStartTime() { mStartTime = TimeStamp::Now(); } void RecordStopTime() { mStopTime = TimeStamp::Now(); } "
              },
              {
                "name": "RecordStopTime",
                "type": "method",
                "start_line": 1915,
                "end_line": 1915,
                "line_count": 1,
                "signature": "void RecordStopTime() { mStopTime = TimeStamp::Now(); }  #ifdef MOZ_COLLECTING_RUNNABLE_TELEMETRY"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 1918,
                "end_line": 1921,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"dom::OffThreadCompilationCompleteTask\"); return true;"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 1924,
                "end_line": 1957,
                "line_count": 34,
                "signature": "TaskResult Run() override { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "AttemptOffThreadScriptCompile",
                "type": "method",
                "start_line": 1986,
                "end_line": 2084,
                "line_count": 99,
                "signature": "nsresult ScriptLoader::AttemptOffThreadScriptCompile( ScriptLoadRequest* aRequest, bool* aCouldCompileOut) { // If speculative parsing is enabled, the request may not be ready to run if"
              },
              {
                "name": "CompileOrDecodeTask",
                "type": "method",
                "start_line": 2086,
                "end_line": 2089,
                "line_count": 4,
                "signature": "CompileOrDecodeTask::CompileOrDecodeTask() : Task(Kind::OffMainThreadOnly, EventQueuePriority::Normal), mMutex(\"CompileOrDecodeTask\"),"
              },
              {
                "name": "InitFrontendContext",
                "type": "method",
                "start_line": 2098,
                "end_line": 2105,
                "line_count": 8,
                "signature": "nsresult CompileOrDecodeTask::InitFrontendContext() { mFrontendContext = JS::NewFrontendContext(); if (!mFrontendContext) {"
              },
              {
                "name": "DidRunTask",
                "type": "method",
                "start_line": 2107,
                "end_line": 2117,
                "line_count": 11,
                "signature": "void CompileOrDecodeTask::DidRunTask(const MutexAutoLock& aProofOfLock, RefPtr<JS::Stencil>&& aStencil) { if (aStencil) {"
              },
              {
                "name": "StealResult",
                "type": "method",
                "start_line": 2119,
                "end_line": 2151,
                "line_count": 33,
                "signature": "already_AddRefed<JS::Stencil> CompileOrDecodeTask::StealResult( JSContext* aCx, JS::InstantiationStorage* aInstantiationStorage) { JS::FrontendContext* fc = mFrontendContext;"
              },
              {
                "name": "Cancel",
                "type": "method",
                "start_line": 2153,
                "end_line": 2159,
                "line_count": 7,
                "signature": "void CompileOrDecodeTask::Cancel() { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "ScriptOrModuleCompileTask",
                "type": "function",
                "start_line": 2166,
                "end_line": 2168,
                "line_count": 3,
                "signature": "explicit ScriptOrModuleCompileTask( ScriptLoader::MaybeSourceText&& aMaybeSource) : CompileOrDecodeTask(), mMaybeSource(std::move(aMaybeSource)) {}"
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2170,
                "end_line": 2180,
                "line_count": 11,
                "signature": "nsresult Init(JS::CompileOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2182,
                "end_line": 2193,
                "line_count": 12,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Compile",
                "type": "method",
                "start_line": 2196,
                "end_line": 2210,
                "line_count": 15,
                "signature": "already_AddRefed<JS::Stencil> Compile() { size_t stackSize = TaskController::GetThreadStackSize(); JS::SetNativeStackQuota(mFrontendContext,"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2214,
                "end_line": 2221,
                "line_count": 8,
                "signature": "bool GetName(nsACString& aName) override { if constexpr (target == CompilationTarget::Script) { aName.AssignLiteral(\"ScriptCompileTask\");"
              },
              {
                "name": "ScriptDecodeTask",
                "type": "function",
                "start_line": 2235,
                "end_line": 2236,
                "line_count": 2,
                "signature": "explicit ScriptDecodeTask(const JS::TranscodeRange& aRange) : mRange(aRange) {} "
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2238,
                "end_line": 2248,
                "line_count": 11,
                "signature": "nsresult Init(JS::DecodeOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2250,
                "end_line": 2265,
                "line_count": 16,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Decode",
                "type": "method",
                "start_line": 2268,
                "end_line": 2275,
                "line_count": 8,
                "signature": "already_AddRefed<JS::Stencil> Decode() { // NOTE: JS::DecodeStencil doesn't need the stack quota. "
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2279,
                "end_line": 2282,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"ScriptDecodeTask\"); return true;"
              },
              {
                "name": "CreateOffThreadTask",
                "type": "method",
                "start_line": 2291,
                "end_line": 2356,
                "line_count": 66,
                "signature": "nsresult ScriptLoader::CreateOffThreadTask( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions& aOptions, CompileOrDecodeTask** aCompileOrDecodeTask) {"
              },
              {
                "name": "ProcessOffThreadRequest",
                "type": "method",
                "start_line": 2358,
                "end_line": 2414,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::ProcessOffThreadRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsCompiling()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mWasCompiledOMT);"
              },
              {
                "name": "ProcessRequest",
                "type": "method",
                "start_line": 2416,
                "end_line": 2545,
                "line_count": 130,
                "signature": "nsresult ScriptLoader::ProcessRequest(ScriptLoadRequest* aRequest) { LOG((\"ScriptLoadRequest (%p): Process request\", aRequest)); "
              },
              {
                "name": "FireScriptAvailable",
                "type": "method",
                "start_line": 2547,
                "end_line": 2565,
                "line_count": 19,
                "signature": "void ScriptLoader::FireScriptAvailable(nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "FireScriptEvaluated",
                "type": "method",
                "start_line": 2568,
                "end_line": 2582,
                "line_count": 15,
                "signature": "MOZ_CAN_RUN_SCRIPT_BOUNDARY void ScriptLoader::FireScriptEvaluated( nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "GetGlobalForRequest",
                "type": "method",
                "start_line": 2584,
                "end_line": 2594,
                "line_count": 11,
                "signature": "already_AddRefed<nsIGlobalObject> ScriptLoader::GetGlobalForRequest( ScriptLoadRequest* aRequest) { if (aRequest->IsModuleRequest()) {"
              },
              {
                "name": "GetScriptGlobalObject",
                "type": "method",
                "start_line": 2596,
                "end_line": 2616,
                "line_count": 21,
                "signature": "already_AddRefed<nsIScriptGlobalObject> ScriptLoader::GetScriptGlobalObject() { if (!mDocument) { return nullptr;"
              },
              {
                "name": "ApplyEagerBaselineStrategy",
                "type": "function",
                "start_line": 2618,
                "end_line": 2642,
                "line_count": 25,
                "signature": "static void ApplyEagerBaselineStrategy(JS::CompileOptions* aOptions) { uint32_t strategyIndex = StaticPrefs:: javascript_options_baselinejit_offthread_compilation_strategy();"
              },
              {
                "name": "FillCompileOptionsForRequest",
                "type": "method",
                "start_line": 2644,
                "end_line": 2705,
                "line_count": 62,
                "signature": "nsresult ScriptLoader::FillCompileOptionsForRequest( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions* aOptions, JS::MutableHandle<JSScript*> aIntroductionScript) {"
              },
              {
                "name": "ExecuteCompiledScript",
                "type": "function",
                "start_line": 2892,
                "end_line": 2908,
                "line_count": 17,
                "signature": "static void ExecuteCompiledScript(JSContext* aCx, ClassicScript* aLoaderScript, JS::Handle<JSScript*> aScript, ErrorResult& aRv) {"
              },
              {
                "name": "EvaluateScriptElement",
                "type": "method",
                "start_line": 2910,
                "end_line": 2992,
                "line_count": 83,
                "signature": "nsresult ScriptLoader::EvaluateScriptElement(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); "
              },
              {
                "name": "Decode",
                "type": "function",
                "start_line": 2995,
                "end_line": 3012,
                "line_count": 18,
                "signature": "static void Decode(JSContext* aCx, JS::CompileOptions& aCompileOptions, const JS::TranscodeRange& aBytecodeBuf, RefPtr<JS::Stencil>& aStencil, ErrorResult& aRv) {"
              },
              {
                "name": "InstantiateStencil",
                "type": "function",
                "start_line": 3019,
                "end_line": 3062,
                "line_count": 44,
                "signature": "static void InstantiateStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, JS::Stencil* aStencil, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromMaybeEncodedSource",
                "type": "method",
                "start_line": 3064,
                "end_line": 3177,
                "line_count": 114,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromMaybeEncodedSource( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromCachedStencil",
                "type": "method",
                "start_line": 3179,
                "end_line": 3209,
                "line_count": 31,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromCachedStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::Stencil* aStencil,"
              },
              {
                "name": "InstantiateClassicScriptFromAny",
                "type": "method",
                "start_line": 3211,
                "end_line": 3233,
                "line_count": 23,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromAny( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "GetCacheBehavior",
                "type": "method",
                "start_line": 3235,
                "end_line": 3276,
                "line_count": 42,
                "signature": "ScriptLoader::CacheBehavior ScriptLoader::GetCacheBehavior( ScriptLoadRequest* aRequest) { if (!mCache) {"
              },
              {
                "name": "TryCacheRequest",
                "type": "method",
                "start_line": 3278,
                "end_line": 3312,
                "line_count": 35,
                "signature": "void ScriptLoader::TryCacheRequest(ScriptLoadRequest* aRequest, RefPtr<JS::Stencil>& aStencil) { CacheBehavior cacheBehavior = GetCacheBehavior(aRequest);"
              },
              {
                "name": "MaybePrepareForCacheBeforeExecute",
                "type": "method",
                "start_line": 3322,
                "end_line": 3329,
                "line_count": 8,
                "signature": "void ScriptLoader::MaybePrepareForCacheBeforeExecute( ScriptLoadRequest* aRequest, JS::Handle<JSScript*> aScript) { if (!aRequest->PassedConditionForEitherCache()) {"
              },
              {
                "name": "MaybePrepareForCacheAfterExecute",
                "type": "method",
                "start_line": 3331,
                "end_line": 3358,
                "line_count": 28,
                "signature": "nsresult ScriptLoader::MaybePrepareForCacheAfterExecute( ScriptLoadRequest* aRequest, nsresult aRv) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "MaybePrepareModuleForCacheBeforeExecute",
                "type": "method",
                "start_line": 3360,
                "end_line": 3382,
                "line_count": 23,
                "signature": "void ScriptLoader::MaybePrepareModuleForCacheBeforeExecute( JSContext* aCx, ModuleLoadRequest* aRequest) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "MaybePrepareModuleForCacheAfterExecute",
                "type": "method",
                "start_line": 3384,
                "end_line": 3416,
                "line_count": 33,
                "signature": "nsresult ScriptLoader::MaybePrepareModuleForCacheAfterExecute( ModuleLoadRequest* aRequest, nsresult aRv) { MOZ_ASSERT(aRequest->IsTopLevel());"
              },
              {
                "name": "EvaluateScript",
                "type": "method",
                "start_line": 3418,
                "end_line": 3528,
                "line_count": 111,
                "signature": "nsresult ScriptLoader::EvaluateScript(nsIGlobalObject* aGlobalObject, ScriptLoadRequest* aRequest) { nsAutoMicroTask mt;"
              },
              {
                "name": "RegisterForCache",
                "type": "method",
                "start_line": 3540,
                "end_line": 3546,
                "line_count": 7,
                "signature": "void ScriptLoader::RegisterForCache(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsMarkedForEitherCache()); MOZ_ASSERT_IF(aRequest->IsMarkedForDiskCache(),"
              },
              {
                "name": "LoadEventFired",
                "type": "method",
                "start_line": 3548,
                "end_line": 3551,
                "line_count": 4,
                "signature": "void ScriptLoader::LoadEventFired() { mLoadEventFired = true; MaybeUpdateCache();"
              },
              {
                "name": "Destroy",
                "type": "method",
                "start_line": 3553,
                "end_line": 3561,
                "line_count": 9,
                "signature": "void ScriptLoader::Destroy() { if (mShutdownObserver) { mShutdownObserver->Unregister();"
              },
              {
                "name": "MaybeUpdateCache",
                "type": "method",
                "start_line": 3563,
                "end_line": 3606,
                "line_count": 44,
                "signature": "void ScriptLoader::MaybeUpdateCache() { // If we already gave up, ensure that we are not going to enqueue any script, // and that we finalize them properly."
              },
              {
                "name": "UpdateCache",
                "type": "method",
                "start_line": 3608,
                "end_line": 3694,
                "line_count": 87,
                "signature": "void ScriptLoader::UpdateCache() { LOG((\"ScriptLoader (%p): Start bytecode encoding.\", this)); "
              },
              {
                "name": "FinishCollectingDelazifications",
                "type": "method",
                "start_line": 3696,
                "end_line": 3717,
                "line_count": 22,
                "signature": "already_AddRefed<JS::Stencil> ScriptLoader::FinishCollectingDelazifications( JSContext* aCx, ScriptLoadRequest* aRequest) { RefPtr<JS::Stencil> stencil;"
              },
              {
                "name": "EncodeBytecodeAndSave",
                "type": "method",
                "start_line": 3719,
                "end_line": 3800,
                "line_count": 82,
                "signature": "void ScriptLoader::EncodeBytecodeAndSave( JSContext* aCx, ScriptLoadRequest* aRequest, nsCOMPtr<nsICacheInfoChannel>& aCacheInfo, nsCString& aMimeType,"
              },
              {
                "name": "GiveUpCaching",
                "type": "method",
                "start_line": 3802,
                "end_line": 3847,
                "line_count": 46,
                "signature": "void ScriptLoader::GiveUpCaching() { // If the document went away prematurely, we still want to set this, in order // to avoid queuing more scripts."
              },
              {
                "name": "HasPendingRequests",
                "type": "method",
                "start_line": 3849,
                "end_line": 3856,
                "line_count": 8,
                "signature": "bool ScriptLoader::HasPendingRequests() const { return mParserBlockingRequest || !mXSLTRequests.isEmpty() || !mLoadedAsyncRequests.isEmpty() ||"
              },
              {
                "name": "HasPendingDynamicImports",
                "type": "method",
                "start_line": 3858,
                "end_line": 3876,
                "line_count": 19,
                "signature": "bool ScriptLoader::HasPendingDynamicImports() const { if (mModuleLoader && mModuleLoader->HasPendingDynamicImports()) { return true;"
              },
              {
                "name": "ProcessPendingRequestsAsync",
                "type": "method",
                "start_line": 3878,
                "end_line": 3889,
                "line_count": 12,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsync() { if (HasPendingRequests()) { nsCOMPtr<nsIRunnable> task = NewRunnableMethod<bool>("
              },
              {
                "name": "ProcessPendingRequestsCallback",
                "type": "function",
                "start_line": 3891,
                "end_line": 3894,
                "line_count": 4,
                "signature": "void ProcessPendingRequestsCallback(nsITimer* aTimer, void* aClosure) { RefPtr<ScriptLoader> sl = static_cast<ScriptLoader*>(aClosure); sl->ProcessPendingRequests(true);"
              },
              {
                "name": "ProcessPendingRequestsAsyncBypassParserBlocking",
                "type": "method",
                "start_line": 3896,
                "end_line": 3909,
                "line_count": 14,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsyncBypassParserBlocking() { MOZ_ASSERT(HasPendingRequests()); "
              },
              {
                "name": "ProcessPendingRequests",
                "type": "method",
                "start_line": 3911,
                "end_line": 3993,
                "line_count": 83,
                "signature": "void ScriptLoader::ProcessPendingRequests(bool aAllowBypassingParserBlocking) { RefPtr<ScriptLoadRequest> request; "
              },
              {
                "name": "ReadyToExecuteParserBlockingScripts",
                "type": "method",
                "start_line": 3995,
                "end_line": 4018,
                "line_count": 24,
                "signature": "bool ScriptLoader::ReadyToExecuteParserBlockingScripts() { // Make sure the SelfReadyToExecuteParserBlockingScripts check is first, so // that we don't block twice on an ancestor."
              },
              {
                "name": "ConvertToUnicode",
                "type": "function",
                "start_line": 4021,
                "end_line": 4098,
                "line_count": 78,
                "signature": "static nsresult ConvertToUnicode(nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset,"
              },
              {
                "name": "ConvertToUTF16",
                "type": "method",
                "start_line": 4101,
                "end_line": 4112,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF16( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "ConvertToUTF8",
                "type": "method",
                "start_line": 4115,
                "end_line": 4126,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF8( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "OnStreamComplete",
                "type": "method",
                "start_line": 4128,
                "end_line": 4168,
                "line_count": 41,
                "signature": "nsresult ScriptLoader::OnStreamComplete( nsIIncrementalStreamLoader* aLoader, ScriptLoadRequest* aRequest, nsresult aChannelStatus, nsresult aSRIStatus,"
              },
              {
                "name": "VerifySRI",
                "type": "method",
                "start_line": 4170,
                "end_line": 4196,
                "line_count": 27,
                "signature": "nsresult ScriptLoader::VerifySRI(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aSRIStatus,"
              },
              {
                "name": "SaveSRIHash",
                "type": "method",
                "start_line": 4198,
                "end_line": 4254,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::SaveSRIHash( ScriptLoadRequest* aRequest, SRICheckDataVerifier* aSRIDataVerifier) const { MOZ_ASSERT(aRequest->IsSource());"
              },
              {
                "name": "ReportErrorToConsole",
                "type": "method",
                "start_line": 4256,
                "end_line": 4301,
                "line_count": 46,
                "signature": "void ScriptLoader::ReportErrorToConsole(ScriptLoadRequest* aRequest, nsresult aResult) const { MOZ_ASSERT(aRequest);"
              },
              {
                "name": "ReportWarningToConsole",
                "type": "method",
                "start_line": 4303,
                "end_line": 4314,
                "line_count": 12,
                "signature": "void ScriptLoader::ReportWarningToConsole( ScriptLoadRequest* aRequest, const char* aMessageName, const nsTArray<nsString>& aParams) const {"
              },
              {
                "name": "ReportPreloadErrorsToConsole",
                "type": "method",
                "start_line": 4316,
                "end_line": 4326,
                "line_count": 11,
                "signature": "void ScriptLoader::ReportPreloadErrorsToConsole(ScriptLoadRequest* aRequest) { if (NS_FAILED(aRequest->GetScriptLoadContext()->mUnreportedPreloadError)) { ReportErrorToConsole("
              },
              {
                "name": "HandleLoadError",
                "type": "method",
                "start_line": 4328,
                "end_line": 4418,
                "line_count": 91,
                "signature": "void ScriptLoader::HandleLoadError(ScriptLoadRequest* aRequest, nsresult aResult) { /*"
              },
              {
                "name": "HandleLoadErrorAndProcessPendingRequests",
                "type": "method",
                "start_line": 4420,
                "end_line": 4425,
                "line_count": 6,
                "signature": "void ScriptLoader::HandleLoadErrorAndProcessPendingRequests( ScriptLoadRequest* aRequest, nsresult aResult) { HandleLoadError(aRequest, aResult);"
              },
              {
                "name": "UnblockParser",
                "type": "method",
                "start_line": 4427,
                "end_line": 4429,
                "line_count": 3,
                "signature": "void ScriptLoader::UnblockParser(ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->UnblockParser(); }"
              },
              {
                "name": "ContinueParserAsync",
                "type": "method",
                "start_line": 4431,
                "end_line": 4434,
                "line_count": 4,
                "signature": "void ScriptLoader::ContinueParserAsync( ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->ContinueParserAsync();"
              },
              {
                "name": "NumberOfProcessors",
                "type": "method",
                "start_line": 4436,
                "end_line": 4446,
                "line_count": 11,
                "signature": "uint32_t ScriptLoader::NumberOfProcessors() { if (mNumberOfProcessors > 0) { return mNumberOfProcessors;"
              },
              {
                "name": "PhysicalSizeOfMemoryInGB",
                "type": "method",
                "start_line": 4448,
                "end_line": 4459,
                "line_count": 12,
                "signature": "int32_t ScriptLoader::PhysicalSizeOfMemoryInGB() { // 0 is a valid result from PR_GetPhysicalMemorySize() which // means a failure occured."
              },
              {
                "name": "ShouldApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4461,
                "end_line": 4493,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldApplyDelazifyStrategy(ScriptLoadRequest* aRequest) { // Full parse everything if negative. if (StaticPrefs::dom_script_loader_delazification_max_size() < 0) {"
              },
              {
                "name": "ApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4495,
                "end_line": 4525,
                "line_count": 31,
                "signature": "void ScriptLoader::ApplyDelazifyStrategy(JS::CompileOptions* aOptions) { JS::DelazificationOption strategy = JS::DelazificationOption::ParseEverythingEagerly;"
              },
              {
                "name": "ShouldCompileOffThread",
                "type": "method",
                "start_line": 4527,
                "end_line": 4559,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldCompileOffThread(ScriptLoadRequest* aRequest) { if (NumberOfProcessors() <= 1) { return false;"
              },
              {
                "name": "MimeTypeMatchesExpectedModuleType",
                "type": "function",
                "start_line": 4561,
                "end_line": 4579,
                "line_count": 19,
                "signature": "static bool MimeTypeMatchesExpectedModuleType( nsIChannel* aChannel, JS::ModuleType expectedModuleType) { nsAutoCString mimeType;"
              },
              {
                "name": "PrepareLoadedRequest",
                "type": "method",
                "start_line": 4581,
                "end_line": 4716,
                "line_count": 136,
                "signature": "nsresult ScriptLoader::PrepareLoadedRequest(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aStatus) {"
              },
              {
                "name": "DeferCheckpointReached",
                "type": "method",
                "start_line": 4718,
                "end_line": 4727,
                "line_count": 10,
                "signature": "void ScriptLoader::DeferCheckpointReached() { if (mDeferEnabled) { // Have to check because we apparently get ParsingComplete"
              },
              {
                "name": "ParsingComplete",
                "type": "method",
                "start_line": 4729,
                "end_line": 4736,
                "line_count": 8,
                "signature": "void ScriptLoader::ParsingComplete(bool aTerminated) { if (aTerminated) { CancelAndClearScriptLoadRequests();"
              },
              {
                "name": "PreloadURI",
                "type": "method",
                "start_line": 4738,
                "end_line": 4815,
                "line_count": 78,
                "signature": "void ScriptLoader::PreloadURI( nsIURI* aURI, const nsAString& aCharset, const nsAString& aType, const nsAString& aCrossOrigin, const nsAString& aNonce,"
              },
              {
                "name": "AddDeferRequest",
                "type": "method",
                "start_line": 4817,
                "end_line": 4831,
                "line_count": 15,
                "signature": "void ScriptLoader::AddDeferRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsDeferredScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "AddAsyncRequest",
                "type": "method",
                "start_line": 4833,
                "end_line": 4845,
                "line_count": 13,
                "signature": "void ScriptLoader::AddAsyncRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsAsyncScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "MaybeMoveToLoadedList",
                "type": "method",
                "start_line": 4847,
                "end_line": 4867,
                "line_count": 21,
                "signature": "void ScriptLoader::MaybeMoveToLoadedList(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); MOZ_ASSERT(aRequest->IsTopLevel());"
              },
              {
                "name": "MaybeRemovedDeferRequests",
                "type": "method",
                "start_line": 4869,
                "end_line": 4876,
                "line_count": 8,
                "signature": "bool ScriptLoader::MaybeRemovedDeferRequests() { if (mDeferRequests.isEmpty() && mDocument && mBlockingDOMContentLoaded) { mBlockingDOMContentLoaded = false;"
              },
              {
                "name": "BeginDeferringScripts",
                "type": "method",
                "start_line": 4880,
                "end_line": 4895,
                "line_count": 16,
                "signature": "void ScriptLoader::BeginDeferringScripts() { if (mDeferEnabled || mDeferCheckpointReached) { // We already started loading. Now, document.open() happened and we're doing"
              },
              {
                "name": "nsAutoScriptLoaderDisabler",
                "type": "method",
                "start_line": 4897,
                "end_line": 4903,
                "line_count": 7,
                "signature": "nsAutoScriptLoaderDisabler::nsAutoScriptLoaderDisabler(Document* aDoc) { mLoader = aDoc->ScriptLoader(); mWasEnabled = mLoader->GetEnabled();"
              }
            ]
          },
          "hunks_count": 1,
          "hunk_ranges": [
            "@@ -2869,7 @@"
          ]
        }
      ],
      "regressor_commits": [
        {
          "commit_hash": "a10921d560a0",
          "full_hash": "a10921d560a0c2c178f98aefcd43207af8d95097",
          "parent_hash": "7adcef30c668424315efa3d6a8552118fd049b9d",
          "commit_type": "regressor",
          "filepath": "dom/script/ScriptLoader.cpp",
          "diff_found": true,
          "diff_path": "/Users/sidiqafekrat/Mozilla_crashAnalyzer_BugBug/method2_bugzilla_bugs/outputs/step5_extracted_diffs/bug_1991250/regressor_commits/regressor_1980152_a10921d560a0/dom_script_ScriptLoader.cpp.diff",
          "methods_count": 142,
          "matched_methods": {
            "fully_modified": [],
            "partially_modified": [
              {
                "name": "CalculateCacheFlag",
                "type": "method",
                "start_line": 2692,
                "end_line": 2844,
                "line_count": 153,
                "signature": "void ScriptLoader::CalculateCacheFlag(ScriptLoadRequest* aRequest) { using mozilla::TimeDuration; using mozilla::TimeStamp;",
                "changed_lines": [
                  2718,
                  2719,
                  2720,
                  2721,
                  2722,
                  2723,
                  2724,
                  2725,
                  2726,
                  2727,
                  2728,
                  2796,
                  2797,
                  2798,
                  2799,
                  2800,
                  2801,
                  2802,
                  2803,
                  2814,
                  2815,
                  2816,
                  2817,
                  2818,
                  2819,
                  2820,
                  2821,
                  2822,
                  2823,
                  2824,
                  2825,
                  2826
                ],
                "overlap_count": 32,
                "overlap_percentage": 20.9
              }
            ],
            "unmodified": [
              {
                "name": "OnShutdown",
                "type": "method",
                "start_line": 127,
                "end_line": 132,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::OnShutdown() { if (mScriptLoader) { mScriptLoader->Destroy();"
              },
              {
                "name": "Unregister",
                "type": "method",
                "start_line": 134,
                "end_line": 139,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::Unregister() { if (mScriptLoader) { mScriptLoader = nullptr;"
              },
              {
                "name": "Observe",
                "type": "method",
                "start_line": 141,
                "end_line": 146,
                "line_count": 6,
                "signature": "NS_IMETHODIMP AsyncCompileShutdownObserver::Observe(nsISupports* aSubject, const char* aTopic, const char16_t* aData) {"
              },
              {
                "name": "ImplCycleCollectionUnlink",
                "type": "function",
                "start_line": 152,
                "end_line": 154,
                "line_count": 3,
                "signature": "inline void ImplCycleCollectionUnlink(ScriptLoader::PreloadInfo& aField) { ImplCycleCollectionUnlink(aField.mRequest); }"
              },
              {
                "name": "ImplCycleCollectionTraverse",
                "type": "function",
                "start_line": 156,
                "end_line": 160,
                "line_count": 5,
                "signature": "inline void ImplCycleCollectionTraverse( nsCycleCollectionTraversalCallback& aCallback, ScriptLoader::PreloadInfo& aField, const char* aName, uint32_t aFlags = 0) {"
              },
              {
                "name": "ScriptLoader",
                "type": "method",
                "start_line": 195,
                "end_line": 232,
                "line_count": 38,
                "signature": "ScriptLoader::ScriptLoader(Document* aDocument) : mDocument(aDocument), mParserBlockingBlockerCount(0),"
              },
              {
                "name": "SetGlobalObject",
                "type": "method",
                "start_line": 287,
                "end_line": 305,
                "line_count": 19,
                "signature": "void ScriptLoader::SetGlobalObject(nsIGlobalObject* aGlobalObject) { if (!aGlobalObject) { // The document is being detached."
              },
              {
                "name": "DropDocumentReference",
                "type": "method",
                "start_line": 307,
                "end_line": 313,
                "line_count": 7,
                "signature": "void ScriptLoader::DropDocumentReference() { if (mDocument && mCache) { DeregisterFromCache();"
              },
              {
                "name": "RegisterToCache",
                "type": "method",
                "start_line": 315,
                "end_line": 320,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterToCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "DeregisterFromCache",
                "type": "method",
                "start_line": 322,
                "end_line": 328,
                "line_count": 7,
                "signature": "void ScriptLoader::DeregisterFromCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "ShouldBypassCache",
                "type": "method",
                "start_line": 338,
                "end_line": 340,
                "line_count": 3,
                "signature": "bool ScriptLoader::ShouldBypassCache() const { return mDocument && nsContentUtils::ShouldBypassSubResourceCache(mDocument); }"
              },
              {
                "name": "RegisterContentScriptModuleLoader",
                "type": "method",
                "start_line": 342,
                "end_line": 347,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterContentScriptModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "RegisterShadowRealmModuleLoader",
                "type": "method",
                "start_line": 349,
                "end_line": 354,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterShadowRealmModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "CollectScriptTelemetry",
                "type": "function",
                "start_line": 358,
                "end_line": 385,
                "line_count": 28,
                "signature": "static void CollectScriptTelemetry(ScriptLoadRequest* aRequest) { using namespace mozilla::glean::dom; "
              },
              {
                "name": "IsScriptEventHandler",
                "type": "function",
                "start_line": 395,
                "end_line": 428,
                "line_count": 34,
                "signature": "static bool IsScriptEventHandler(ScriptKind kind, nsIContent* aScriptElement) { if (kind != ScriptKind::eClassic) { return false;"
              },
              {
                "name": "ScriptLoadRequestToContentPolicyType",
                "type": "function",
                "start_line": 430,
                "end_line": 463,
                "line_count": 34,
                "signature": "nsContentPolicyType ScriptLoadRequestToContentPolicyType( ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsPreload()) {"
              },
              {
                "name": "ComputeRequestModeForContentPolicy",
                "type": "function",
                "start_line": 465,
                "end_line": 475,
                "line_count": 11,
                "signature": "RequestMode ComputeRequestModeForContentPolicy( const ScriptLoadRequest* aRequest) { auto corsMapping ="
              },
              {
                "name": "CheckContentPolicy",
                "type": "method",
                "start_line": 477,
                "end_line": 518,
                "line_count": 42,
                "signature": "nsresult ScriptLoader::CheckContentPolicy(nsIScriptElement* aElement, const nsAString& aNonce, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "IsAboutPageLoadingChromeURI",
                "type": "method",
                "start_line": 521,
                "end_line": 565,
                "line_count": 45,
                "signature": "bool ScriptLoader::IsAboutPageLoadingChromeURI(ScriptLoadRequest* aRequest, Document* aDocument) { // if the uri to be loaded is not of scheme chrome:, there is nothing to do."
              },
              {
                "name": "ScriptRequestProcessor",
                "type": "function",
                "start_line": 578,
                "end_line": 581,
                "line_count": 4,
                "signature": "ScriptRequestProcessor(ScriptLoader* aLoader, ScriptLoadRequest* aRequest) : Runnable(\"dom::ScriptRequestProcessor\"), mLoader(aLoader),"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 582,
                "end_line": 582,
                "line_count": 1,
                "signature": "NS_IMETHOD Run() override { return mLoader->ProcessRequest(mRequest); } }; "
              },
              {
                "name": "RunScriptWhenSafe",
                "type": "method",
                "start_line": 585,
                "end_line": 588,
                "line_count": 4,
                "signature": "void ScriptLoader::RunScriptWhenSafe(ScriptLoadRequest* aRequest) { auto* runnable = new ScriptRequestProcessor(this, aRequest); nsContentUtils::AddScriptRunner(runnable);"
              },
              {
                "name": "RestartLoad",
                "type": "method",
                "start_line": 590,
                "end_line": 613,
                "line_count": 24,
                "signature": "nsresult ScriptLoader::RestartLoad(ScriptLoadRequest* aRequest) { aRequest->DropBytecode(); TRACE_FOR_TEST(aRequest, \"scriptloader_fallback\");"
              },
              {
                "name": "StartLoad",
                "type": "method",
                "start_line": 615,
                "end_line": 623,
                "line_count": 9,
                "signature": "nsresult ScriptLoader::StartLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CORSModeToSecurityFlags",
                "type": "function",
                "start_line": 625,
                "end_line": 634,
                "line_count": 10,
                "signature": "static nsSecurityFlags CORSModeToSecurityFlags(CORSMode aCORSMode) { nsSecurityFlags securityFlags = nsContentSecurityManager::ComputeSecurityFlags("
              },
              {
                "name": "StartClassicLoad",
                "type": "method",
                "start_line": 636,
                "end_line": 667,
                "line_count": 32,
                "signature": "nsresult ScriptLoader::StartClassicLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "IsWebExtensionRequest",
                "type": "function",
                "start_line": 669,
                "end_line": 677,
                "line_count": 9,
                "signature": "static bool IsWebExtensionRequest(ScriptLoadRequest* aRequest) { if (!aRequest->IsModuleRequest()) { return false;"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 679,
                "end_line": 693,
                "line_count": 15,
                "signature": "static nsresult CreateChannelForScriptLoading( nsIChannel** aOutChannel, Document* aDocument, nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 695,
                "end_line": 712,
                "line_count": 18,
                "signature": "static nsresult CreateChannelForScriptLoading(nsIChannel** aOutChannel, Document* aDocument, ScriptLoadRequest* aRequest,"
              },
              {
                "name": "PrepareLoadInfoForScriptLoading",
                "type": "function",
                "start_line": 714,
                "end_line": 721,
                "line_count": 8,
                "signature": "static void PrepareLoadInfoForScriptLoading(nsIChannel* aChannel, const ScriptLoadRequest* aRequest) { nsCOMPtr<nsILoadInfo> loadInfo = aChannel->LoadInfo();"
              },
              {
                "name": "PrepareCacheInfoChannel",
                "type": "method",
                "start_line": 724,
                "end_line": 754,
                "line_count": 31,
                "signature": "void ScriptLoader::PrepareCacheInfoChannel(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { // To avoid decoding issues, the build-id is part of the bytecode MIME type"
              },
              {
                "name": "AdjustPriorityAndClassOfServiceForLinkPreloadScripts",
                "type": "function",
                "start_line": 756,
                "end_line": 794,
                "line_count": 39,
                "signature": "static void AdjustPriorityAndClassOfServiceForLinkPreloadScripts( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "AdjustPriorityForNonLinkPreloadScripts",
                "type": "function",
                "start_line": 796,
                "end_line": 846,
                "line_count": 51,
                "signature": "void AdjustPriorityForNonLinkPreloadScripts(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(!aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "PrepareRequestPriorityAndRequestDependencies",
                "type": "method",
                "start_line": 849,
                "end_line": 890,
                "line_count": 42,
                "signature": "void ScriptLoader::PrepareRequestPriorityAndRequestDependencies( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsLinkPreloadScript()) {"
              },
              {
                "name": "GetInitiatorType",
                "type": "function",
                "start_line": 892,
                "end_line": 902,
                "line_count": 11,
                "signature": "inline nsLiteralString GetInitiatorType(ScriptLoadRequest* aRequest) { if (aRequest->mEarlyHintPreloaderId) { return u\"early-hints\"_ns;"
              },
              {
                "name": "PrepareHttpRequestAndInitiatorType",
                "type": "method",
                "start_line": 905,
                "end_line": 939,
                "line_count": 35,
                "signature": "nsresult ScriptLoader::PrepareHttpRequestAndInitiatorType( nsIChannel* aChannel, ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "PrepareIncrementalStreamLoader",
                "type": "method",
                "start_line": 941,
                "end_line": 958,
                "line_count": 18,
                "signature": "nsresult ScriptLoader::PrepareIncrementalStreamLoader( nsIIncrementalStreamLoader** aOutLoader, nsIChannel* aChannel, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "StartLoadInternal",
                "type": "method",
                "start_line": 960,
                "end_line": 1031,
                "line_count": 72,
                "signature": "nsresult ScriptLoader::StartLoadInternal( ScriptLoadRequest* aRequest, nsSecurityFlags securityFlags, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CSPAllowsInlineScript",
                "type": "function",
                "start_line": 1039,
                "end_line": 1062,
                "line_count": 24,
                "signature": "static bool CSPAllowsInlineScript(nsIScriptElement* aElement, const nsAString& aSourceText, const nsAString& aNonce,"
              },
              {
                "name": "FetchPriorityToRequestPriority",
                "type": "function",
                "start_line": 1065,
                "end_line": 1078,
                "line_count": 14,
                "signature": "RequestPriority FetchPriorityToRequestPriority( const FetchPriority aFetchPriority) { switch (aFetchPriority) {"
              },
              {
                "name": "NotifyObserversForCachedScript",
                "type": "method",
                "start_line": 1081,
                "end_line": 1115,
                "line_count": 35,
                "signature": "void ScriptLoader::NotifyObserversForCachedScript( nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal, nsSecurityFlags aSecurityFlags, nsContentPolicyType aContentPolicyType,"
              },
              {
                "name": "CreateLoadRequest",
                "type": "method",
                "start_line": 1117,
                "end_line": 1148,
                "line_count": 32,
                "signature": "already_AddRefed<ScriptLoadRequest> ScriptLoader::CreateLoadRequest( ScriptKind aKind, nsIURI* aURI, nsIScriptElement* aElement, const nsAString& aScriptContent, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "TryUseCache",
                "type": "method",
                "start_line": 1150,
                "end_line": 1190,
                "line_count": 41,
                "signature": "void ScriptLoader::TryUseCache(ScriptLoadRequest* aRequest, nsIScriptElement* aElement, const nsAString& aNonce,"
              },
              {
                "name": "EmulateNetworkEvents",
                "type": "method",
                "start_line": 1192,
                "end_line": 1222,
                "line_count": 31,
                "signature": "void ScriptLoader::EmulateNetworkEvents(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsStencil()); MOZ_ASSERT(aRequest->mNetworkMetadata);"
              },
              {
                "name": "ProcessScriptElement",
                "type": "method",
                "start_line": 1224,
                "end_line": 1267,
                "line_count": 44,
                "signature": "bool ScriptLoader::ProcessScriptElement(nsIScriptElement* aElement, const nsAString& aSourceText) { // We need a document to evaluate scripts."
              },
              {
                "name": "GetParserMetadata",
                "type": "function",
                "start_line": 1269,
                "end_line": 1273,
                "line_count": 5,
                "signature": "static ParserMetadata GetParserMetadata(nsIScriptElement* aElement) { return aElement->GetParserCreated() == mozilla::dom::NOT_FROM_PARSER ? ParserMetadata::NotParserInserted"
              },
              {
                "name": "ProcessExternalScript",
                "type": "method",
                "start_line": 1275,
                "end_line": 1551,
                "line_count": 277,
                "signature": "bool ScriptLoader::ProcessExternalScript(nsIScriptElement* aElement, ScriptKind aScriptKind, nsIContent* aScriptContent) {"
              },
              {
                "name": "ProcessInlineScript",
                "type": "method",
                "start_line": 1553,
                "end_line": 1734,
                "line_count": 182,
                "signature": "bool ScriptLoader::ProcessInlineScript(nsIScriptElement* aElement, ScriptKind aScriptKind, const nsAString& aSourceText) {"
              },
              {
                "name": "GetSRIMetadata",
                "type": "method",
                "start_line": 1802,
                "end_line": 1820,
                "line_count": 19,
                "signature": "void ScriptLoader::GetSRIMetadata(const nsAString& aIntegrityAttr, SRIMetadata* aMetadataOut) { MOZ_ASSERT(aMetadataOut->IsEmpty());"
              },
              {
                "name": "GetReferrerPolicy",
                "type": "method",
                "start_line": 1822,
                "end_line": 1828,
                "line_count": 7,
                "signature": "ReferrerPolicy ScriptLoader::GetReferrerPolicy(nsIScriptElement* aElement) { ReferrerPolicy scriptReferrerPolicy = aElement->GetReferrerPolicy(); if (scriptReferrerPolicy != ReferrerPolicy::_empty) {"
              },
              {
                "name": "CancelAndClearScriptLoadRequests",
                "type": "method",
                "start_line": 1830,
                "end_line": 1862,
                "line_count": 33,
                "signature": "void ScriptLoader::CancelAndClearScriptLoadRequests() { // Cancel all requests that have not been executed and remove them. "
              },
              {
                "name": "CompileOffThreadOrProcessRequest",
                "type": "method",
                "start_line": 1864,
                "end_line": 1885,
                "line_count": 22,
                "signature": "nsresult ScriptLoader::CompileOffThreadOrProcessRequest( ScriptLoadRequest* aRequest) { NS_ASSERTION(nsContentUtils::IsSafeToRunScript(),"
              },
              {
                "name": "OffThreadCompilationCompleteTask",
                "type": "function",
                "start_line": 1891,
                "end_line": 1897,
                "line_count": 7,
                "signature": "OffThreadCompilationCompleteTask(ScriptLoadRequest* aRequest, ScriptLoader* aLoader) : Task(Kind::MainThreadOnly, EventQueuePriority::Normal),"
              },
              {
                "name": "RecordStartTime",
                "type": "method",
                "start_line": 1899,
                "end_line": 1899,
                "line_count": 1,
                "signature": "void RecordStartTime() { mStartTime = TimeStamp::Now(); } void RecordStopTime() { mStopTime = TimeStamp::Now(); } "
              },
              {
                "name": "RecordStopTime",
                "type": "method",
                "start_line": 1900,
                "end_line": 1900,
                "line_count": 1,
                "signature": "void RecordStopTime() { mStopTime = TimeStamp::Now(); }  #ifdef MOZ_COLLECTING_RUNNABLE_TELEMETRY"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 1903,
                "end_line": 1906,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"dom::OffThreadCompilationCompleteTask\"); return true;"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 1909,
                "end_line": 1942,
                "line_count": 34,
                "signature": "TaskResult Run() override { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "AttemptOffThreadScriptCompile",
                "type": "method",
                "start_line": 1971,
                "end_line": 2069,
                "line_count": 99,
                "signature": "nsresult ScriptLoader::AttemptOffThreadScriptCompile( ScriptLoadRequest* aRequest, bool* aCouldCompileOut) { // If speculative parsing is enabled, the request may not be ready to run if"
              },
              {
                "name": "CompileOrDecodeTask",
                "type": "method",
                "start_line": 2071,
                "end_line": 2074,
                "line_count": 4,
                "signature": "CompileOrDecodeTask::CompileOrDecodeTask() : Task(Kind::OffMainThreadOnly, EventQueuePriority::Normal), mMutex(\"CompileOrDecodeTask\"),"
              },
              {
                "name": "InitFrontendContext",
                "type": "method",
                "start_line": 2083,
                "end_line": 2090,
                "line_count": 8,
                "signature": "nsresult CompileOrDecodeTask::InitFrontendContext() { mFrontendContext = JS::NewFrontendContext(); if (!mFrontendContext) {"
              },
              {
                "name": "DidRunTask",
                "type": "method",
                "start_line": 2092,
                "end_line": 2102,
                "line_count": 11,
                "signature": "void CompileOrDecodeTask::DidRunTask(const MutexAutoLock& aProofOfLock, RefPtr<JS::Stencil>&& aStencil) { if (aStencil) {"
              },
              {
                "name": "StealResult",
                "type": "method",
                "start_line": 2104,
                "end_line": 2136,
                "line_count": 33,
                "signature": "already_AddRefed<JS::Stencil> CompileOrDecodeTask::StealResult( JSContext* aCx, JS::InstantiationStorage* aInstantiationStorage) { JS::FrontendContext* fc = mFrontendContext;"
              },
              {
                "name": "Cancel",
                "type": "method",
                "start_line": 2138,
                "end_line": 2144,
                "line_count": 7,
                "signature": "void CompileOrDecodeTask::Cancel() { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "ScriptOrModuleCompileTask",
                "type": "function",
                "start_line": 2151,
                "end_line": 2153,
                "line_count": 3,
                "signature": "explicit ScriptOrModuleCompileTask( ScriptLoader::MaybeSourceText&& aMaybeSource) : CompileOrDecodeTask(), mMaybeSource(std::move(aMaybeSource)) {}"
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2155,
                "end_line": 2165,
                "line_count": 11,
                "signature": "nsresult Init(JS::CompileOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2167,
                "end_line": 2178,
                "line_count": 12,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Compile",
                "type": "method",
                "start_line": 2181,
                "end_line": 2195,
                "line_count": 15,
                "signature": "already_AddRefed<JS::Stencil> Compile() { size_t stackSize = TaskController::GetThreadStackSize(); JS::SetNativeStackQuota(mFrontendContext,"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2199,
                "end_line": 2206,
                "line_count": 8,
                "signature": "bool GetName(nsACString& aName) override { if constexpr (target == CompilationTarget::Script) { aName.AssignLiteral(\"ScriptCompileTask\");"
              },
              {
                "name": "ScriptDecodeTask",
                "type": "function",
                "start_line": 2220,
                "end_line": 2221,
                "line_count": 2,
                "signature": "explicit ScriptDecodeTask(const JS::TranscodeRange& aRange) : mRange(aRange) {} "
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2223,
                "end_line": 2233,
                "line_count": 11,
                "signature": "nsresult Init(JS::DecodeOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2235,
                "end_line": 2250,
                "line_count": 16,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Decode",
                "type": "method",
                "start_line": 2253,
                "end_line": 2260,
                "line_count": 8,
                "signature": "already_AddRefed<JS::Stencil> Decode() { // NOTE: JS::DecodeStencil doesn't need the stack quota. "
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2264,
                "end_line": 2267,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"ScriptDecodeTask\"); return true;"
              },
              {
                "name": "CreateOffThreadTask",
                "type": "method",
                "start_line": 2276,
                "end_line": 2341,
                "line_count": 66,
                "signature": "nsresult ScriptLoader::CreateOffThreadTask( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions& aOptions, CompileOrDecodeTask** aCompileOrDecodeTask) {"
              },
              {
                "name": "ProcessOffThreadRequest",
                "type": "method",
                "start_line": 2343,
                "end_line": 2399,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::ProcessOffThreadRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsCompiling()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mWasCompiledOMT);"
              },
              {
                "name": "ProcessRequest",
                "type": "method",
                "start_line": 2401,
                "end_line": 2530,
                "line_count": 130,
                "signature": "nsresult ScriptLoader::ProcessRequest(ScriptLoadRequest* aRequest) { LOG((\"ScriptLoadRequest (%p): Process request\", aRequest)); "
              },
              {
                "name": "FireScriptAvailable",
                "type": "method",
                "start_line": 2532,
                "end_line": 2550,
                "line_count": 19,
                "signature": "void ScriptLoader::FireScriptAvailable(nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "FireScriptEvaluated",
                "type": "method",
                "start_line": 2553,
                "end_line": 2567,
                "line_count": 15,
                "signature": "MOZ_CAN_RUN_SCRIPT_BOUNDARY void ScriptLoader::FireScriptEvaluated( nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "GetGlobalForRequest",
                "type": "method",
                "start_line": 2569,
                "end_line": 2579,
                "line_count": 11,
                "signature": "already_AddRefed<nsIGlobalObject> ScriptLoader::GetGlobalForRequest( ScriptLoadRequest* aRequest) { if (aRequest->IsModuleRequest()) {"
              },
              {
                "name": "GetScriptGlobalObject",
                "type": "method",
                "start_line": 2581,
                "end_line": 2601,
                "line_count": 21,
                "signature": "already_AddRefed<nsIScriptGlobalObject> ScriptLoader::GetScriptGlobalObject() { if (!mDocument) { return nullptr;"
              },
              {
                "name": "ApplyEagerBaselineStrategy",
                "type": "function",
                "start_line": 2603,
                "end_line": 2627,
                "line_count": 25,
                "signature": "static void ApplyEagerBaselineStrategy(JS::CompileOptions* aOptions) { uint32_t strategyIndex = StaticPrefs:: javascript_options_baselinejit_offthread_compilation_strategy();"
              },
              {
                "name": "FillCompileOptionsForRequest",
                "type": "method",
                "start_line": 2629,
                "end_line": 2690,
                "line_count": 62,
                "signature": "nsresult ScriptLoader::FillCompileOptionsForRequest( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions* aOptions, JS::MutableHandle<JSScript*> aIntroductionScript) {"
              },
              {
                "name": "ExecuteCompiledScript",
                "type": "function",
                "start_line": 2859,
                "end_line": 2875,
                "line_count": 17,
                "signature": "static void ExecuteCompiledScript(JSContext* aCx, ClassicScript* aLoaderScript, JS::Handle<JSScript*> aScript, ErrorResult& aRv) {"
              },
              {
                "name": "EvaluateScriptElement",
                "type": "method",
                "start_line": 2877,
                "end_line": 2959,
                "line_count": 83,
                "signature": "nsresult ScriptLoader::EvaluateScriptElement(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); "
              },
              {
                "name": "Decode",
                "type": "function",
                "start_line": 2962,
                "end_line": 2979,
                "line_count": 18,
                "signature": "static void Decode(JSContext* aCx, JS::CompileOptions& aCompileOptions, const JS::TranscodeRange& aBytecodeBuf, RefPtr<JS::Stencil>& aStencil, ErrorResult& aRv) {"
              },
              {
                "name": "InstantiateStencil",
                "type": "function",
                "start_line": 2986,
                "end_line": 3029,
                "line_count": 44,
                "signature": "static void InstantiateStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, JS::Stencil* aStencil, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromMaybeEncodedSource",
                "type": "method",
                "start_line": 3031,
                "end_line": 3144,
                "line_count": 114,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromMaybeEncodedSource( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromCachedStencil",
                "type": "method",
                "start_line": 3146,
                "end_line": 3176,
                "line_count": 31,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromCachedStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::Stencil* aStencil,"
              },
              {
                "name": "InstantiateClassicScriptFromAny",
                "type": "method",
                "start_line": 3178,
                "end_line": 3200,
                "line_count": 23,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromAny( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "GetCacheBehavior",
                "type": "method",
                "start_line": 3202,
                "end_line": 3243,
                "line_count": 42,
                "signature": "ScriptLoader::CacheBehavior ScriptLoader::GetCacheBehavior( ScriptLoadRequest* aRequest) { if (!mCache) {"
              },
              {
                "name": "TryCacheRequest",
                "type": "method",
                "start_line": 3245,
                "end_line": 3276,
                "line_count": 32,
                "signature": "void ScriptLoader::TryCacheRequest(ScriptLoadRequest* aRequest, RefPtr<JS::Stencil>& aStencil) { CacheBehavior cacheBehavior = GetCacheBehavior(aRequest);"
              },
              {
                "name": "MaybePrepareForCacheBeforeExecute",
                "type": "method",
                "start_line": 3286,
                "end_line": 3293,
                "line_count": 8,
                "signature": "void ScriptLoader::MaybePrepareForCacheBeforeExecute( ScriptLoadRequest* aRequest, JS::Handle<JSScript*> aScript) { if (!aRequest->PassedConditionForEitherCache()) {"
              },
              {
                "name": "MaybePrepareForCacheAfterExecute",
                "type": "method",
                "start_line": 3295,
                "end_line": 3324,
                "line_count": 30,
                "signature": "nsresult ScriptLoader::MaybePrepareForCacheAfterExecute( ScriptLoadRequest* aRequest, nsresult aRv) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "IsAlreadyHandledForCachePreparation",
                "type": "method",
                "start_line": 3326,
                "end_line": 3330,
                "line_count": 5,
                "signature": "bool ScriptLoader::IsAlreadyHandledForCachePreparation( ScriptLoadRequest* aRequest) { MOZ_ASSERT_IF(aRequest->isInList(), mCachingQueue.Contains(aRequest));"
              },
              {
                "name": "MaybePrepareModuleForCacheBeforeExecute",
                "type": "method",
                "start_line": 3332,
                "end_line": 3354,
                "line_count": 23,
                "signature": "void ScriptLoader::MaybePrepareModuleForCacheBeforeExecute( JSContext* aCx, ModuleLoadRequest* aRequest) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "MaybePrepareModuleForCacheAfterExecute",
                "type": "method",
                "start_line": 3356,
                "end_line": 3383,
                "line_count": 28,
                "signature": "nsresult ScriptLoader::MaybePrepareModuleForCacheAfterExecute( ModuleLoadRequest* aRequest, nsresult aRv) { if (IsAlreadyHandledForCachePreparation(aRequest)) {"
              },
              {
                "name": "EvaluateScript",
                "type": "method",
                "start_line": 3385,
                "end_line": 3495,
                "line_count": 111,
                "signature": "nsresult ScriptLoader::EvaluateScript(nsIGlobalObject* aGlobalObject, ScriptLoadRequest* aRequest) { nsAutoMicroTask mt;"
              },
              {
                "name": "RegisterForCache",
                "type": "method",
                "start_line": 3507,
                "end_line": 3513,
                "line_count": 7,
                "signature": "void ScriptLoader::RegisterForCache(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsMarkedForEitherCache()); MOZ_ASSERT_IF(aRequest->IsMarkedForDiskCache(),"
              },
              {
                "name": "LoadEventFired",
                "type": "method",
                "start_line": 3515,
                "end_line": 3518,
                "line_count": 4,
                "signature": "void ScriptLoader::LoadEventFired() { mLoadEventFired = true; MaybeUpdateCache();"
              },
              {
                "name": "Destroy",
                "type": "method",
                "start_line": 3520,
                "end_line": 3528,
                "line_count": 9,
                "signature": "void ScriptLoader::Destroy() { if (mShutdownObserver) { mShutdownObserver->Unregister();"
              },
              {
                "name": "MaybeUpdateCache",
                "type": "method",
                "start_line": 3530,
                "end_line": 3573,
                "line_count": 44,
                "signature": "void ScriptLoader::MaybeUpdateCache() { // If we already gave up, ensure that we are not going to enqueue any script, // and that we finalize them properly."
              },
              {
                "name": "UpdateCache",
                "type": "method",
                "start_line": 3575,
                "end_line": 3624,
                "line_count": 50,
                "signature": "void ScriptLoader::UpdateCache() { LOG((\"ScriptLoader (%p): Start bytecode encoding.\", this)); "
              },
              {
                "name": "FinishCollectingDelazifications",
                "type": "method",
                "start_line": 3626,
                "end_line": 3647,
                "line_count": 22,
                "signature": "already_AddRefed<JS::Stencil> ScriptLoader::FinishCollectingDelazifications( JSContext* aCx, ScriptLoadRequest* aRequest) { RefPtr<JS::Stencil> stencil;"
              },
              {
                "name": "EncodeBytecodeAndSave",
                "type": "method",
                "start_line": 3649,
                "end_line": 3731,
                "line_count": 83,
                "signature": "void ScriptLoader::EncodeBytecodeAndSave( JSContext* aCx, ScriptLoadRequest* aRequest, nsCOMPtr<nsICacheInfoChannel>& aCacheInfo, nsCString& aMimeType,"
              },
              {
                "name": "GiveUpCaching",
                "type": "method",
                "start_line": 3733,
                "end_line": 3778,
                "line_count": 46,
                "signature": "void ScriptLoader::GiveUpCaching() { // If the document went away prematurely, we still want to set this, in order // to avoid queuing more scripts."
              },
              {
                "name": "HasPendingRequests",
                "type": "method",
                "start_line": 3780,
                "end_line": 3787,
                "line_count": 8,
                "signature": "bool ScriptLoader::HasPendingRequests() const { return mParserBlockingRequest || !mXSLTRequests.isEmpty() || !mLoadedAsyncRequests.isEmpty() ||"
              },
              {
                "name": "HasPendingDynamicImports",
                "type": "method",
                "start_line": 3789,
                "end_line": 3807,
                "line_count": 19,
                "signature": "bool ScriptLoader::HasPendingDynamicImports() const { if (mModuleLoader && mModuleLoader->HasPendingDynamicImports()) { return true;"
              },
              {
                "name": "ProcessPendingRequestsAsync",
                "type": "method",
                "start_line": 3809,
                "end_line": 3820,
                "line_count": 12,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsync() { if (HasPendingRequests()) { nsCOMPtr<nsIRunnable> task = NewRunnableMethod<bool>("
              },
              {
                "name": "ProcessPendingRequestsCallback",
                "type": "function",
                "start_line": 3822,
                "end_line": 3825,
                "line_count": 4,
                "signature": "void ProcessPendingRequestsCallback(nsITimer* aTimer, void* aClosure) { RefPtr<ScriptLoader> sl = static_cast<ScriptLoader*>(aClosure); sl->ProcessPendingRequests(true);"
              },
              {
                "name": "ProcessPendingRequestsAsyncBypassParserBlocking",
                "type": "method",
                "start_line": 3827,
                "end_line": 3840,
                "line_count": 14,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsyncBypassParserBlocking() { MOZ_ASSERT(HasPendingRequests()); "
              },
              {
                "name": "ProcessPendingRequests",
                "type": "method",
                "start_line": 3842,
                "end_line": 3924,
                "line_count": 83,
                "signature": "void ScriptLoader::ProcessPendingRequests(bool aAllowBypassingParserBlocking) { RefPtr<ScriptLoadRequest> request; "
              },
              {
                "name": "ReadyToExecuteParserBlockingScripts",
                "type": "method",
                "start_line": 3926,
                "end_line": 3949,
                "line_count": 24,
                "signature": "bool ScriptLoader::ReadyToExecuteParserBlockingScripts() { // Make sure the SelfReadyToExecuteParserBlockingScripts check is first, so // that we don't block twice on an ancestor."
              },
              {
                "name": "ConvertToUnicode",
                "type": "function",
                "start_line": 3952,
                "end_line": 4029,
                "line_count": 78,
                "signature": "static nsresult ConvertToUnicode(nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset,"
              },
              {
                "name": "ConvertToUTF16",
                "type": "method",
                "start_line": 4032,
                "end_line": 4043,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF16( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "ConvertToUTF8",
                "type": "method",
                "start_line": 4046,
                "end_line": 4057,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF8( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "OnStreamComplete",
                "type": "method",
                "start_line": 4059,
                "end_line": 4099,
                "line_count": 41,
                "signature": "nsresult ScriptLoader::OnStreamComplete( nsIIncrementalStreamLoader* aLoader, ScriptLoadRequest* aRequest, nsresult aChannelStatus, nsresult aSRIStatus,"
              },
              {
                "name": "VerifySRI",
                "type": "method",
                "start_line": 4101,
                "end_line": 4127,
                "line_count": 27,
                "signature": "nsresult ScriptLoader::VerifySRI(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aSRIStatus,"
              },
              {
                "name": "SaveSRIHash",
                "type": "method",
                "start_line": 4129,
                "end_line": 4185,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::SaveSRIHash( ScriptLoadRequest* aRequest, SRICheckDataVerifier* aSRIDataVerifier) const { MOZ_ASSERT(aRequest->IsSource());"
              },
              {
                "name": "ReportErrorToConsole",
                "type": "method",
                "start_line": 4187,
                "end_line": 4232,
                "line_count": 46,
                "signature": "void ScriptLoader::ReportErrorToConsole(ScriptLoadRequest* aRequest, nsresult aResult) const { MOZ_ASSERT(aRequest);"
              },
              {
                "name": "ReportWarningToConsole",
                "type": "method",
                "start_line": 4234,
                "end_line": 4245,
                "line_count": 12,
                "signature": "void ScriptLoader::ReportWarningToConsole( ScriptLoadRequest* aRequest, const char* aMessageName, const nsTArray<nsString>& aParams) const {"
              },
              {
                "name": "ReportPreloadErrorsToConsole",
                "type": "method",
                "start_line": 4247,
                "end_line": 4257,
                "line_count": 11,
                "signature": "void ScriptLoader::ReportPreloadErrorsToConsole(ScriptLoadRequest* aRequest) { if (NS_FAILED(aRequest->GetScriptLoadContext()->mUnreportedPreloadError)) { ReportErrorToConsole("
              },
              {
                "name": "HandleLoadError",
                "type": "method",
                "start_line": 4259,
                "end_line": 4349,
                "line_count": 91,
                "signature": "void ScriptLoader::HandleLoadError(ScriptLoadRequest* aRequest, nsresult aResult) { /*"
              },
              {
                "name": "HandleLoadErrorAndProcessPendingRequests",
                "type": "method",
                "start_line": 4351,
                "end_line": 4356,
                "line_count": 6,
                "signature": "void ScriptLoader::HandleLoadErrorAndProcessPendingRequests( ScriptLoadRequest* aRequest, nsresult aResult) { HandleLoadError(aRequest, aResult);"
              },
              {
                "name": "UnblockParser",
                "type": "method",
                "start_line": 4358,
                "end_line": 4360,
                "line_count": 3,
                "signature": "void ScriptLoader::UnblockParser(ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->UnblockParser(); }"
              },
              {
                "name": "ContinueParserAsync",
                "type": "method",
                "start_line": 4362,
                "end_line": 4365,
                "line_count": 4,
                "signature": "void ScriptLoader::ContinueParserAsync( ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->ContinueParserAsync();"
              },
              {
                "name": "NumberOfProcessors",
                "type": "method",
                "start_line": 4367,
                "end_line": 4377,
                "line_count": 11,
                "signature": "uint32_t ScriptLoader::NumberOfProcessors() { if (mNumberOfProcessors > 0) { return mNumberOfProcessors;"
              },
              {
                "name": "PhysicalSizeOfMemoryInGB",
                "type": "method",
                "start_line": 4379,
                "end_line": 4390,
                "line_count": 12,
                "signature": "int32_t ScriptLoader::PhysicalSizeOfMemoryInGB() { // 0 is a valid result from PR_GetPhysicalMemorySize() which // means a failure occured."
              },
              {
                "name": "ShouldApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4392,
                "end_line": 4424,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldApplyDelazifyStrategy(ScriptLoadRequest* aRequest) { // Full parse everything if negative. if (StaticPrefs::dom_script_loader_delazification_max_size() < 0) {"
              },
              {
                "name": "ApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4426,
                "end_line": 4456,
                "line_count": 31,
                "signature": "void ScriptLoader::ApplyDelazifyStrategy(JS::CompileOptions* aOptions) { JS::DelazificationOption strategy = JS::DelazificationOption::ParseEverythingEagerly;"
              },
              {
                "name": "ShouldCompileOffThread",
                "type": "method",
                "start_line": 4458,
                "end_line": 4490,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldCompileOffThread(ScriptLoadRequest* aRequest) { if (NumberOfProcessors() <= 1) { return false;"
              },
              {
                "name": "MimeTypeMatchesExpectedModuleType",
                "type": "function",
                "start_line": 4492,
                "end_line": 4510,
                "line_count": 19,
                "signature": "static bool MimeTypeMatchesExpectedModuleType( nsIChannel* aChannel, JS::ModuleType expectedModuleType) { nsAutoCString mimeType;"
              },
              {
                "name": "PrepareLoadedRequest",
                "type": "method",
                "start_line": 4512,
                "end_line": 4647,
                "line_count": 136,
                "signature": "nsresult ScriptLoader::PrepareLoadedRequest(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aStatus) {"
              },
              {
                "name": "DeferCheckpointReached",
                "type": "method",
                "start_line": 4649,
                "end_line": 4658,
                "line_count": 10,
                "signature": "void ScriptLoader::DeferCheckpointReached() { if (mDeferEnabled) { // Have to check because we apparently get ParsingComplete"
              },
              {
                "name": "ParsingComplete",
                "type": "method",
                "start_line": 4660,
                "end_line": 4667,
                "line_count": 8,
                "signature": "void ScriptLoader::ParsingComplete(bool aTerminated) { if (aTerminated) { CancelAndClearScriptLoadRequests();"
              },
              {
                "name": "PreloadURI",
                "type": "method",
                "start_line": 4669,
                "end_line": 4746,
                "line_count": 78,
                "signature": "void ScriptLoader::PreloadURI( nsIURI* aURI, const nsAString& aCharset, const nsAString& aType, const nsAString& aCrossOrigin, const nsAString& aNonce,"
              },
              {
                "name": "AddDeferRequest",
                "type": "method",
                "start_line": 4748,
                "end_line": 4762,
                "line_count": 15,
                "signature": "void ScriptLoader::AddDeferRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsDeferredScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "AddAsyncRequest",
                "type": "method",
                "start_line": 4764,
                "end_line": 4776,
                "line_count": 13,
                "signature": "void ScriptLoader::AddAsyncRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsAsyncScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "MaybeMoveToLoadedList",
                "type": "method",
                "start_line": 4778,
                "end_line": 4798,
                "line_count": 21,
                "signature": "void ScriptLoader::MaybeMoveToLoadedList(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); MOZ_ASSERT(aRequest->IsTopLevel());"
              },
              {
                "name": "MaybeRemovedDeferRequests",
                "type": "method",
                "start_line": 4800,
                "end_line": 4807,
                "line_count": 8,
                "signature": "bool ScriptLoader::MaybeRemovedDeferRequests() { if (mDeferRequests.isEmpty() && mDocument && mBlockingDOMContentLoaded) { mBlockingDOMContentLoaded = false;"
              },
              {
                "name": "BeginDeferringScripts",
                "type": "method",
                "start_line": 4811,
                "end_line": 4826,
                "line_count": 16,
                "signature": "void ScriptLoader::BeginDeferringScripts() { if (mDeferEnabled || mDeferCheckpointReached) { // We already started loading. Now, document.open() happened and we're doing"
              },
              {
                "name": "nsAutoScriptLoaderDisabler",
                "type": "method",
                "start_line": 4828,
                "end_line": 4834,
                "line_count": 7,
                "signature": "nsAutoScriptLoaderDisabler::nsAutoScriptLoaderDisabler(Document* aDoc) { mLoader = aDoc->ScriptLoader(); mWasEnabled = mLoader->GetEnabled();"
              }
            ]
          },
          "hunks_count": 3,
          "hunk_ranges": [
            "@@ -2718,11 @@",
            "@@ -2796,8 @@",
            "@@ -2814,13 @@"
          ]
        },
        {
          "commit_hash": "f551e9b80401",
          "full_hash": "f551e9b804013f1f2fc825ff20b8de51bf7fc152",
          "parent_hash": "a10921d560a0c2c178f98aefcd43207af8d95097",
          "commit_type": "regressor",
          "filepath": "dom/script/ScriptLoader.cpp",
          "diff_found": true,
          "diff_path": "/Users/sidiqafekrat/Mozilla_crashAnalyzer_BugBug/method2_bugzilla_bugs/outputs/step5_extracted_diffs/bug_1991250/regressor_commits/regressor_1980152_f551e9b80401/dom_script_ScriptLoader.cpp.diff",
          "methods_count": 142,
          "matched_methods": {
            "fully_modified": [],
            "partially_modified": [
              {
                "name": "UpdateCache",
                "type": "method",
                "start_line": 3579,
                "end_line": 3628,
                "line_count": 50,
                "signature": "void ScriptLoader::UpdateCache() { LOG((\"ScriptLoader (%p): Start bytecode encoding.\", this)); ",
                "changed_lines": [
                  3608,
                  3609,
                  3610,
                  3611,
                  3612,
                  3613,
                  3614,
                  3615,
                  3616,
                  3617,
                  3618,
                  3622,
                  3623,
                  3624,
                  3625,
                  3626,
                  3627,
                  3628
                ],
                "overlap_count": 18,
                "overlap_percentage": 36.0
              },
              {
                "name": "EncodeBytecodeAndSave",
                "type": "method",
                "start_line": 3653,
                "end_line": 3735,
                "line_count": 83,
                "signature": "void ScriptLoader::EncodeBytecodeAndSave( JSContext* aCx, ScriptLoadRequest* aRequest, nsCOMPtr<nsICacheInfoChannel>& aCacheInfo, nsCString& aMimeType,",
                "changed_lines": [
                  3654,
                  3655,
                  3656,
                  3657,
                  3658,
                  3659,
                  3660
                ],
                "overlap_count": 7,
                "overlap_percentage": 8.4
              }
            ],
            "unmodified": [
              {
                "name": "OnShutdown",
                "type": "method",
                "start_line": 127,
                "end_line": 132,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::OnShutdown() { if (mScriptLoader) { mScriptLoader->Destroy();"
              },
              {
                "name": "Unregister",
                "type": "method",
                "start_line": 134,
                "end_line": 139,
                "line_count": 6,
                "signature": "void AsyncCompileShutdownObserver::Unregister() { if (mScriptLoader) { mScriptLoader = nullptr;"
              },
              {
                "name": "Observe",
                "type": "method",
                "start_line": 141,
                "end_line": 146,
                "line_count": 6,
                "signature": "NS_IMETHODIMP AsyncCompileShutdownObserver::Observe(nsISupports* aSubject, const char* aTopic, const char16_t* aData) {"
              },
              {
                "name": "ImplCycleCollectionUnlink",
                "type": "function",
                "start_line": 152,
                "end_line": 154,
                "line_count": 3,
                "signature": "inline void ImplCycleCollectionUnlink(ScriptLoader::PreloadInfo& aField) { ImplCycleCollectionUnlink(aField.mRequest); }"
              },
              {
                "name": "ImplCycleCollectionTraverse",
                "type": "function",
                "start_line": 156,
                "end_line": 160,
                "line_count": 5,
                "signature": "inline void ImplCycleCollectionTraverse( nsCycleCollectionTraversalCallback& aCallback, ScriptLoader::PreloadInfo& aField, const char* aName, uint32_t aFlags = 0) {"
              },
              {
                "name": "ScriptLoader",
                "type": "method",
                "start_line": 195,
                "end_line": 232,
                "line_count": 38,
                "signature": "ScriptLoader::ScriptLoader(Document* aDocument) : mDocument(aDocument), mParserBlockingBlockerCount(0),"
              },
              {
                "name": "SetGlobalObject",
                "type": "method",
                "start_line": 287,
                "end_line": 305,
                "line_count": 19,
                "signature": "void ScriptLoader::SetGlobalObject(nsIGlobalObject* aGlobalObject) { if (!aGlobalObject) { // The document is being detached."
              },
              {
                "name": "DropDocumentReference",
                "type": "method",
                "start_line": 307,
                "end_line": 313,
                "line_count": 7,
                "signature": "void ScriptLoader::DropDocumentReference() { if (mDocument && mCache) { DeregisterFromCache();"
              },
              {
                "name": "RegisterToCache",
                "type": "method",
                "start_line": 315,
                "end_line": 320,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterToCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "DeregisterFromCache",
                "type": "method",
                "start_line": 322,
                "end_line": 328,
                "line_count": 7,
                "signature": "void ScriptLoader::DeregisterFromCache() { if (mCache) { MOZ_ASSERT(mDocument);"
              },
              {
                "name": "ShouldBypassCache",
                "type": "method",
                "start_line": 338,
                "end_line": 340,
                "line_count": 3,
                "signature": "bool ScriptLoader::ShouldBypassCache() const { return mDocument && nsContentUtils::ShouldBypassSubResourceCache(mDocument); }"
              },
              {
                "name": "RegisterContentScriptModuleLoader",
                "type": "method",
                "start_line": 342,
                "end_line": 347,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterContentScriptModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "RegisterShadowRealmModuleLoader",
                "type": "method",
                "start_line": 349,
                "end_line": 354,
                "line_count": 6,
                "signature": "void ScriptLoader::RegisterShadowRealmModuleLoader(ModuleLoader* aLoader) { MOZ_ASSERT(aLoader); MOZ_ASSERT(aLoader->GetScriptLoader() == this);"
              },
              {
                "name": "CollectScriptTelemetry",
                "type": "function",
                "start_line": 358,
                "end_line": 385,
                "line_count": 28,
                "signature": "static void CollectScriptTelemetry(ScriptLoadRequest* aRequest) { using namespace mozilla::glean::dom; "
              },
              {
                "name": "IsScriptEventHandler",
                "type": "function",
                "start_line": 395,
                "end_line": 428,
                "line_count": 34,
                "signature": "static bool IsScriptEventHandler(ScriptKind kind, nsIContent* aScriptElement) { if (kind != ScriptKind::eClassic) { return false;"
              },
              {
                "name": "ScriptLoadRequestToContentPolicyType",
                "type": "function",
                "start_line": 430,
                "end_line": 463,
                "line_count": 34,
                "signature": "nsContentPolicyType ScriptLoadRequestToContentPolicyType( ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsPreload()) {"
              },
              {
                "name": "ComputeRequestModeForContentPolicy",
                "type": "function",
                "start_line": 465,
                "end_line": 475,
                "line_count": 11,
                "signature": "RequestMode ComputeRequestModeForContentPolicy( const ScriptLoadRequest* aRequest) { auto corsMapping ="
              },
              {
                "name": "CheckContentPolicy",
                "type": "method",
                "start_line": 477,
                "end_line": 518,
                "line_count": 42,
                "signature": "nsresult ScriptLoader::CheckContentPolicy(nsIScriptElement* aElement, const nsAString& aNonce, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "IsAboutPageLoadingChromeURI",
                "type": "method",
                "start_line": 521,
                "end_line": 565,
                "line_count": 45,
                "signature": "bool ScriptLoader::IsAboutPageLoadingChromeURI(ScriptLoadRequest* aRequest, Document* aDocument) { // if the uri to be loaded is not of scheme chrome:, there is nothing to do."
              },
              {
                "name": "ScriptRequestProcessor",
                "type": "function",
                "start_line": 578,
                "end_line": 581,
                "line_count": 4,
                "signature": "ScriptRequestProcessor(ScriptLoader* aLoader, ScriptLoadRequest* aRequest) : Runnable(\"dom::ScriptRequestProcessor\"), mLoader(aLoader),"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 582,
                "end_line": 582,
                "line_count": 1,
                "signature": "NS_IMETHOD Run() override { return mLoader->ProcessRequest(mRequest); } }; "
              },
              {
                "name": "RunScriptWhenSafe",
                "type": "method",
                "start_line": 585,
                "end_line": 588,
                "line_count": 4,
                "signature": "void ScriptLoader::RunScriptWhenSafe(ScriptLoadRequest* aRequest) { auto* runnable = new ScriptRequestProcessor(this, aRequest); nsContentUtils::AddScriptRunner(runnable);"
              },
              {
                "name": "RestartLoad",
                "type": "method",
                "start_line": 590,
                "end_line": 613,
                "line_count": 24,
                "signature": "nsresult ScriptLoader::RestartLoad(ScriptLoadRequest* aRequest) { aRequest->DropBytecode(); TRACE_FOR_TEST(aRequest, \"scriptloader_fallback\");"
              },
              {
                "name": "StartLoad",
                "type": "method",
                "start_line": 615,
                "end_line": 623,
                "line_count": 9,
                "signature": "nsresult ScriptLoader::StartLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CORSModeToSecurityFlags",
                "type": "function",
                "start_line": 625,
                "end_line": 634,
                "line_count": 10,
                "signature": "static nsSecurityFlags CORSModeToSecurityFlags(CORSMode aCORSMode) { nsSecurityFlags securityFlags = nsContentSecurityManager::ComputeSecurityFlags("
              },
              {
                "name": "StartClassicLoad",
                "type": "method",
                "start_line": 636,
                "end_line": 667,
                "line_count": 32,
                "signature": "nsresult ScriptLoader::StartClassicLoad( ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "IsWebExtensionRequest",
                "type": "function",
                "start_line": 669,
                "end_line": 677,
                "line_count": 9,
                "signature": "static bool IsWebExtensionRequest(ScriptLoadRequest* aRequest) { if (!aRequest->IsModuleRequest()) { return false;"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 679,
                "end_line": 693,
                "line_count": 15,
                "signature": "static nsresult CreateChannelForScriptLoading( nsIChannel** aOutChannel, Document* aDocument, nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "CreateChannelForScriptLoading",
                "type": "function",
                "start_line": 695,
                "end_line": 712,
                "line_count": 18,
                "signature": "static nsresult CreateChannelForScriptLoading(nsIChannel** aOutChannel, Document* aDocument, ScriptLoadRequest* aRequest,"
              },
              {
                "name": "PrepareLoadInfoForScriptLoading",
                "type": "function",
                "start_line": 714,
                "end_line": 721,
                "line_count": 8,
                "signature": "static void PrepareLoadInfoForScriptLoading(nsIChannel* aChannel, const ScriptLoadRequest* aRequest) { nsCOMPtr<nsILoadInfo> loadInfo = aChannel->LoadInfo();"
              },
              {
                "name": "PrepareCacheInfoChannel",
                "type": "method",
                "start_line": 724,
                "end_line": 754,
                "line_count": 31,
                "signature": "void ScriptLoader::PrepareCacheInfoChannel(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { // To avoid decoding issues, the build-id is part of the bytecode MIME type"
              },
              {
                "name": "AdjustPriorityAndClassOfServiceForLinkPreloadScripts",
                "type": "function",
                "start_line": 756,
                "end_line": 794,
                "line_count": 39,
                "signature": "static void AdjustPriorityAndClassOfServiceForLinkPreloadScripts( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "AdjustPriorityForNonLinkPreloadScripts",
                "type": "function",
                "start_line": 796,
                "end_line": 846,
                "line_count": 51,
                "signature": "void AdjustPriorityForNonLinkPreloadScripts(nsIChannel* aChannel, ScriptLoadRequest* aRequest) { MOZ_ASSERT(!aRequest->GetScriptLoadContext()->IsLinkPreloadScript());"
              },
              {
                "name": "PrepareRequestPriorityAndRequestDependencies",
                "type": "method",
                "start_line": 849,
                "end_line": 890,
                "line_count": 42,
                "signature": "void ScriptLoader::PrepareRequestPriorityAndRequestDependencies( nsIChannel* aChannel, ScriptLoadRequest* aRequest) { if (aRequest->GetScriptLoadContext()->IsLinkPreloadScript()) {"
              },
              {
                "name": "GetInitiatorType",
                "type": "function",
                "start_line": 892,
                "end_line": 902,
                "line_count": 11,
                "signature": "inline nsLiteralString GetInitiatorType(ScriptLoadRequest* aRequest) { if (aRequest->mEarlyHintPreloaderId) { return u\"early-hints\"_ns;"
              },
              {
                "name": "PrepareHttpRequestAndInitiatorType",
                "type": "method",
                "start_line": 905,
                "end_line": 939,
                "line_count": 35,
                "signature": "nsresult ScriptLoader::PrepareHttpRequestAndInitiatorType( nsIChannel* aChannel, ScriptLoadRequest* aRequest, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "PrepareIncrementalStreamLoader",
                "type": "method",
                "start_line": 941,
                "end_line": 958,
                "line_count": 18,
                "signature": "nsresult ScriptLoader::PrepareIncrementalStreamLoader( nsIIncrementalStreamLoader** aOutLoader, nsIChannel* aChannel, ScriptLoadRequest* aRequest) {"
              },
              {
                "name": "StartLoadInternal",
                "type": "method",
                "start_line": 960,
                "end_line": 1031,
                "line_count": 72,
                "signature": "nsresult ScriptLoader::StartLoadInternal( ScriptLoadRequest* aRequest, nsSecurityFlags securityFlags, const Maybe<nsAutoString>& aCharsetForPreload) {"
              },
              {
                "name": "CSPAllowsInlineScript",
                "type": "function",
                "start_line": 1039,
                "end_line": 1062,
                "line_count": 24,
                "signature": "static bool CSPAllowsInlineScript(nsIScriptElement* aElement, const nsAString& aSourceText, const nsAString& aNonce,"
              },
              {
                "name": "FetchPriorityToRequestPriority",
                "type": "function",
                "start_line": 1065,
                "end_line": 1078,
                "line_count": 14,
                "signature": "RequestPriority FetchPriorityToRequestPriority( const FetchPriority aFetchPriority) { switch (aFetchPriority) {"
              },
              {
                "name": "NotifyObserversForCachedScript",
                "type": "method",
                "start_line": 1081,
                "end_line": 1115,
                "line_count": 35,
                "signature": "void ScriptLoader::NotifyObserversForCachedScript( nsIURI* aURI, nsINode* aContext, nsIPrincipal* aTriggeringPrincipal, nsSecurityFlags aSecurityFlags, nsContentPolicyType aContentPolicyType,"
              },
              {
                "name": "CreateLoadRequest",
                "type": "method",
                "start_line": 1117,
                "end_line": 1148,
                "line_count": 32,
                "signature": "already_AddRefed<ScriptLoadRequest> ScriptLoader::CreateLoadRequest( ScriptKind aKind, nsIURI* aURI, nsIScriptElement* aElement, const nsAString& aScriptContent, nsIPrincipal* aTriggeringPrincipal,"
              },
              {
                "name": "TryUseCache",
                "type": "method",
                "start_line": 1150,
                "end_line": 1190,
                "line_count": 41,
                "signature": "void ScriptLoader::TryUseCache(ScriptLoadRequest* aRequest, nsIScriptElement* aElement, const nsAString& aNonce,"
              },
              {
                "name": "EmulateNetworkEvents",
                "type": "method",
                "start_line": 1192,
                "end_line": 1222,
                "line_count": 31,
                "signature": "void ScriptLoader::EmulateNetworkEvents(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsStencil()); MOZ_ASSERT(aRequest->mNetworkMetadata);"
              },
              {
                "name": "ProcessScriptElement",
                "type": "method",
                "start_line": 1224,
                "end_line": 1267,
                "line_count": 44,
                "signature": "bool ScriptLoader::ProcessScriptElement(nsIScriptElement* aElement, const nsAString& aSourceText) { // We need a document to evaluate scripts."
              },
              {
                "name": "GetParserMetadata",
                "type": "function",
                "start_line": 1269,
                "end_line": 1273,
                "line_count": 5,
                "signature": "static ParserMetadata GetParserMetadata(nsIScriptElement* aElement) { return aElement->GetParserCreated() == mozilla::dom::NOT_FROM_PARSER ? ParserMetadata::NotParserInserted"
              },
              {
                "name": "ProcessExternalScript",
                "type": "method",
                "start_line": 1275,
                "end_line": 1551,
                "line_count": 277,
                "signature": "bool ScriptLoader::ProcessExternalScript(nsIScriptElement* aElement, ScriptKind aScriptKind, nsIContent* aScriptContent) {"
              },
              {
                "name": "ProcessInlineScript",
                "type": "method",
                "start_line": 1553,
                "end_line": 1734,
                "line_count": 182,
                "signature": "bool ScriptLoader::ProcessInlineScript(nsIScriptElement* aElement, ScriptKind aScriptKind, const nsAString& aSourceText) {"
              },
              {
                "name": "GetSRIMetadata",
                "type": "method",
                "start_line": 1802,
                "end_line": 1820,
                "line_count": 19,
                "signature": "void ScriptLoader::GetSRIMetadata(const nsAString& aIntegrityAttr, SRIMetadata* aMetadataOut) { MOZ_ASSERT(aMetadataOut->IsEmpty());"
              },
              {
                "name": "GetReferrerPolicy",
                "type": "method",
                "start_line": 1822,
                "end_line": 1828,
                "line_count": 7,
                "signature": "ReferrerPolicy ScriptLoader::GetReferrerPolicy(nsIScriptElement* aElement) { ReferrerPolicy scriptReferrerPolicy = aElement->GetReferrerPolicy(); if (scriptReferrerPolicy != ReferrerPolicy::_empty) {"
              },
              {
                "name": "CancelAndClearScriptLoadRequests",
                "type": "method",
                "start_line": 1830,
                "end_line": 1862,
                "line_count": 33,
                "signature": "void ScriptLoader::CancelAndClearScriptLoadRequests() { // Cancel all requests that have not been executed and remove them. "
              },
              {
                "name": "CompileOffThreadOrProcessRequest",
                "type": "method",
                "start_line": 1864,
                "end_line": 1885,
                "line_count": 22,
                "signature": "nsresult ScriptLoader::CompileOffThreadOrProcessRequest( ScriptLoadRequest* aRequest) { NS_ASSERTION(nsContentUtils::IsSafeToRunScript(),"
              },
              {
                "name": "OffThreadCompilationCompleteTask",
                "type": "function",
                "start_line": 1891,
                "end_line": 1897,
                "line_count": 7,
                "signature": "OffThreadCompilationCompleteTask(ScriptLoadRequest* aRequest, ScriptLoader* aLoader) : Task(Kind::MainThreadOnly, EventQueuePriority::Normal),"
              },
              {
                "name": "RecordStartTime",
                "type": "method",
                "start_line": 1899,
                "end_line": 1899,
                "line_count": 1,
                "signature": "void RecordStartTime() { mStartTime = TimeStamp::Now(); } void RecordStopTime() { mStopTime = TimeStamp::Now(); } "
              },
              {
                "name": "RecordStopTime",
                "type": "method",
                "start_line": 1900,
                "end_line": 1900,
                "line_count": 1,
                "signature": "void RecordStopTime() { mStopTime = TimeStamp::Now(); }  #ifdef MOZ_COLLECTING_RUNNABLE_TELEMETRY"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 1903,
                "end_line": 1906,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"dom::OffThreadCompilationCompleteTask\"); return true;"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 1909,
                "end_line": 1942,
                "line_count": 34,
                "signature": "TaskResult Run() override { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "AttemptOffThreadScriptCompile",
                "type": "method",
                "start_line": 1971,
                "end_line": 2069,
                "line_count": 99,
                "signature": "nsresult ScriptLoader::AttemptOffThreadScriptCompile( ScriptLoadRequest* aRequest, bool* aCouldCompileOut) { // If speculative parsing is enabled, the request may not be ready to run if"
              },
              {
                "name": "CompileOrDecodeTask",
                "type": "method",
                "start_line": 2071,
                "end_line": 2074,
                "line_count": 4,
                "signature": "CompileOrDecodeTask::CompileOrDecodeTask() : Task(Kind::OffMainThreadOnly, EventQueuePriority::Normal), mMutex(\"CompileOrDecodeTask\"),"
              },
              {
                "name": "InitFrontendContext",
                "type": "method",
                "start_line": 2083,
                "end_line": 2090,
                "line_count": 8,
                "signature": "nsresult CompileOrDecodeTask::InitFrontendContext() { mFrontendContext = JS::NewFrontendContext(); if (!mFrontendContext) {"
              },
              {
                "name": "DidRunTask",
                "type": "method",
                "start_line": 2092,
                "end_line": 2102,
                "line_count": 11,
                "signature": "void CompileOrDecodeTask::DidRunTask(const MutexAutoLock& aProofOfLock, RefPtr<JS::Stencil>&& aStencil) { if (aStencil) {"
              },
              {
                "name": "StealResult",
                "type": "method",
                "start_line": 2104,
                "end_line": 2136,
                "line_count": 33,
                "signature": "already_AddRefed<JS::Stencil> CompileOrDecodeTask::StealResult( JSContext* aCx, JS::InstantiationStorage* aInstantiationStorage) { JS::FrontendContext* fc = mFrontendContext;"
              },
              {
                "name": "Cancel",
                "type": "method",
                "start_line": 2138,
                "end_line": 2144,
                "line_count": 7,
                "signature": "void CompileOrDecodeTask::Cancel() { MOZ_ASSERT(NS_IsMainThread()); "
              },
              {
                "name": "ScriptOrModuleCompileTask",
                "type": "function",
                "start_line": 2151,
                "end_line": 2153,
                "line_count": 3,
                "signature": "explicit ScriptOrModuleCompileTask( ScriptLoader::MaybeSourceText&& aMaybeSource) : CompileOrDecodeTask(), mMaybeSource(std::move(aMaybeSource)) {}"
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2155,
                "end_line": 2165,
                "line_count": 11,
                "signature": "nsresult Init(JS::CompileOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2167,
                "end_line": 2178,
                "line_count": 12,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Compile",
                "type": "method",
                "start_line": 2181,
                "end_line": 2195,
                "line_count": 15,
                "signature": "already_AddRefed<JS::Stencil> Compile() { size_t stackSize = TaskController::GetThreadStackSize(); JS::SetNativeStackQuota(mFrontendContext,"
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2199,
                "end_line": 2206,
                "line_count": 8,
                "signature": "bool GetName(nsACString& aName) override { if constexpr (target == CompilationTarget::Script) { aName.AssignLiteral(\"ScriptCompileTask\");"
              },
              {
                "name": "ScriptDecodeTask",
                "type": "function",
                "start_line": 2220,
                "end_line": 2221,
                "line_count": 2,
                "signature": "explicit ScriptDecodeTask(const JS::TranscodeRange& aRange) : mRange(aRange) {} "
              },
              {
                "name": "Init",
                "type": "method",
                "start_line": 2223,
                "end_line": 2233,
                "line_count": 11,
                "signature": "nsresult Init(JS::DecodeOptions& aOptions) { nsresult rv = InitFrontendContext(); NS_ENSURE_SUCCESS(rv, rv);"
              },
              {
                "name": "Run",
                "type": "method",
                "start_line": 2235,
                "end_line": 2250,
                "line_count": 16,
                "signature": "TaskResult Run() override { MutexAutoLock lock(mMutex); "
              },
              {
                "name": "Decode",
                "type": "method",
                "start_line": 2253,
                "end_line": 2260,
                "line_count": 8,
                "signature": "already_AddRefed<JS::Stencil> Decode() { // NOTE: JS::DecodeStencil doesn't need the stack quota. "
              },
              {
                "name": "GetName",
                "type": "method",
                "start_line": 2264,
                "end_line": 2267,
                "line_count": 4,
                "signature": "bool GetName(nsACString& aName) override { aName.AssignLiteral(\"ScriptDecodeTask\"); return true;"
              },
              {
                "name": "CreateOffThreadTask",
                "type": "method",
                "start_line": 2276,
                "end_line": 2341,
                "line_count": 66,
                "signature": "nsresult ScriptLoader::CreateOffThreadTask( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions& aOptions, CompileOrDecodeTask** aCompileOrDecodeTask) {"
              },
              {
                "name": "ProcessOffThreadRequest",
                "type": "method",
                "start_line": 2343,
                "end_line": 2399,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::ProcessOffThreadRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsCompiling()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mWasCompiledOMT);"
              },
              {
                "name": "ProcessRequest",
                "type": "method",
                "start_line": 2401,
                "end_line": 2530,
                "line_count": 130,
                "signature": "nsresult ScriptLoader::ProcessRequest(ScriptLoadRequest* aRequest) { LOG((\"ScriptLoadRequest (%p): Process request\", aRequest)); "
              },
              {
                "name": "FireScriptAvailable",
                "type": "method",
                "start_line": 2532,
                "end_line": 2550,
                "line_count": 19,
                "signature": "void ScriptLoader::FireScriptAvailable(nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "FireScriptEvaluated",
                "type": "method",
                "start_line": 2553,
                "end_line": 2567,
                "line_count": 15,
                "signature": "MOZ_CAN_RUN_SCRIPT_BOUNDARY void ScriptLoader::FireScriptEvaluated( nsresult aResult, ScriptLoadRequest* aRequest) { for (int32_t i = 0; i < mObservers.Count(); i++) {"
              },
              {
                "name": "GetGlobalForRequest",
                "type": "method",
                "start_line": 2569,
                "end_line": 2579,
                "line_count": 11,
                "signature": "already_AddRefed<nsIGlobalObject> ScriptLoader::GetGlobalForRequest( ScriptLoadRequest* aRequest) { if (aRequest->IsModuleRequest()) {"
              },
              {
                "name": "GetScriptGlobalObject",
                "type": "method",
                "start_line": 2581,
                "end_line": 2601,
                "line_count": 21,
                "signature": "already_AddRefed<nsIScriptGlobalObject> ScriptLoader::GetScriptGlobalObject() { if (!mDocument) { return nullptr;"
              },
              {
                "name": "ApplyEagerBaselineStrategy",
                "type": "function",
                "start_line": 2603,
                "end_line": 2627,
                "line_count": 25,
                "signature": "static void ApplyEagerBaselineStrategy(JS::CompileOptions* aOptions) { uint32_t strategyIndex = StaticPrefs:: javascript_options_baselinejit_offthread_compilation_strategy();"
              },
              {
                "name": "FillCompileOptionsForRequest",
                "type": "method",
                "start_line": 2629,
                "end_line": 2690,
                "line_count": 62,
                "signature": "nsresult ScriptLoader::FillCompileOptionsForRequest( JSContext* aCx, ScriptLoadRequest* aRequest, JS::CompileOptions* aOptions, JS::MutableHandle<JSScript*> aIntroductionScript) {"
              },
              {
                "name": "CalculateCacheFlag",
                "type": "method",
                "start_line": 2692,
                "end_line": 2848,
                "line_count": 157,
                "signature": "void ScriptLoader::CalculateCacheFlag(ScriptLoadRequest* aRequest) { using mozilla::TimeDuration; using mozilla::TimeStamp;"
              },
              {
                "name": "ExecuteCompiledScript",
                "type": "function",
                "start_line": 2863,
                "end_line": 2879,
                "line_count": 17,
                "signature": "static void ExecuteCompiledScript(JSContext* aCx, ClassicScript* aLoaderScript, JS::Handle<JSScript*> aScript, ErrorResult& aRv) {"
              },
              {
                "name": "EvaluateScriptElement",
                "type": "method",
                "start_line": 2881,
                "end_line": 2963,
                "line_count": 83,
                "signature": "nsresult ScriptLoader::EvaluateScriptElement(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); "
              },
              {
                "name": "Decode",
                "type": "function",
                "start_line": 2966,
                "end_line": 2983,
                "line_count": 18,
                "signature": "static void Decode(JSContext* aCx, JS::CompileOptions& aCompileOptions, const JS::TranscodeRange& aBytecodeBuf, RefPtr<JS::Stencil>& aStencil, ErrorResult& aRv) {"
              },
              {
                "name": "InstantiateStencil",
                "type": "function",
                "start_line": 2990,
                "end_line": 3033,
                "line_count": 44,
                "signature": "static void InstantiateStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, JS::Stencil* aStencil, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromMaybeEncodedSource",
                "type": "method",
                "start_line": 3035,
                "end_line": 3148,
                "line_count": 114,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromMaybeEncodedSource( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "InstantiateClassicScriptFromCachedStencil",
                "type": "method",
                "start_line": 3150,
                "end_line": 3180,
                "line_count": 31,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromCachedStencil( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::Stencil* aStencil,"
              },
              {
                "name": "InstantiateClassicScriptFromAny",
                "type": "method",
                "start_line": 3182,
                "end_line": 3204,
                "line_count": 23,
                "signature": "void ScriptLoader::InstantiateClassicScriptFromAny( JSContext* aCx, JS::CompileOptions& aCompileOptions, ScriptLoadRequest* aRequest, JS::MutableHandle<JSScript*> aScript,"
              },
              {
                "name": "GetCacheBehavior",
                "type": "method",
                "start_line": 3206,
                "end_line": 3247,
                "line_count": 42,
                "signature": "ScriptLoader::CacheBehavior ScriptLoader::GetCacheBehavior( ScriptLoadRequest* aRequest) { if (!mCache) {"
              },
              {
                "name": "TryCacheRequest",
                "type": "method",
                "start_line": 3249,
                "end_line": 3280,
                "line_count": 32,
                "signature": "void ScriptLoader::TryCacheRequest(ScriptLoadRequest* aRequest, RefPtr<JS::Stencil>& aStencil) { CacheBehavior cacheBehavior = GetCacheBehavior(aRequest);"
              },
              {
                "name": "MaybePrepareForCacheBeforeExecute",
                "type": "method",
                "start_line": 3290,
                "end_line": 3297,
                "line_count": 8,
                "signature": "void ScriptLoader::MaybePrepareForCacheBeforeExecute( ScriptLoadRequest* aRequest, JS::Handle<JSScript*> aScript) { if (!aRequest->PassedConditionForEitherCache()) {"
              },
              {
                "name": "MaybePrepareForCacheAfterExecute",
                "type": "method",
                "start_line": 3299,
                "end_line": 3328,
                "line_count": 30,
                "signature": "nsresult ScriptLoader::MaybePrepareForCacheAfterExecute( ScriptLoadRequest* aRequest, nsresult aRv) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "IsAlreadyHandledForCachePreparation",
                "type": "method",
                "start_line": 3330,
                "end_line": 3334,
                "line_count": 5,
                "signature": "bool ScriptLoader::IsAlreadyHandledForCachePreparation( ScriptLoadRequest* aRequest) { MOZ_ASSERT_IF(aRequest->isInList(), mCachingQueue.Contains(aRequest));"
              },
              {
                "name": "MaybePrepareModuleForCacheBeforeExecute",
                "type": "method",
                "start_line": 3336,
                "end_line": 3358,
                "line_count": 23,
                "signature": "void ScriptLoader::MaybePrepareModuleForCacheBeforeExecute( JSContext* aCx, ModuleLoadRequest* aRequest) { if (aRequest->IsMarkedForEitherCache()) {"
              },
              {
                "name": "MaybePrepareModuleForCacheAfterExecute",
                "type": "method",
                "start_line": 3360,
                "end_line": 3387,
                "line_count": 28,
                "signature": "nsresult ScriptLoader::MaybePrepareModuleForCacheAfterExecute( ModuleLoadRequest* aRequest, nsresult aRv) { if (IsAlreadyHandledForCachePreparation(aRequest)) {"
              },
              {
                "name": "EvaluateScript",
                "type": "method",
                "start_line": 3389,
                "end_line": 3499,
                "line_count": 111,
                "signature": "nsresult ScriptLoader::EvaluateScript(nsIGlobalObject* aGlobalObject, ScriptLoadRequest* aRequest) { nsAutoMicroTask mt;"
              },
              {
                "name": "RegisterForCache",
                "type": "method",
                "start_line": 3511,
                "end_line": 3517,
                "line_count": 7,
                "signature": "void ScriptLoader::RegisterForCache(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsMarkedForEitherCache()); MOZ_ASSERT_IF(aRequest->IsMarkedForDiskCache(),"
              },
              {
                "name": "LoadEventFired",
                "type": "method",
                "start_line": 3519,
                "end_line": 3522,
                "line_count": 4,
                "signature": "void ScriptLoader::LoadEventFired() { mLoadEventFired = true; MaybeUpdateCache();"
              },
              {
                "name": "Destroy",
                "type": "method",
                "start_line": 3524,
                "end_line": 3532,
                "line_count": 9,
                "signature": "void ScriptLoader::Destroy() { if (mShutdownObserver) { mShutdownObserver->Unregister();"
              },
              {
                "name": "MaybeUpdateCache",
                "type": "method",
                "start_line": 3534,
                "end_line": 3577,
                "line_count": 44,
                "signature": "void ScriptLoader::MaybeUpdateCache() { // If we already gave up, ensure that we are not going to enqueue any script, // and that we finalize them properly."
              },
              {
                "name": "FinishCollectingDelazifications",
                "type": "method",
                "start_line": 3630,
                "end_line": 3651,
                "line_count": 22,
                "signature": "already_AddRefed<JS::Stencil> ScriptLoader::FinishCollectingDelazifications( JSContext* aCx, ScriptLoadRequest* aRequest) { RefPtr<JS::Stencil> stencil;"
              },
              {
                "name": "GiveUpCaching",
                "type": "method",
                "start_line": 3737,
                "end_line": 3782,
                "line_count": 46,
                "signature": "void ScriptLoader::GiveUpCaching() { // If the document went away prematurely, we still want to set this, in order // to avoid queuing more scripts."
              },
              {
                "name": "HasPendingRequests",
                "type": "method",
                "start_line": 3784,
                "end_line": 3791,
                "line_count": 8,
                "signature": "bool ScriptLoader::HasPendingRequests() const { return mParserBlockingRequest || !mXSLTRequests.isEmpty() || !mLoadedAsyncRequests.isEmpty() ||"
              },
              {
                "name": "HasPendingDynamicImports",
                "type": "method",
                "start_line": 3793,
                "end_line": 3811,
                "line_count": 19,
                "signature": "bool ScriptLoader::HasPendingDynamicImports() const { if (mModuleLoader && mModuleLoader->HasPendingDynamicImports()) { return true;"
              },
              {
                "name": "ProcessPendingRequestsAsync",
                "type": "method",
                "start_line": 3813,
                "end_line": 3824,
                "line_count": 12,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsync() { if (HasPendingRequests()) { nsCOMPtr<nsIRunnable> task = NewRunnableMethod<bool>("
              },
              {
                "name": "ProcessPendingRequestsCallback",
                "type": "function",
                "start_line": 3826,
                "end_line": 3829,
                "line_count": 4,
                "signature": "void ProcessPendingRequestsCallback(nsITimer* aTimer, void* aClosure) { RefPtr<ScriptLoader> sl = static_cast<ScriptLoader*>(aClosure); sl->ProcessPendingRequests(true);"
              },
              {
                "name": "ProcessPendingRequestsAsyncBypassParserBlocking",
                "type": "method",
                "start_line": 3831,
                "end_line": 3844,
                "line_count": 14,
                "signature": "void ScriptLoader::ProcessPendingRequestsAsyncBypassParserBlocking() { MOZ_ASSERT(HasPendingRequests()); "
              },
              {
                "name": "ProcessPendingRequests",
                "type": "method",
                "start_line": 3846,
                "end_line": 3928,
                "line_count": 83,
                "signature": "void ScriptLoader::ProcessPendingRequests(bool aAllowBypassingParserBlocking) { RefPtr<ScriptLoadRequest> request; "
              },
              {
                "name": "ReadyToExecuteParserBlockingScripts",
                "type": "method",
                "start_line": 3930,
                "end_line": 3953,
                "line_count": 24,
                "signature": "bool ScriptLoader::ReadyToExecuteParserBlockingScripts() { // Make sure the SelfReadyToExecuteParserBlockingScripts check is first, so // that we don't block twice on an ancestor."
              },
              {
                "name": "ConvertToUnicode",
                "type": "function",
                "start_line": 3956,
                "end_line": 4033,
                "line_count": 78,
                "signature": "static nsresult ConvertToUnicode(nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset,"
              },
              {
                "name": "ConvertToUTF16",
                "type": "method",
                "start_line": 4036,
                "end_line": 4047,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF16( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "ConvertToUTF8",
                "type": "method",
                "start_line": 4050,
                "end_line": 4061,
                "line_count": 12,
                "signature": "nsresult ScriptLoader::ConvertToUTF8( nsIChannel* aChannel, const uint8_t* aData, uint32_t aLength, const nsAString& aHintCharset, Document* aDocument,"
              },
              {
                "name": "OnStreamComplete",
                "type": "method",
                "start_line": 4063,
                "end_line": 4103,
                "line_count": 41,
                "signature": "nsresult ScriptLoader::OnStreamComplete( nsIIncrementalStreamLoader* aLoader, ScriptLoadRequest* aRequest, nsresult aChannelStatus, nsresult aSRIStatus,"
              },
              {
                "name": "VerifySRI",
                "type": "method",
                "start_line": 4105,
                "end_line": 4131,
                "line_count": 27,
                "signature": "nsresult ScriptLoader::VerifySRI(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aSRIStatus,"
              },
              {
                "name": "SaveSRIHash",
                "type": "method",
                "start_line": 4133,
                "end_line": 4189,
                "line_count": 57,
                "signature": "nsresult ScriptLoader::SaveSRIHash( ScriptLoadRequest* aRequest, SRICheckDataVerifier* aSRIDataVerifier) const { MOZ_ASSERT(aRequest->IsSource());"
              },
              {
                "name": "ReportErrorToConsole",
                "type": "method",
                "start_line": 4191,
                "end_line": 4236,
                "line_count": 46,
                "signature": "void ScriptLoader::ReportErrorToConsole(ScriptLoadRequest* aRequest, nsresult aResult) const { MOZ_ASSERT(aRequest);"
              },
              {
                "name": "ReportWarningToConsole",
                "type": "method",
                "start_line": 4238,
                "end_line": 4249,
                "line_count": 12,
                "signature": "void ScriptLoader::ReportWarningToConsole( ScriptLoadRequest* aRequest, const char* aMessageName, const nsTArray<nsString>& aParams) const {"
              },
              {
                "name": "ReportPreloadErrorsToConsole",
                "type": "method",
                "start_line": 4251,
                "end_line": 4261,
                "line_count": 11,
                "signature": "void ScriptLoader::ReportPreloadErrorsToConsole(ScriptLoadRequest* aRequest) { if (NS_FAILED(aRequest->GetScriptLoadContext()->mUnreportedPreloadError)) { ReportErrorToConsole("
              },
              {
                "name": "HandleLoadError",
                "type": "method",
                "start_line": 4263,
                "end_line": 4353,
                "line_count": 91,
                "signature": "void ScriptLoader::HandleLoadError(ScriptLoadRequest* aRequest, nsresult aResult) { /*"
              },
              {
                "name": "HandleLoadErrorAndProcessPendingRequests",
                "type": "method",
                "start_line": 4355,
                "end_line": 4360,
                "line_count": 6,
                "signature": "void ScriptLoader::HandleLoadErrorAndProcessPendingRequests( ScriptLoadRequest* aRequest, nsresult aResult) { HandleLoadError(aRequest, aResult);"
              },
              {
                "name": "UnblockParser",
                "type": "method",
                "start_line": 4362,
                "end_line": 4364,
                "line_count": 3,
                "signature": "void ScriptLoader::UnblockParser(ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->UnblockParser(); }"
              },
              {
                "name": "ContinueParserAsync",
                "type": "method",
                "start_line": 4366,
                "end_line": 4369,
                "line_count": 4,
                "signature": "void ScriptLoader::ContinueParserAsync( ScriptLoadRequest* aParserBlockingRequest) { aParserBlockingRequest->GetScriptLoadContext()->ContinueParserAsync();"
              },
              {
                "name": "NumberOfProcessors",
                "type": "method",
                "start_line": 4371,
                "end_line": 4381,
                "line_count": 11,
                "signature": "uint32_t ScriptLoader::NumberOfProcessors() { if (mNumberOfProcessors > 0) { return mNumberOfProcessors;"
              },
              {
                "name": "PhysicalSizeOfMemoryInGB",
                "type": "method",
                "start_line": 4383,
                "end_line": 4394,
                "line_count": 12,
                "signature": "int32_t ScriptLoader::PhysicalSizeOfMemoryInGB() { // 0 is a valid result from PR_GetPhysicalMemorySize() which // means a failure occured."
              },
              {
                "name": "ShouldApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4396,
                "end_line": 4428,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldApplyDelazifyStrategy(ScriptLoadRequest* aRequest) { // Full parse everything if negative. if (StaticPrefs::dom_script_loader_delazification_max_size() < 0) {"
              },
              {
                "name": "ApplyDelazifyStrategy",
                "type": "method",
                "start_line": 4430,
                "end_line": 4460,
                "line_count": 31,
                "signature": "void ScriptLoader::ApplyDelazifyStrategy(JS::CompileOptions* aOptions) { JS::DelazificationOption strategy = JS::DelazificationOption::ParseEverythingEagerly;"
              },
              {
                "name": "ShouldCompileOffThread",
                "type": "method",
                "start_line": 4462,
                "end_line": 4494,
                "line_count": 33,
                "signature": "bool ScriptLoader::ShouldCompileOffThread(ScriptLoadRequest* aRequest) { if (NumberOfProcessors() <= 1) { return false;"
              },
              {
                "name": "MimeTypeMatchesExpectedModuleType",
                "type": "function",
                "start_line": 4496,
                "end_line": 4514,
                "line_count": 19,
                "signature": "static bool MimeTypeMatchesExpectedModuleType( nsIChannel* aChannel, JS::ModuleType expectedModuleType) { nsAutoCString mimeType;"
              },
              {
                "name": "PrepareLoadedRequest",
                "type": "method",
                "start_line": 4516,
                "end_line": 4651,
                "line_count": 136,
                "signature": "nsresult ScriptLoader::PrepareLoadedRequest(ScriptLoadRequest* aRequest, nsIIncrementalStreamLoader* aLoader, nsresult aStatus) {"
              },
              {
                "name": "DeferCheckpointReached",
                "type": "method",
                "start_line": 4653,
                "end_line": 4662,
                "line_count": 10,
                "signature": "void ScriptLoader::DeferCheckpointReached() { if (mDeferEnabled) { // Have to check because we apparently get ParsingComplete"
              },
              {
                "name": "ParsingComplete",
                "type": "method",
                "start_line": 4664,
                "end_line": 4671,
                "line_count": 8,
                "signature": "void ScriptLoader::ParsingComplete(bool aTerminated) { if (aTerminated) { CancelAndClearScriptLoadRequests();"
              },
              {
                "name": "PreloadURI",
                "type": "method",
                "start_line": 4673,
                "end_line": 4750,
                "line_count": 78,
                "signature": "void ScriptLoader::PreloadURI( nsIURI* aURI, const nsAString& aCharset, const nsAString& aType, const nsAString& aCrossOrigin, const nsAString& aNonce,"
              },
              {
                "name": "AddDeferRequest",
                "type": "method",
                "start_line": 4752,
                "end_line": 4766,
                "line_count": 15,
                "signature": "void ScriptLoader::AddDeferRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsDeferredScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "AddAsyncRequest",
                "type": "method",
                "start_line": 4768,
                "end_line": 4780,
                "line_count": 13,
                "signature": "void ScriptLoader::AddAsyncRequest(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->GetScriptLoadContext()->IsAsyncScript()); MOZ_ASSERT(!aRequest->GetScriptLoadContext()->mInDeferList &&"
              },
              {
                "name": "MaybeMoveToLoadedList",
                "type": "method",
                "start_line": 4782,
                "end_line": 4802,
                "line_count": 21,
                "signature": "void ScriptLoader::MaybeMoveToLoadedList(ScriptLoadRequest* aRequest) { MOZ_ASSERT(aRequest->IsFinished()); MOZ_ASSERT(aRequest->IsTopLevel());"
              },
              {
                "name": "MaybeRemovedDeferRequests",
                "type": "method",
                "start_line": 4804,
                "end_line": 4811,
                "line_count": 8,
                "signature": "bool ScriptLoader::MaybeRemovedDeferRequests() { if (mDeferRequests.isEmpty() && mDocument && mBlockingDOMContentLoaded) { mBlockingDOMContentLoaded = false;"
              },
              {
                "name": "BeginDeferringScripts",
                "type": "method",
                "start_line": 4815,
                "end_line": 4830,
                "line_count": 16,
                "signature": "void ScriptLoader::BeginDeferringScripts() { if (mDeferEnabled || mDeferCheckpointReached) { // We already started loading. Now, document.open() happened and we're doing"
              },
              {
                "name": "nsAutoScriptLoaderDisabler",
                "type": "method",
                "start_line": 4832,
                "end_line": 4838,
                "line_count": 7,
                "signature": "nsAutoScriptLoaderDisabler::nsAutoScriptLoaderDisabler(Document* aDoc) { mLoader = aDoc->ScriptLoader(); mWasEnabled = mLoader->GetEnabled();"
              }
            ]
          },
          "hunks_count": 3,
          "hunk_ranges": [
            "@@ -3608,11 @@",
            "@@ -3622,8 @@",
            "@@ -3654,7 @@"
          ]
        }
      ]
    }
  ],
  "summary": {
    "total_files": 1,
    "total_commits": 3,
    "diffs_found": 3,
    "methods_fully_modified": 0,
    "methods_partially_modified": 4,
    "methods_unmodified": 422
  }
}